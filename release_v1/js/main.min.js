var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i},qmr;!function(e){var t=function(){function e(){this.dy=0,this._touchEnable=!1,this._isFocus=!1,this._isMaster=!1,this.id={},this.range=0,this._isRobot=!1,this._screenPoint=new egret.Point}return Object.defineProperty(e.prototype,"isFocus",{get:function(){return this._isFocus},set:function(e){this._isFocus=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,null!=this._ui&&(this._ui.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,null!=this._ui&&(this._ui.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._ui?this._ui.rotation:1},set:function(e){null!=this._ui&&(this._ui.rotation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},set:function(e){this._ui=e,this._ui&&(this._ui.x=this.x,this._ui.y=this.y,this._ui.touchEnabled=this._touchEnable)},enumerable:!0,configurable:!0}),e.prototype.isPixelClick=function(e,t){return this.ui&&this.ui.hitTestPoint(e,t)?!0:!1},Object.defineProperty(e.prototype,"sortY",{get:function(){return this._y+this.dy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{set:function(e){this._ui&&(this._ui.filters=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.ui?this.ui.alpha:1},set:function(e){this.ui&&(this.ui.alpha=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchEnabled",{set:function(e){this._touchEnable=e,this._ui&&(this._ui.touchEnabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._ui?this._ui.visible:!1},set:function(e){this._ui&&(this._ui.visible=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenPoint",{get:function(){return this._ui&&this._ui.parent&&this._ui.parent.localToGlobal(this._x,this._y,this._screenPoint),this._screenPoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMaster",{get:function(){return this._isMaster},set:function(e){this._isMaster=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isQiyue",{get:function(){return this._isQiyue},set:function(e){this._isQiyue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRobot",{get:function(){return this._isRobot},set:function(e){this._isRobot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRobotMonster",{get:function(){return this._isRobotMonster},set:function(e){this._isRobotMonster=e},enumerable:!0,configurable:!0}),e.prototype.isInView=function(e){},e.prototype.dispos=function(){this._isFocus=!1,this.id=0,this._ui&&(this._ui.filters=null,this._ui.dispos?this._ui.dispos():this._ui.parent&&this._ui.parent.removeChild(this._ui))},e}();e.BaseObject=t,__reflect(t.prototype,"qmr.BaseObject")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.moveScale=1,i.speed=15,i.moveScale=1,i.dir=e.DirUtil.RIGHT,i.isMoving=!1,i}return __extends(i,t),i.prototype.moveTo=function(t,i,n,o,r){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=1);var a=this;a.onGo(),a.destX=Math.floor(t),a.destY=Math.floor(i),a.onArrival=n,a.thisObject=o,a.nearDiatance=r,a.disx=a.destX-a.x,a.disy=a.destY-a.y,a.distance=Math.sqrt(a.disx*a.disx+a.disy*a.disy),a.vx=a.disx/a.distance*a.speed*a.moveScale,a.vx=Math.floor(a.vx),a.vy=a.disy/a.distance*a.speed*a.moveScale,a.vy=Math.floor(a.vy),e.Ticker.getInstance().unRegisterTick(a.enterFrameMove,a),e.Ticker.getInstance().registerTick(a.enterFrameMove,a,33)},i.prototype.enterFrameMove=function(){var t=this;return t.disx=t.destX-t.x,t.disy=t.destY-t.y,t.distance=Math.sqrt(t.disx*t.disx+t.disy*t.disy),t.distance<5||t.distance<=t.nearDiatance?(t.x!=t.destX&&(t.x=t.destX),t.y!=t.destY&&(t.y=t.destY),e.Ticker.getInstance().unRegisterTick(this.enterFrameMove,this),t.onStop(),void(t.onArrival&&t.onArrival.call(t.thisObject))):(Math.abs(t.x-t.destX)<Math.abs(t.vx)&&(t.vx=t.destX-t.x),Math.abs(t.y-t.destY)<Math.abs(t.vy)&&(t.vy=t.destY-t.y),0!=t.vx&&(t.x+=t.vx),0!=t.vy&&(t.y+=t.vy),void t.onMoving())},i.prototype.stop=function(){this.onStop(),e.Ticker.getInstance().unRegisterTick(this.enterFrameMove,this)},i.prototype.onGo=function(){},i.prototype.onStop=function(){},i.prototype.onMoving=function(){},i.prototype.getDir=function(){return this.dir},i.prototype.dispos=function(){var i=this;i.isMoving=!1,e.Ticker.getInstance().unRegisterTick(i.enterFrameMove,i),t.prototype.dispos.call(this)},i}(e.BaseObject);e.BaseMover=t,__reflect(t.prototype,"qmr.BaseMover")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.speed=30,e.isMoving=!1,e}return __extends(i,t),i.prototype.moveTo=function(t,i,n,o,r,a){void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=0),this.destX=t,this.destY=i,this.onArrival=n,this.thisObject=o,this.argArray=r,this.nearDiatance=a,e.FightTimer.instance.unRegisterTick(this.enterFrameMove,this),e.FightTimer.instance.registerTick(this.enterFrameMove,this,33)},i.prototype.enterFrameMove=function(){var t=this;return t.disx=t.destX-t.x,t.disy=t.destY-t.y,t.distance=Math.sqrt(t.disx*t.disx+t.disy*t.disy),t.distance<5||t.distance<t.nearDiatance?(t.x!=t.destX&&(t.x=t.destX),t.y!=t.destY&&(t.y=t.destY),e.FightTimer.instance.unRegisterTick(this.enterFrameMove,this),t.onStop(),void(t.onArrival&&t.onArrival.call(t.thisObject,this.argArray))):(t.disx=t.disx/t.distance*t.speed,t.disy=t.disy/t.distance*t.speed,t.vx=t.disx,t.vy=t.disy,Math.abs(t.x-t.destX)<Math.abs(t.vx)&&(t.vx=t.destX-t.x),Math.abs(t.y-t.destY)<Math.abs(t.vy)&&(t.vy=t.destY-t.y),t.x+=t.vx,void(t.y+=t.vy))},i.prototype.stop=function(){this.onStop(),e.FightTimer.instance.unRegisterTick(this.enterFrameMove,this)},i.prototype.onStop=function(){},i.prototype.dispos=function(){this.stop(),this.isMoving=!1,this.onArrival=null,this.argArray=null,this.thisObject=null},i}(egret.DisplayObjectContainer);e.BaseEffectMover=t,__reflect(t.prototype,"qmr.BaseEffectMover")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.maxHp=0,e.curHp=0,e.controllerDic={},e.isCanMove=!0,e.actorContainer=new egret.DisplayObjectContainer,e.actorContainer.touchChildren=!1,e.container=new egret.DisplayObjectContainer,e.ui=e.actorContainer,e.ui.touchEnabled=!0,e.actorContainer.addChild(e.container),e.initController(),e}return __extends(i,t),i.prototype.initController=function(){var t=this;t.controllerDic[e.Status.IDLE]=new e.HeroIdleController(t),t.controllerDic[e.Status.MOVE]=new e.HeroMoveController(t),t.controllerDic[e.Status.SKILL]=new e.HeroSkillController(t),t.controllerDic[e.Status.SKILL2]=new e.HeroSkillController(t),t.controllerDic[e.Status.ATTACK]=new e.HeroAttackController(t),t.controllerDic[e.Status.ATTACK2]=new e.HeroAttack2Controller(t),t.controllerDic[e.Status.DEAD]=new e.HeroDeadController(t),t.controllerDic[e.Status.FLY]=new e.HeroFlyController(t),t.currentController=t.controllerDic[e.Status.IDLE]},Object.defineProperty(i.prototype,"anchorOffsetX",{get:function(){return this.container.anchorOffsetX},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"anchorOffsetY",{get:function(){return this.container.anchorOffsetY},enumerable:!0,configurable:!0}),i.prototype.getContainer=function(){return this.actorContainer},i.prototype.addToCardAndActor=function(e){var t=this.container.getChildIndex(this.baseActor);this.addChildAt(e,t)},i.prototype.addChild=function(e){this.container.addChild(e)},i.prototype.addChildAt=function(e,t){this.container.addChildAt(e,t)},i.prototype.useSkill=function(t,i,n){this.stop();var o=e.SkillFactory.getSkillProxy(this,t,i,n);o&&o.releaseSkill(),this.changeStatus(e.Status.SKILL,!0)},i.prototype.catcheState=function(e,t){},i.prototype.onPlayMove=function(){this.pause(),this.container.x=this.container.y=0;var t=1;e.TweenEffectUtil.walk(this.container,!0,15,40+60/t)},i.prototype.onMoveStop=function(){this.stop(),this.updatePos(),this.resume(),e.TweenEffectUtil.stopWalk(this.container,40)},i.prototype.updatePos=function(){},i.prototype.onPlayDead=function(){egret.Tween.get(this).to({alpha:.1,x:this.x-15},100).call(this.onRemove,this),e.EffectPlayer.playEffect(EffectConst.ACTOR_DIE_EFFECT,this,-1,this.timeScale,!0)},i.prototype.onRemove=function(){e.LogUtil.logF("角色死亡。。移除"),e.SceneManager.instance.removeBaseObject(this)},i.prototype.onPlayIdle=function(){this.container.rotation=0,this.baseActor&&this.baseActor.gotoAndPlay(e.Status.IDLE,-1),this.resume()},i.prototype.onPlayCast=function(){},i.prototype.onPlayAtk=function(){this.container.x=this.container.y=0;var t=1;e.TweenEffectUtil.attack(this.container,40,50+100/t)},i.prototype.onPlayAtk2=function(){this.container.x=this.container.y=0;var t=1;e.TweenEffectUtil.attack2(this.container,50+150/t)},i.prototype.onPlayHit=function(){this.container.x=this.container.y=0,e.TweenEffectUtil.playHit(this.container,70,20)},i.prototype.updateEffectTimeScale=function(){},i.prototype.onStop=function(){this.isMoving=!1,this.resume(),this.changeStatus(e.Status.IDLE,!0)},i.prototype.onGo=function(){this.isMoving=!0,this.pause()},i.prototype.pause=function(){this.baseActor&&this.baseActor.setIsStopped(!0),this.setBuffIsStopped(!0)},i.prototype.resume=function(){this.baseActor&&this.baseActor.setIsStopped(!1),this.setBuffIsStopped(!1)},i.prototype.setBuffIsStopped=function(e){},i.prototype.delayBackPos=function(t){e.FightTimer.instance.unRegisterTick(this.onBackPos,this),e.FightTimer.instance.registerTick(this.onBackPos,this,t,1)},i.prototype.onBackPos=function(){this.container.rotation=0,e.LogUtil.logF("延迟返回原来位置"),this.resume()},i.prototype.onSkilReleaselOver=function(){this.changeStatus(e.Status.IDLE,!0)},i.prototype.setActorScale=function(e){this.baseActor&&(this.baseActor.scaleX=this.baseActor.scaleY=e)},i.prototype.changeStatus=function(e,t){void 0===t&&(t=!1),this.baseActor.gotoAndPlay(e,this.dir)},i.prototype.addPartAt=function(e,t,i,n){void 0===i&&(i=-1),void 0===n&&(n=-1),this.baseActor&&this.baseActor.addPartAt(e,t,i,n)},i.prototype.addScaleYoyo=function(){this.baseActor&&e.TweenEffectUtil.breathe(this.baseActor,0,5e3,null,!0)},i.prototype.removeScaleYoyo=function(){egret.Tween.removeTweens(this.baseActor)},i.prototype.removePart=function(e){this.baseActor&&this.baseActor.removePart(e)},i.prototype.getPartTexture=function(t){return void 0===t&&(t=e.ActorPart.BODY),this.baseActor.getPart(t)},i.prototype.setPartVisible=function(e,t){return this.baseActor.setPartVisible(e,t)},Object.defineProperty(i.prototype,"timeScale",{get:function(){return this.baseActor?this.baseActor.timeScale:1},set:function(e){this.baseActor&&(this.baseActor.timeScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCanResetPos",{get:function(){return this.lastStatus==e.Status.ATTACK2||this.lastStatus==e.Status.MOVE||this.lastStatus==e.Status.FLY?!1:!0},enumerable:!0,configurable:!0}),i.prototype.onDead=function(t){void 0===t&&(t=null),this.stop(),this.curHp=0,this.removeBuff(),this.changeStatus(e.Status.DEAD)},i.prototype.removeBuff=function(){},i.prototype.clearActor=function(){this.baseActor&&this.baseActor.dispos(!1)},i.prototype.dispos=function(){var i=this;i.curHp=0,i.timeScale=1,egret.Tween.removeTweens(i.baseActor),egret.Tween.removeTweens(i.container),e.FightTimer.instance.unRegisterTick(i.onBackPos,i),i.container.rotation=0,i.container.x=i.container.y=0,i.setActorScale(1),i.container.scaleX=i.container.scaleY=1,null!=i.currentController&&i.currentController.cancelExcute(),i.clearActor(),t.prototype.dispos.call(this)},i}(e.BaseMover);e.BaseMoverActor=t,__reflect(t.prototype,"qmr.BaseMoverActor")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(e){this.moverActor=e}return e.prototype.excute=function(){},e.prototype.cancelExcute=function(){},e.prototype.check=function(){},e.prototype.clearController=function(){},e}();e.BaseMoverActorController=t,__reflect(t.prototype,"qmr.BaseMoverActorController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){this._t=0,this.mulitHuttFunc=[this.showHit1,this.showHit2,this.showHit3,this.showHit4,this.showHit5]}return t.prototype.setSkillId=function(t,i){void 0===i&&(i=null),this.skillId=t,this.skillEffectCfg=i?i:e.SkillModel.instance.getSkillEffectDataBySkillId(t),this.canShowEffect=null!=this.skillEffectCfg,this.isShake=this.canShowEffect?this.skillEffectCfg.shake:0},t.prototype.setTargetList=function(t){this.targetList=[],this.targetFighterMsg=t.concat();for(var i,n=t.length,o=0;n>o;o++)i=t[o],this.targetList[o]=e.SceneManager.instance.getBaseObjectByid(i.fighterId)},t.prototype.addTempEffect=function(e){null==this.tempEffectList&&(this.tempEffectList=[]),this.tempEffectList.push(e)},Object.defineProperty(t.prototype,"timeScale",{get:function(){return this.owner?this.owner.timeScale:1},enumerable:!0,configurable:!0}),t.prototype.setOwner=function(e){this.owner=e},t.prototype.releaseSkill=function(){this.checkShowShake()},t.prototype.checkShowShake=function(){var t=this,i=t.skillEffectCfg;if(i&&i.shakeTimePoint){var n=i.shakeTimePoint/t.timeScale;n>0&&e.FightTimer.instance.registerTick(t.showShake,t,n,1,i.shakeTime/t.timeScale)}},t.prototype.showShake=function(t){void 0===t&&(t=200),e.SceneManager.instance.shake(t)},t.prototype.onReleaseSkillEffect=function(){},t.prototype.showHit1=function(e){var t=this.getIsPlayEnd(1);this.onShowHitEffect(e,t)},t.prototype.showHit2=function(e){var t=this.getIsPlayEnd(2);this.onShowHitEffect(e,t)},t.prototype.showHit3=function(e){var t=this.getIsPlayEnd(3);this.onShowHitEffect(e,t)},t.prototype.showHit4=function(e){var t=this.getIsPlayEnd(4);this.onShowHitEffect(e,t)},t.prototype.showHit5=function(e){var t=this.getIsPlayEnd(5);this.onShowHitEffect(e,t)},t.prototype.getIsPlayEnd=function(e){return this.mulitCount==e},t.prototype.onShowHitEffect=function(e,t){void 0===e&&(e=1),void 0===t&&(t=!0)},t.prototype.recycleSkill=function(){var t=this;t.owner=null,t.canShowEffect=!1,t.targetList.length=0,t.targetFighterMsg.length=0,t.removeCaseEffect(),t.removeShowEffect(),t.removeAllTempEffect();for(var i=t.mulitHuttFunc.length,n=0;i>n;n++)e.FightTimer.instance.unRegisterTick(t.mulitHuttFunc[n],t);e.FightTimer.instance.unRegisterTick(t.showShake,t),e.SceneManager.instance.removeShake()},t.prototype.removeCaseEffect=function(){this.caseEffect&&(this.caseEffect.dispos(),this.caseEffect=null)},t.prototype.removeShowEffect=function(){this.showEffect&&(this.showEffect.dispos(),this.showEffect=null)},t.prototype.removeAllTempEffect=function(){this.tempEffectList&&(this.tempEffectList.forEach(function(e){e&&e.dispos()}),this.tempEffectList.length=0)},t}();e.BaseSkillProxy=t,__reflect(t.prototype,"qmr.BaseSkillProxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(e.BaseNotify);e.BaseModel=t,__reflect(t.prototype,"qmr.BaseModel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.showTxtNames=[],e}return __extends(i,t),i.prototype.initListener=function(){var i=this;i.registerNotify(e.StageUtil.STAGE_RESIZE,i.onStageResize,i),i.registerNotify(e.NotifyConstLogin.CLOSE_PANEL_LAYER,i.onTabViewGuide,i),i.registerNotify(e.NotifyConst.TAB_VIEW_GUIDE,i.onTabViewGuide,i),i.registerNotify(e.NotifyConst.SWITCH_LANGUAGE,i.switchLange,i);var n=i.btnReturn;n&&i.addClickEvent(n,i.onPageBgCloseView,i);var o=i.btnClose;o&&i.addClickEvent(o,i.onPageBgCloseView,i),i.panelBg&&(o=i.panelBg.btnClose,o&&i.addClickEvent(o,i.onPageBgCloseView,i));var r=i.btn_help;r&&i.addClickEvent(r,i.showHelpView,i),t.prototype.initListener.call(this)},i.prototype.initData=function(){t.prototype.initData.call(this),this.updateTitle(this.title,this.ruleId),this.switchLange()},i.prototype.onTabViewGuide=function(){},i.prototype.showHelpView=function(){var t=this;t.helpId&&e.ModuleManager.showModule(e.ModuleNameConst.HELP_TIP_VIEW,t.helpId)},i.prototype.switchLange=function(){for(var t,i=this,n=i.showTxtNames.length,o=0;n>o;o++)t=i.showTxtNames[o],i[t]&&(i[t].text=e.LabelUtil.getCNMessage(t))},i}(e.SuperBaseModule);e.BaseModule=t,__reflect(t.prototype,"qmr.BaseModule")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.TIP_1=1,e.TIP_2=2,e.TIP_3=3,e.TIP_4=4,e.TIP_5=5,e.TIP_6=6,e.TIP_7=7,e.TIP_8=8,e.TIP_9=9,e.TIP_15=15,e}();e.HelpIdEnum=t,__reflect(t.prototype,"qmr.HelpIdEnum")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){this._effectDic=new e.Dictionary}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getEffectData=function(t){if(!isNaN(t)&&t>0){if(this._effectDic.has(t))return this._effectDic.get(t);var i=e.ConfigManager.getConf(e.ConfigEnum.EFFECTDATA,t);return null!=i&&this._effectDic.set(t,i),i}return null},t}();e.EffectModel=t,__reflect(t.prototype,"qmr.EffectModel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.playEffect=function(t,i,n,o,r,a,s){void 0===o&&(o=1),void 0===r&&(r=!1),void 0===a&&(a={x:0,y:0}),void 0===s&&(s=!0);var c=e.EffectFactory.getInstance().getEffect(),l=e.EffectModel.instance.getEffectData(t);if(null==l)return e.LogUtil.logF("播放特效 [playEffect: "+t+" 不存在]"),null;switch(c.x=c.y=0,1==l.blendMode&&(c.clipBlendMode=egret.BlendMode.ADD),l.position){case EffectPosition.CARD_BOTTOM:i instanceof e.BaseMoverActor&&r?(c.x=a.x+i.anchorOffsetX,c.y=a.y+i.anchorOffsetY,i.addChildAt(c,0)):(c.x=a.x,c.y=a.y,e.SceneManager.instance.addToBottom(c));break;case EffectPosition.CARD_OVER:i instanceof e.BaseMoverActor&&r?(c.x=a.x+i.anchorOffsetX,c.y=a.y+i.anchorOffsetY,i.addToCardAndActor(c)):(c.x=i.x,c.y=i.y,e.SceneManager.instance.addToBottom(c));break;case EffectPosition.CARD_FRONT:i instanceof e.BaseMoverActor&&r?(c.x=a.x+i.anchorOffsetX,c.y=a.y+i.anchorOffsetY,i.addChild(c)):(c.x=i.x,c.y=i.y,e.SceneManager.instance.addToFront(c));break;case EffectPosition.CARD_TOP:i?(c.x=i.x+a.x,c.y=i.y+a.y,e.SceneManager.instance.addToFront(c)):(c.x=a.x,c.y=a.y,e.SceneManager.instance.addToFront(c))}return c.isRandomPlay=1==l.isRandomPlay,c.play(l.res,n,l.playTimes,o),c.cfgScale=l.scale,c.scaleXY=c.cfgScale,s&&l.sound&&e.SoundManager.getInstance().loadAndPlayEffect(l.sound),c},t.playUltimateSkillEffect=function(t,i,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var r=e.SkillModel.instance.getSkillCfg(t);if(null==r)return e.LogUtil.log("播放技能 [playUltimateSkillEffect: "+t+" 不存在]"),null;var a=e.EffectFactory.getInstance().getEffect();return a.x=i.x,a.y=i.y,e.SceneManager.instance.addToTop(a),a.play(r.ultimateEffectId+"_effect",-1,1,1,n,o),a},t.showClickEffect=function(t,i){var n=e.EffectFactory.getInstance().getEffect();n.play(EffectConst.CLICK_EFFECT+"_effect",-1,1),n.x=t,n.y=i,e.LayerManager.instance.getLayer(e.LayerConst.UI_EFFECT).addChild(n)},t.playCfgEffect=function(t,i,n,o,r){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null);var a=e.EffectFactory.getInstance().getEffect(),s=e.EffectModel.instance.getEffectData(t);return s?(a.x=i.x,a.y=i.y,n?n.addChild(a):e.LayerManager.instance.getLayer(e.LayerConst.UI_EFFECT).addChild(a),a.play(s.res,-1,s.playTimes,1,o,r),1==s.blendMode&&(a.clipBlendMode=egret.BlendMode.ADD),a.isRandomPlay=1==s.isRandomPlay,a.cfgScale=s.scale,a.scaleXY=a.cfgScale,a):(e.LogUtil.logF("播放特效 [playEffect: "+t+" 不存在]"),null)},t.playUIEffect=function(t,i,n,o,r,a){void 0===o&&(o=null),void 0===r&&(r=null),void 0===a&&(a=null);var s=e.EffectFactory.getInstance().getEffect();n?(s.x=n.x,s.y=n.y):(s.x=0,s.y=0),o?o.addChild(s):e.LayerManager.instance.getLayer(e.LayerConst.UI_EFFECT).addChild(s);var c=i?-1:1;return s.playUIEffect(t,-1,c,1,r,a),s},t}();e.EffectPlayer=t,__reflect(t.prototype,"qmr.EffectPlayer")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){var i=e.call(this,t)||this;return i.lastUseTime=0,i}return __extends(t,e),t.prototype.excute=function(){this.attackSpeed=0,this.moverActor&&this.moverActor.onPlayAtk2()},t.prototype.cancelExcute=function(){},t.prototype.clearController=function(){},t}(e.BaseMoverActorController);e.HeroAttack2Controller=t,__reflect(t.prototype,"qmr.HeroAttack2Controller")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){var i=e.call(this,t)||this;return i.lastUseTime=0,i}return __extends(t,e),t.prototype.excute=function(){this.attackSpeed=0,this.moverActor&&this.moverActor.onPlayAtk()},t.prototype.cancelExcute=function(){},t.prototype.clearController=function(){},t}(e.BaseMoverActorController);e.HeroAttackController=t,__reflect(t.prototype,"qmr.HeroAttackController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.excute=function(){this.moverActor&&this.moverActor.onPlayDead()},t.prototype.cancelExcute=function(){},t}(e.BaseMoverActorController);e.HeroDeadController=t,__reflect(t.prototype,"qmr.HeroDeadController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.excute=function(){this.moverActor&&this.moverActor.pause()},t.prototype.cancelExcute=function(){this.moverActor&&this.moverActor.onPlayIdle()},t}(e.BaseMoverActorController);e.HeroFlyController=t,__reflect(t.prototype,"qmr.HeroFlyController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.check=function(){this.moverActor&&this.moverActor.onMoveStop()},t.prototype.excute=function(){this.moverActor&&this.moverActor.onPlayIdle()},t}(e.BaseMoverActorController);e.HeroIdleController=t,__reflect(t.prototype,"qmr.HeroIdleController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.excute=function(){this.moverActor&&this.moverActor.onPlayMove()},t.prototype.check=function(){},t.prototype.cancelExcute=function(){},t}(e.BaseMoverActorController);e.HeroMoveController=t,__reflect(t.prototype,"qmr.HeroMoveController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.excute=function(){this.moverActor&&this.moverActor.onPlayCast()},t.prototype.cancelExcute=function(){},t}(e.BaseMoverActorController);e.HeroSkillController=t,__reflect(t.prototype,"qmr.HeroSkillController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.getSkillProxy=function(i,n,o,r){var a=o>0?e.SkillModel.instance.getSkillEffectData(o):e.SkillModel.instance.getSkillEffectDataBySkillId(n);if(a){var s=void 0;switch(a.action_type){case SkillActionType.ACTION_1:s=e.SkillAction1Proxy.getSkillProxy();break;case SkillActionType.ACTION_2:s=e.SkillAction2Proxy.getSkillProxy();break;case SkillActionType.ACTION_3:s=e.SkillAction3Proxy.getSkillProxy();break;case SkillActionType.ACTION_4:s=e.SkillAction4Proxy.getSkillProxy();break;case SkillActionType.ACTION_5:s=e.SkillAction5Proxy.getSkillProxy();break;case SkillActionType.ACTION_6:s=e.SkillAction6Proxy.getSkillProxy();break;case SkillActionType.ACTION_7:s=e.SkillAction7Proxy.getSkillProxy();break;case SkillActionType.ACTION_8:s=e.SkillAction8Proxy.getSkillProxy();break;case SkillActionType.ACTION_9:s=e.SkillAction9Proxy.getSkillProxy();break;case SkillActionType.ACTION_10:s=e.SkillAction10Proxy.getSkillProxy();break;case SkillActionType.ACTION_11:s=e.SkillAction11Proxy.getSkillProxy();break;case SkillActionType.ACTION_12:s=e.SkillAction12Proxy.getSkillProxy();break;case SkillActionType.ACTION_13:s=e.SkillAction13Proxy.getSkillProxy();break;default:s=e.SkillAction4Proxy.getSkillProxy()}return e.LogUtil.logF("释放了一个技能：类型 "+a.action_type+" 目标数量:"+r.length),s.setOwner(i),s.setSkillId(n,a),s.setTargetList(r),t.currSkillProxy=s,s}return null},t.clearSkillProxy=function(){t.currSkillProxy&&t.currSkillProxy.recycleSkill()},t}();e.SkillFactory=t,__reflect(t.prototype,"qmr.SkillFactory")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){this._skillDic={},this._skillEffectDic={},this._skillUpEffectDic={},this._passiveSkillDic={}}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getSkillCfg=function(t){if(!isNaN(t)&&t>0){if(this._skillDic.hasOwnProperty(t.toString()))return this._skillDic[t];var i=e.ConfigManager.getConf(e.ConfigEnum.SKILL,t);return null!=i&&(this._skillDic[t]=i),i}return e.LogUtil.log("技能数据不存在："+t),null},t.prototype.getSkillEffectDataBySkillId=function(e){var t=this.getSkillCfg(e);return t?this.getSkillEffectData(t.effectId):null},t.prototype.getSkillEffectData=function(t){if(!isNaN(t)&&t>0){if(this._skillEffectDic.hasOwnProperty(t.toString()))return this._skillEffectDic[t];var i=e.ConfigManager.getConf(e.ConfigEnum.SKILLEFFECT,t);return null!=i&&(this._skillEffectDic[t]=i),i}return null},t.prototype.getMultiDatas=function(e){for(var t,n,o=e.split(";"),r=0,a=[],s=o.length,c=0;s>c;c++){if(n=new i,t=o[c]){var l=t.split(",").map(Number);n.time=l[0],n.sp=l[1],r+=n.sp}a.push(n)}return a.forEach(function(e){e.updateRate(r)}),a},t}();e.SkillModel=t,__reflect(t.prototype,"qmr.SkillModel");var i=function(){function e(){}return e.prototype.updateRate=function(e){this.rate=this.sp/e},e}();e.MultiRateVo=i,__reflect(i.prototype,"qmr.MultiRateVo")}(qmr||(qmr={}));var MainAfterLogin=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){},t}(eui.UILayer);__reflect(MainAfterLogin.prototype,"MainAfterLogin");var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction10Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction10Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.owner.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){var t;if(this.skillEffectCfg.show_effect>0)if(this.targetList.length>0){var i=this.targetList[0];if(i){var n=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,this.owner,-1,this.owner.timeScale);if(n){this.getCenterPos(i.camp);var o=e.SkillModel.instance.getSkillEffectDataBySkillId(this.skillId);n.speed=o?o.speed:0,n.moveTo(this._centerPos.x,this._centerPos.y,this.onArrival,this,[n]),this.addTempEffect(n);var r=this.skillEffectCfg.show_durotion/this.timeScale;r>0&&e.FightTimer.instance.registerTick(this.removeAllTempEffect,this,r,1)}else e.LogUtil.warn("表现特效不存在，需要策划在（特效_EffectData表格）里面配置一下 "+this.skillEffectCfg.show_effect),this.onArrival([i])}else e.LogUtil.warn("技能9：群体同时播放特效目标不存在，技能id:"+this.skillId),t=!0}else t=!0,e.LogUtil.warn("技能9：群体同时播放特效目标不存在");else t=!0;t&&this.onReleaseSkillEffect2()},i.prototype.onArrival=function(e){var t=e[0];t&&t.dispos(),this.onReleaseSkillEffect2()},i.prototype.onReleaseSkillEffect2=function(){var t=e.EffectPlayer.playEffect(this.skillEffectCfg.orderly_effect,this._centerPos,-1,this.owner.timeScale);if(this.addTempEffect(t),this.skillEffectCfg.multistage){var i=e.SkillModel.instance.getMultiDatas(this.skillEffectCfg.multistage);this.mulitCount=i.length;for(var n=void 0,o=0;o<this.mulitCount;o++)n=i[o],n&&e.FightTimer.instance.registerTick(this.mulitHuttFunc[o],this,n.time/this.timeScale,1,n.rate)}else{var r=this.skillEffectCfg.show_time/this.timeScale;r>0?(e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.registerTick(this.onShowHitEffect,this,r,1)):this.onShowHitEffect()}},i.prototype.getCenterPos=function(e){},i.prototype.onShowHitEffect=function(t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this.targetList.length;if(this.skillEffectCfg.hit_effect>0)for(var o=0;n>o;o++){var r=this.targetList[o];r?(e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,r,-1,this.owner.timeScale,!0),e.SceneManager.instance.onAttackResultBack(r,this.targetFighterMsg[o])):e.LogUtil.warn("技能8：受击列表中目标不存在，技能id:"+this.skillId)}i&&e.FightTimer.instance.registerTick(this.onPlayEnd,this,300/this.timeScale,1)},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeAllTempEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction10Proxy=t,__reflect(t.prototype,"qmr.SkillAction10Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.tempTargetList=[],e.dropPos={},e.flyCount=0,e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction11Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction11Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?(e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1)):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0){if(this.targetList&&this.targetList.length>0){var t=this.targetList[0];if(t){var i=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,this.owner,-1,this.timeScale);if(i){var n=void 0,o=void 0;n.x=o.x;var r=0,a=o.y-n.y;i.x=n.x,i.y=n.y;var s=e.SkillModel.instance.getSkillEffectDataBySkillId(this.skillId);i.speed=s?s.speed*this.timeScale:0,i.rotation=180*Math.atan2(a,r)/Math.PI;this.onArrival;i.moveTo(o.x,o.y,this.onArrival,this),this.addTempEffect(i)}else e.LogUtil.warn("表现特效不存在，需要策划在（特效_EffectData表格）里面配置一下 "+this.skillEffectCfg.show_effect)}else e.LogUtil.warn("技能11：受击列表中目标不存在，技能id:"+this.skillId)}e.LogUtil.logF("群体同时播放特效 "+this.targetList.length)}this.delayShowHit()},i.prototype.onArrival=function(t){e.LogUtil.logF("群体同时播放特效"),this.removeAllTempEffect()},i.prototype.delayShowHit=function(){var t=this.skillEffectCfg.show_time/this.timeScale;t>0?(e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.registerTick(this.onShowHitEffect,this,t,1)):this.onShowHitEffect()
},i.prototype.onShowHitEffect=function(t,i){for(void 0===t&&(t=1),void 0===i&&(i=!0);this.targetList.length>0;){this.flyCount--;var n=this.targetList.pop();if(this.skillEffectCfg.hit_effect>0)if(n){this.owner?e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,n,-1,this.timeScale,!0):e.LogUtil.warn("技能11：施法者不存在，这个问题很严重，技能id:"+this.skillId);var o=this.getFightMsg(n.id);e.SceneManager.instance.onAttackResultBack(n,o)}else e.LogUtil.warn("技能11：受击列表中目标不存在，技能id:"+this.skillId);e.LogUtil.logF("群体同时受击 "+this.flyCount)}var r=300;r/=this.timeScale,e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),e.FightTimer.instance.registerTick(this.onPlayEnd,this,r,1)},i.prototype.getFightMsg=function(e){if(!this.targetFighterMsg)return null;for(var t=0,i=this.targetFighterMsg;t<i.length;t++){var n=i[t];if(n.fighterId==e)return n}return null},i.prototype.onPlayEnd=function(){e.LogUtil.logF("本轮技能释放完毕 "+this.flyCount),this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.flyCount=0,this.targetList.length=0,this.tempTargetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction11Proxy=t,__reflect(t.prototype,"qmr.SkillAction11Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.tempTargetList=[],e.dropPos={},e.flyCount=0,e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction12Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction12Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?(e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1)):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0){if(this.targetList&&this.targetList.length>0){var t=this.targetList[0];if(t){var i=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,this.owner,-1,this.timeScale);if(i){var n=void 0,o=void 0;n.x=o.x;var r=0,a=o.y-n.y;i.x=n.x,i.y=n.y;var s=e.SkillModel.instance.getSkillEffectDataBySkillId(this.skillId);i.speed=s?s.speed*this.timeScale:30,i.rotation=180*Math.atan2(a,r)/Math.PI;this.onArrival;i.moveTo(o.x,o.y,this.onArrival,this),this.addTempEffect(i)}else e.LogUtil.warn("表现特效不存在，需要策划在（特效_EffectData表格）里面配置一下 "+this.skillEffectCfg.show_effect)}else e.LogUtil.warn("技能11：受击列表中目标不存在，技能id:"+this.skillId)}e.LogUtil.logF("群体同时播放特效 "+this.targetList.length)}this.delayShowHit()},i.prototype.onArrival=function(t){e.LogUtil.logF("群体同时播放特效"),this.removeAllTempEffect()},i.prototype.delayShowHit=function(){var t=this.skillEffectCfg.show_time/this.timeScale;t>0?(e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.registerTick(this.onShowHitEffect,this,t,1)):this.onShowHitEffect()},i.prototype.onShowHitEffect=function(t,i){for(void 0===t&&(t=1),void 0===i&&(i=!0);this.targetList.length>0;){this.flyCount--;var n=this.targetList.pop();if(this.skillEffectCfg.hit_effect>0)if(n){this.owner?e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,n,-1,this.timeScale,!0):e.LogUtil.warn("技能11：施法者不存在，这个问题很严重，技能id:"+this.skillId);var o=this.getFightMsg(n.id);e.SceneManager.instance.onAttackResultBack(n,o)}else e.LogUtil.warn("技能11：受击列表中目标不存在，技能id:"+this.skillId);e.LogUtil.logF("群体同时受击 "+this.flyCount)}var r=300;r/=this.timeScale,e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),e.FightTimer.instance.registerTick(this.onPlayEnd,this,r,1)},i.prototype.getFightMsg=function(e){if(!this.targetFighterMsg)return null;for(var t=0,i=this.targetFighterMsg;t<i.length;t++){var n=i[t];if(n.fighterId==e)return n}return null},i.prototype.onPlayEnd=function(){e.LogUtil.logF("本轮技能释放完毕 "+this.flyCount),this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.flyCount=0,this.targetList.length=0,this.tempTargetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction12Proxy=t,__reflect(t.prototype,"qmr.SkillAction12Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.tempTargetList=[],e.dropPos={},e.flyCount=0,e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction13Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction13Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?(e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1)):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){var t=this;if(t.skillEffectCfg.show_effect>0){t.flyCount=0;for(var i,n,o,r=function(r){if(r)if(i=e.EffectPlayer.playEffect(t.skillEffectCfg.show_effect,t.owner,-1,t.timeScale)){t.flyCount++,n=r.x-t.owner.x,o=r.y-t.owner.y;var a=e.SkillModel.instance.getSkillEffectDataBySkillId(t.skillId),s=t.timeScale>1?1.3*t.timeScale:1,c=a?Math.floor(a.speed*s):0;i.speed=c;var l=180*Math.atan2(o,n)/Math.PI;i.rotation=l;var f=t.onArrival,h=r;if(i.moveTo(r.x,r.y,f,t,[h,i]),t.addTempEffect(i),a.multiTimes)for(var u=a.multiTimes.split(",").map(Number),p=u[0],_=u[1],g=function(){var n=function(e){if(e&&!(e.length<1)){var t=e[0];t&&t.dispos()}},o=function(){t.canShowEffect&&(i=e.EffectPlayer.playEffect(t.skillEffectCfg.show_effect,t.owner,-1,t.timeScale),i.speed=c,i.rotation=l,i.moveTo(r.x,r.y,n,t,[i]),t.addTempEffect(i))};e.FightTimer.instance.registerTick(o,t,d*_/t.timeScale,1)},d=1;p>d;d++)g();else e.LogUtil.warn("表现特效不存在，需要策划在（特效_EffectData表格）里面配置一下 "+t.skillEffectCfg.show_effect),t.onArrival([r])}else e.LogUtil.warn("技能3：受击列表中目标不存在，技能id:"+t.skillId),t.onArrival(null);e.LogUtil.logF("群体同时播放特效 "+t.targetList.length)},a=0,s=t.targetList;a<s.length;a++){var c=s[a];r(c)}}},i.prototype.onArrival=function(t){var i=this;if(e.LogUtil.logF("群体同时播放特效"),!t||t.length<1)return void i.onShowHitEffect();var n=t[0],o=t[1];if(o&&o.dispos(),n instanceof e.BaseMoverActor&&i.tempTargetList.push(n),i.skillEffectCfg.multistage){var r=e.SkillModel.instance.getMultiDatas(i.skillEffectCfg.multistage);i.mulitCount=r.length;for(var a=void 0,s=0;s<i.mulitCount;s++)a=r[s],a&&e.FightTimer.instance.registerTick(i.mulitHuttFunc[s],i,a.time/i.timeScale,1,a.rate)}else{var c=i.skillEffectCfg.show_time/i.timeScale;c>0?(e.FightTimer.instance.unRegisterTick(i.onShowHitEffect,i),e.FightTimer.instance.registerTick(i.onShowHitEffect,i,c,1)):i.onShowHitEffect()}},i.prototype.onShowHitEffect=function(t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this,o=n.targetList.length;if(n.skillEffectCfg.hit_effect>0)for(var r=0;o>r;r++){var a=n.targetList[r];a?(e.EffectPlayer.playEffect(n.skillEffectCfg.hit_effect,a,-1,n.timeScale,!0),e.SceneManager.instance.onAttackResultBack(a,n.targetFighterMsg[r],t)):e.LogUtil.warn("技能13：受击列表中目标不存在，技能id:"+n.skillId)}i&&(n.flyCount++,e.LogUtil.logF("群体同时受击结束 "+n.flyCount));var s=n.flyCount<o?1e3:300;s/=n.timeScale,e.FightTimer.instance.unRegisterTick(n.onPlayEnd,n),e.FightTimer.instance.registerTick(n.onPlayEnd,n,s,1)},i.prototype.getFightMsg=function(e){if(!this.targetFighterMsg)return null;for(var t=0,i=this.targetFighterMsg;t<i.length;t++){var n=i[t];if(n.fighterId==e)return n}return null},i.prototype.onPlayEnd=function(){e.LogUtil.logF("本轮技能释放完毕 "+this.flyCount),this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){var n=this;n.flyCount=0,n.targetList.length=0,n.tempTargetList.length=0,n.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(n.removeCaseEffect,n),e.FightTimer.instance.unRegisterTick(n.onReleaseSkillEffect,n),e.FightTimer.instance.unRegisterTick(n.onShowHitEffect,n),e.FightTimer.instance.unRegisterTick(n.onPlayEnd,n),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(n)},i}(e.BaseSkillProxy);e.SkillAction13Proxy=t,__reflect(t.prototype,"qmr.SkillAction13Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction1Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction1Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect&&this.targetList.length>0){var t=this.targetList[0];if(t){e.SceneManager.instance.addObjectToTop(this.owner);var i=t.camp==CampType.FOE?90:-90;this.owner.isCanMove=!0,this.owner.moveScale=this.timeScale,this.owner.speed=90,this.owner.changeStatus(e.Status.FLY,!0),this.owner.moveTo(t.x-20,t.y+i,this.onArrival,this,5),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var n=this.skillEffectCfg.cast_showTime/this.timeScale;n>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,n,1)}else e.LogUtil.warn("技能1：移动目的地目标不存在，技能id:"+this.skillId),this.onArrival()}},i.prototype.onArrival=function(){this.owner.changeStatus(e.Status.ATTACK2,!0),this.owner.delayBackPos(500/this.timeScale),this.skillEffectCfg.cast_effect>0&&e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale,!0);var t=this.skillEffectCfg.cast_time/this.timeScale;t>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,t,1):this.onReleaseSkillEffect()},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0&&this.targetList.length>0){var t=this.targetList[0];if(t){var i=this.owner.camp==CampType.OUR?1:-1;this.showEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,t,-1,this.timeScale,!0),this.showEffect.scaleY*=i;var n=this.skillEffectCfg.show_durotion/this.timeScale;n>0&&e.FightTimer.instance.registerTick(this.removeShowEffect,this,n,1)}else e.LogUtil.warn("技能1：表现列表中目标不存在，技能id:"+this.skillId)}if(this.skillEffectCfg.multistage){var o=e.SkillModel.instance.getMultiDatas(this.skillEffectCfg.multistage);this.mulitCount=o.length;for(var r=void 0,a=0;a<this.mulitCount;a++)r=o[a],r&&e.FightTimer.instance.registerTick(this.mulitHuttFunc[a],this,r.time/this.timeScale,1,r.rate)}else{var s=this.skillEffectCfg.show_time/this.timeScale;s>0?e.FightTimer.instance.registerTick(this.onShowHitEffect,this,s,1):this.onShowHitEffect()}},i.prototype.onShowHitEffect=function(t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this.targetList.length;if(this.skillEffectCfg.hit_effect>0)for(var o=0;n>o;o++){var r=this.targetList[o];r?(e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,r,-1,this.timeScale,!0),e.SceneManager.instance.onAttackResultBack(r,this.targetFighterMsg[o])):e.LogUtil.warn("技能1：受击列表中目标不存在，技能id:"+this.skillId)}i&&e.FightTimer.instance.registerTick(this.onPlayEnd,this,300/this.timeScale,1)},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){var n=this;n.targetList.length=0,e.FightTimer.instance.unRegisterTick(n.removeCaseEffect,n),e.FightTimer.instance.unRegisterTick(n.removeShowEffect,n),e.FightTimer.instance.unRegisterTick(n.onReleaseSkillEffect,n),e.FightTimer.instance.unRegisterTick(n.onShowHitEffect,n),e.FightTimer.instance.unRegisterTick(n.onPlayEnd,n),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(n)},i}(e.BaseSkillProxy);e.SkillAction1Proxy=t,__reflect(t.prototype,"qmr.SkillAction1Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.targetIdList=[],e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction2Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction2Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){if(this.targetList.length>0){var t=this.targetList[0];if(t){var i=t.camp==CampType.FOE?80:-80;this.owner.x=t.x,this.owner.y=t.y+i}else e.LogUtil.warn("技能2：闪现目标不存在，技能id:"+this.skillId);this.owner.changeStatus(e.Status.ATTACK2,!0),e.SceneManager.instance.addObjectToTop(this.owner),e.FightTimer.instance.registerTick(this.onBackPos,this,500/this.timeScale,1)}this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.owner.timeScale,!0));var n=this.skillEffectCfg.cast_showTime/this.timeScale;n>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,n,1);var o=this.skillEffectCfg.cast_time/this.timeScale;o>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,o,1):this.onReleaseSkillEffect()}},i.prototype.onBackPos=function(){},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0&&this.targetList.length>0){var t=this.targetList[0];if(t){var i=t.camp==CampType.OUR?1:-1;this.showEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,t,-1,t.timeScale,!0),this.showEffect.scaleY*=i;var n=this.skillEffectCfg.show_durotion/this.timeScale;n>0&&e.FightTimer.instance.registerTick(this.removeShowEffect,this,n,1)}else e.LogUtil.warn("技能2：表现特效目标不存在，技能id:"+this.skillId)}if(this.skillEffectCfg.multistage){var o=e.SkillModel.instance.getMultiDatas(this.skillEffectCfg.multistage);this.mulitCount=o.length;for(var r=void 0,a=0;a<this.mulitCount;a++)r=o[a],r&&e.FightTimer.instance.registerTick(this.mulitHuttFunc[a],this,r.time/this.timeScale,1,r.rate)}else{var s=this.skillEffectCfg.show_time/this.timeScale;s>0?e.FightTimer.instance.registerTick(this.onShowHitEffect,this,s,1):this.onShowHitEffect()}},i.prototype.onShowHitEffect=function(){var t=this.targetList.length;if(this.skillEffectCfg.hit_effect>0)for(var i=0;t>i;i++){var n=this.targetList[i];n?(e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,n,-1,this.owner.timeScale,!0),e.SceneManager.instance.onAttackResultBack(n,this.targetFighterMsg[i])):e.LogUtil.warn("技能2：受击列表中目标不存在，技能id:"+this.skillId)}e.FightTimer.instance.registerTick(this.onPlayEnd,this,300/this.timeScale,1)},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.targetList.length=0,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeShowEffect,this),e.FightTimer.instance.unRegisterTick(this.onBackPos,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction2Proxy=t,__reflect(t.prototype,"qmr.SkillAction2Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.tempTargetList=[],e.dropPos={},e.flyCount=0,e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction3Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction3Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?(e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1)):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0){this.flyCount=0;for(var t=0,i=this.targetList;t<i.length;t++){var n=i[t];if(n){var o=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,this.owner,-1,this.timeScale);if(o){this.flyCount++;var r=n.x-this.owner.x,a=n.y-this.owner.y,s=e.SkillModel.instance.getSkillEffectDataBySkillId(this.skillId),c=this.timeScale>1?1.3*this.timeScale:1;o.speed=s?s.speed*c:0,o.speed=Math.floor(o.speed),o.rotation=180*Math.atan2(a,r)/Math.PI;var l=this.onArrival,f=n;o.moveTo(n.x,n.y,l,this,[f,o]),this.addTempEffect(o)}else e.LogUtil.warn("表现特效不存在，需要策划在（特效_EffectData表格）里面配置一下 "+this.skillEffectCfg.show_effect),this.onArrival([n])}else e.LogUtil.warn("技能3：受击列表中目标不存在，技能id:"+this.skillId),this.onArrival(null)}e.LogUtil.logF("群体同时播放特效 "+this.targetList.length)}},i.prototype.onArrival=function(t){if(e.LogUtil.logF("群体同时播放特效"),!t||t.length<1)return void this.onShowHitEffect();var i=t[0],n=t[1];n&&n.dispos(),i instanceof e.BaseMoverActor&&this.tempTargetList.push(i);var o=this.skillEffectCfg.show_time/this.timeScale;o>0?(e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.registerTick(this.onShowHitEffect,this,o,1)):this.onShowHitEffect()},i.prototype.onShowHitEffect=function(t,i){for(void 0===t&&(t=1),void 0===i&&(i=!0);this.tempTargetList.length>0;){this.flyCount--;var n=this.tempTargetList.pop();if(this.skillEffectCfg.hit_effect>0)if(n){this.owner?e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,n,-1,this.timeScale,!0):e.LogUtil.warn("技能3：施法者不存在，这个问题很严重，技能id:"+this.skillId);var o=this.getFightMsg(n.id);e.SceneManager.instance.onAttackResultBack(n,o)}else e.LogUtil.warn("技能3：受击列表中目标不存在，技能id:"+this.skillId);e.LogUtil.logF("群体同时受击 "+this.flyCount)}var r=this.flyCount>0?1e3:300;r/=this.timeScale,e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),e.FightTimer.instance.registerTick(this.onPlayEnd,this,r,1)},i.prototype.getFightMsg=function(e){if(!this.targetFighterMsg)return null;for(var t=0,i=this.targetFighterMsg;t<i.length;t++){var n=i[t];if(n.fighterId==e)return n}return null},i.prototype.onPlayEnd=function(){e.LogUtil.logF("本轮技能释放完毕 "+this.flyCount),this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.flyCount=0,this.targetList.length=0,this.tempTargetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction3Proxy=t,__reflect(t.prototype,"qmr.SkillAction3Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction4Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction4Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.owner.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0)for(var t=0,i=this.targetList;t<i.length;t++){var n=i[t];if(n){var o=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,n,-1,this.owner.timeScale,!0);this.addTempEffect(o)}}var r=this.skillEffectCfg.show_durotion/this.timeScale;if(r>0&&e.FightTimer.instance.registerTick(this.removeAllTempEffect,this,r,1),this.skillEffectCfg.multistage){var a=e.SkillModel.instance.getMultiDatas(this.skillEffectCfg.multistage);this.mulitCount=a.length;for(var s=void 0,c=0;c<this.mulitCount;c++)s=a[c],s&&e.FightTimer.instance.registerTick(this.mulitHuttFunc[c],this,s.time/this.timeScale,1,s.rate)}else{var l=this.skillEffectCfg.show_time/this.timeScale;l>0?e.FightTimer.instance.registerTick(this.onShowHitEffect,this,l,1):this.onShowHitEffect()}},i.prototype.onShowHitEffect=function(t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this.targetList.length;if(this.skillEffectCfg.hit_effect>0)for(var o=0;n>o;o++){var r=this.targetList[o];r?(e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,r,-1,this.owner.timeScale,!0),e.SceneManager.instance.onAttackResultBack(r,this.targetFighterMsg[o])):e.LogUtil.warn("技能4：受击列表中目标不存在，技能id:"+this.skillId)}i&&e.FightTimer.instance.registerTick(this.onPlayEnd,this,300/this.timeScale,1)},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeAllTempEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction4Proxy=t,__reflect(t.prototype,"qmr.SkillAction4Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.delayTime=500,e.targetList=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction5Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction5Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0){var t=this.targetList[0];this.targetFighterMsg[0];if(t){this.showEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,t,-1,t.timeScale,!0);var i=this.skillEffectCfg.show_durotion/this.timeScale;i>0&&e.FightTimer.instance.registerTick(this.removeShowEffect,this,i,1)}else e.LogUtil.warn("目标不存在了？？？技能id:"+this.skillId);e.FightTimer.instance.registerTick(this.delayShowEffect,this,this.delayTime/this.timeScale,1)}var n=this.skillEffectCfg.show_time/this.timeScale;n>0?e.FightTimer.instance.registerTick(this.onShowHitEffect,this,n,1):this.onShowHitEffect()},i.prototype.delayShowEffect=function(){if(this.targetList.length>1)for(var t=this.targetList.length,i=1;t>i;i++)if(this.skillEffectCfg.show_effect>0){var n=this.targetList[i];n?e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,n,-1,this.timeScale,!0):e.LogUtil.warn("目标不存在了？？？技能id:"+this.skillId)}},i.prototype.onShowHitEffect=function(t,i){if(void 0===t&&(t=1),void 0===i&&(i=!0),this.skillEffectCfg.hit_effect>0){var n=this.targetList[0],o=this.targetFighterMsg[0];n?e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,n,-1,this.timeScale,!0):e.LogUtil.warn("技能5：受击列表中目标不存在，技能id:"+this.skillId),e.SceneManager.instance.onAttackResultBack(n,o)}var r=500/this.timeScale;this.targetList.length>1&&(r+=this.delayTime/this.timeScale,e.FightTimer.instance.registerTick(this.delayShowHitEffect,this,this.delayTime/this.timeScale,1)),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),e.FightTimer.instance.registerTick(this.onPlayEnd,this,r,1)},i.prototype.delayShowHitEffect=function(){for(var t=this.targetList.length,i=1;t>i;i++)if(this.skillEffectCfg.hit_effect>0){var n=this.targetList[i];n?e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,n,-1,this.timeScale,!0):e.LogUtil.warn("目标不存在了？？？技能类型5 id:"+this.skillId),e.SceneManager.instance.onAttackResultBack(n,this.targetFighterMsg[i])}},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeShowEffect,this),e.FightTimer.instance.unRegisterTick(this.delayShowEffect,this),e.FightTimer.instance.unRegisterTick(this.delayShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction5Proxy=t,__reflect(t.prototype,"qmr.SkillAction5Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.delayTime=500,e.targetIndex=0,e.targetList=[],e.chainEffects=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction6Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction6Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.owner.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){this.skillEffectCfg.show_effect>0?(this.targetIndex=0,e.LogUtil.logF("loopShowEffect : "+this.targetIndex+" "+this.targetList.length),this.loopShowEffect()):this.onPlayEnd()},i.prototype.loopShowEffect=function(){if(this.targetIndex>=this.targetList.length)return this.onPlayEnd(),void e.FightTimer.instance.unRegisterTick(this.loopShowEffect,this);var t=this.targetList[this.targetIndex];this.targetFighterMsg[this.targetIndex];if(t){var i,n=void 0,o=void 0;0==this.targetIndex?(n=this.owner,i=t,o=this.skillEffectCfg.show_effect):(n=this.targetList[this.targetIndex-1],i=this.targetList[this.targetIndex],o=this.skillEffectCfg.orderly_effect);var r=i.timeScale;if(n){var a=e.MathUtil.distance(n,i),s=i.x-n.x,c=i.y-n.y,l=e.EffectPlayer.playEffect(o,n,-1,r,!0);l.effectWidth=a,l.rotation=180*Math.atan2(c,s)/Math.PI,this.chainEffects.push(l)}var f=this.canShowEffect,h=this.skillEffectCfg.hit_effect,u=this.targetFighterMsg[this.targetIndex],p=function(){f&&h>0&&i&&(e.EffectPlayer.playEffect(h,i,-1,r,!0),e.SceneManager.instance.onAttackResultBack(i,u))};e.FightTimer.instance.registerTick(p,this,this.skillEffectCfg.show_time/this.timeScale,1)}else e.LogUtil.warn("技能6：受击列表中目标不存在，技能id:"+this.skillId);this.targetIndex++,e.FightTimer.instance.unRegisterTick(this.loopShowEffect,this),e.FightTimer.instance.registerTick(this.loopShowEffect,this,this.delayTime/this.timeScale,1),e.LogUtil.logF("this.targetIndex : "+this.targetIndex)},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.removeChain=function(){if(e.LogUtil.logF("闪电之后结束"),this.chainEffects.length>0){for(var t=0,i=this.chainEffects;t<i.length;t++){var n=i[t];e.LogUtil.logF("闪电之后结束,销毁特效"+this.skillId),n.dispos()}this.chainEffects.length=0}},i.prototype.recycleSkill=function(){this.removeChain(),this.targetIndex=0,this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.loopShowEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction6Proxy=t,__reflect(t.prototype,"qmr.SkillAction6Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction7Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction7Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?(e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1)):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){this.onShowHitEffect()},i.prototype.onShowHitEffect=function(){if(this.skillEffectCfg.hit_effect>0)for(;this.targetList.length>0;){var t=this.targetList.pop(),i=this.targetFighterMsg.pop();if(t){var n=e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,t,-1,this.timeScale,!0);this.addTempEffect(n);var o=this.skillEffectCfg.show_durotion/this.timeScale;o>0&&e.FightTimer.instance.registerTick(this.removeAllTempEffect,this,o,1),t!=this.owner&&e.SceneManager.instance.onAttackResultBack(t,i)}else e.LogUtil.warn("技能7：受击列表中目标不存在，技能id:"+this.skillId)}if(this.canShowEffect){e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this);var r=this.skillEffectCfg.node_duration-this.skillEffectCfg.cast_showTime-this.skillEffectCfg.hitDelay;e.FightTimer.instance.registerTick(this.onPlayEnd,this,r/this.timeScale,1)}},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()
},i.prototype.recycleSkill=function(){this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeShowEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction7Proxy=t,__reflect(t.prototype,"qmr.SkillAction7Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction8Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction8Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0&&(this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale));var t=this.skillEffectCfg.cast_showTime/this.timeScale;t>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,t,1);var i=this.skillEffectCfg.cast_time/this.timeScale;i>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,i,1):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){if(this.skillEffectCfg.show_effect>0&&this.targetList.length>0){var t=this.targetList[0];if(t){this.getCenterPos(t.camp),this.showEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,this._centerPos,-1,this.timeScale,!0);var i=e.EffectModel.instance.getEffectData(this.skillEffectCfg.show_effect);if(this.showEffect&&i.needOverturn>0){var n=this.owner.camp==CampType.OUR?1:-1;this.showEffect.scaleY*=n}var o=this.skillEffectCfg.show_durotion/this.timeScale;o>0&&e.FightTimer.instance.registerTick(this.removeShowEffect,this,o,1)}else e.LogUtil.warn("技能8：群体同时播放特效目标不存在，技能id:"+this.skillId)}if(this.skillEffectCfg.multistage){var r=e.SkillModel.instance.getMultiDatas(this.skillEffectCfg.multistage);this.mulitCount=r.length;for(var a=void 0,s=0;s<this.mulitCount;s++)a=r[s],a&&e.FightTimer.instance.registerTick(this.mulitHuttFunc[s],this,a.time/this.timeScale,1,a.rate)}else{var c=this.skillEffectCfg.show_time/this.timeScale;c>0?e.FightTimer.instance.registerTick(this.onShowHitEffect,this,c,1):this.onShowHitEffect()}var l=this.skillEffectCfg.show_durotion+this.skillEffectCfg.hitDelay;e.FightTimer.instance.registerTick(this.onPlayEnd,this,l/this.timeScale,1)},i.prototype.getCenterPos=function(e){this._centerPos||(this._centerPos=new egret.Point);var t,i;e==CampType.FOE?5:2,e==CampType.FOE?2:5;this._centerPos.x=t.x,this._centerPos.y=t.y+(i.y-t.y>>1)},i.prototype.onShowHitEffect=function(t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this.targetList.length;if(this.skillEffectCfg.hit_effect>0)for(var o=0;n>o;o++){var r=this.targetList[o];r?(e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,r,-1,this.timeScale,!0),e.SceneManager.instance.onAttackResultBack(r,this.targetFighterMsg[o],t)):e.LogUtil.warn("技能8：受击列表中目标不存在，技能id:"+this.skillId)}},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeShowEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction8Proxy=t,__reflect(t.prototype,"qmr.SkillAction8Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.targetList=[],e.dropPos={},e}return __extends(i,t),i.getSkillProxy=function(){var t=e.Pool.getItemByClass("SkillAction9Proxy",i);return t},i.recovrySkillProxy=function(t){e.Pool.recover("SkillAction9Proxy",t)},i.prototype.releaseSkill=function(){t.prototype.releaseSkill.call(this),this.onCastSkill()},i.prototype.onCastSkill=function(){if(this.canShowEffect){if(this.owner.changeStatus(e.Status.ATTACK,!0),this.skillEffectCfg.cast_effect>0){this.caseEffect=e.EffectPlayer.playEffect(this.skillEffectCfg.cast_effect,this.owner,-1,this.timeScale);var t=e.EffectModel.instance.getEffectData(this.skillEffectCfg.cast_effect);if(this.caseEffect&&t.needOverturn>0){var i=this.owner.camp==CampType.OUR?1:-1;this.caseEffect.scaleY*=i}}var n=this.skillEffectCfg.cast_showTime/this.timeScale;n>0&&e.FightTimer.instance.registerTick(this.removeCaseEffect,this,n,1);var o=this.skillEffectCfg.cast_time/this.timeScale;o>0?e.FightTimer.instance.registerTick(this.onReleaseSkillEffect,this,o,1):this.onReleaseSkillEffect()}},i.prototype.onReleaseSkillEffect=function(){var t;if(this.skillEffectCfg.show_effect>0)if(this.targetList.length>0){var i=this.targetList[0];if(i){var n=e.EffectPlayer.playEffect(this.skillEffectCfg.show_effect,this.owner,-1,this.timeScale);if(n){this.getCenterPos(i.camp);var o=this._centerPos.x-this.owner.x,r=this._centerPos.y-this.owner.y,a=e.SkillModel.instance.getSkillEffectDataBySkillId(this.skillId);n.speed=a?a.speed*this.timeScale:0,n.rotation=180*Math.atan2(r,o)/Math.PI,n.moveTo(this._centerPos.x,this._centerPos.y,this.onArrival,this,[n]),this.addTempEffect(n);var s=this.skillEffectCfg.show_durotion/this.timeScale;s>0&&e.FightTimer.instance.registerTick(this.removeAllTempEffect,this,s,1)}else e.LogUtil.warn("表现特效不存在，需要策划在（特效_EffectData表格）里面配置一下 "+this.skillEffectCfg.show_effect),this.onArrival([i])}else e.LogUtil.warn("技能9：群体同时播放特效目标不存在，技能id:"+this.skillId),t=!0}else t=!0,e.LogUtil.warn("技能9：群体同时播放特效目标不存在");else t=!0;t&&this.onReleaseSkillEffect2()},i.prototype.onArrival=function(e){var t=e[0];t&&t.dispos(),this.onReleaseSkillEffect2()},i.prototype.onReleaseSkillEffect2=function(){var t=e.EffectPlayer.playEffect(this.skillEffectCfg.orderly_effect,this._centerPos,-1,this.timeScale);if(this.addTempEffect(t),this.skillEffectCfg.multistage){var i=e.SkillModel.instance.getMultiDatas(this.skillEffectCfg.multistage);this.mulitCount=i.length;for(var n=void 0,o=0;o<this.mulitCount;o++)n=i[o],n&&e.FightTimer.instance.registerTick(this.mulitHuttFunc[o],this,n.time/this.timeScale,1,n.rate)}else{var r=this.skillEffectCfg.show_time/this.timeScale;r>0?e.FightTimer.instance.registerTick(this.onShowHitEffect,this,r,1):this.onShowHitEffect()}},i.prototype.getCenterPos=function(e){},i.prototype.onShowHitEffect=function(t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this.targetList.length;if(this.skillEffectCfg.hit_effect>0)for(var o=0;n>o;o++){var r=this.targetList[o];r?(e.EffectPlayer.playEffect(this.skillEffectCfg.hit_effect,r,-1,this.timeScale,!0),e.SceneManager.instance.onAttackResultBack(r,this.targetFighterMsg[o])):e.LogUtil.warn("技能8：受击列表中目标不存在，技能id:"+this.skillId)}i&&e.FightTimer.instance.registerTick(this.onPlayEnd,this,300/this.timeScale,1)},i.prototype.onPlayEnd=function(){this.owner&&this.owner.onSkilReleaselOver(),this.recycleSkill()},i.prototype.recycleSkill=function(){this.targetList.length=0,this.canShowEffect=!1,e.FightTimer.instance.unRegisterTick(this.removeCaseEffect,this),e.FightTimer.instance.unRegisterTick(this.removeAllTempEffect,this),e.FightTimer.instance.unRegisterTick(this.onReleaseSkillEffect,this),e.FightTimer.instance.unRegisterTick(this.onShowHitEffect,this),e.FightTimer.instance.unRegisterTick(this.onPlayEnd,this),t.prototype.recycleSkill.call(this),i.recovrySkillProxy(this)},i}(e.BaseSkillProxy);e.SkillAction9Proxy=t,__reflect(t.prototype,"qmr.SkillAction9Proxy")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.prototype.showPrompt=function(t,i,n,o,r,a,s,c,l,f){void 0===a&&(a=e.AlertEnumType.GB),void 0===s&&(s="提示"),void 0===c&&(c="确定"),void 0===l&&(l="取消");var h={};h.title=s,h.content=t,h.type=a,h.confirmFun=i,h.cancelFun=r,h.caller=n,h.confirmData=o,h.confirmTxt=c,h.cancelTxt=l,h.cacheKey=f,f&&e.CacheManager.getOneCache(f,0)?egret.callLater(i,n,o):e.ModuleManager.popModule(e.ModuleNameConst.PROMPT_VIEW,h,null,!1,!1)},t.prototype.showPromptInput=function(t,i,n,o,r,a,s,c,l,f,h){void 0===a&&(a="提示"),void 0===s&&(s="确定");var u={};u.title=a,u.content=t,u.confirmFun=i,u.cancelFun=r,u.caller=n,u.confirmData=o,u.confirmTxt=s,u.max=c,u.min=l,u.price=f,u.total=h,e.ModuleManager.popModule(e.ModuleNameConst.PROMPT_INPUT_VIEW,u,null,!1,!1)},Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t)},enumerable:!0,configurable:!0}),t}();e.PromptController=t,__reflect(t.prototype,"qmr.PromptController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="PromptInputSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initData=function(){t.prototype.initData.call(this);var e=this.data;e&&this.showPrompt(e.title,e.content,e.confirmFun,e.caller,e.confirmData,e.cancelFun,e.confirmTxt,e.max,e.min,e.price,e.total),this.txt_price.text="0",this.txt_account.text=""},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnSure,i.onConfirm,i),i.addClickEvent(i.btnClose,i.onClickCancle,i),i.addEvent(i.txt_account,egret.Event.CHANGE,i.onTextInputChange,i),i.txt_account.restrict="0-9",e.LabelUtil.addInputListener(i.txt_account,i)},i.prototype.onTextInputChange=function(t){var i=this,n=t.target.text;if(!e.RegexpUtil.IsNull(n)&&e.RegexpUtil.IsInteger(n)){var o=parseInt(n.trim());return i.max&&o>i.max?void e.TipManagerCommon.getInstance().showLanTip("CN_190"):i.min&&o<i.min?void e.TipManagerCommon.getInstance().showLanTip("CN_191"):i.total&&o>i.total?void e.TipManagerCommon.getInstance().showLanTip("CN_192"):void(i.price&&(i.txt_price.text=o*i.price+""))}},i.prototype.showPrompt=function(t,i,n,o,r,a,s,c,l,f,h){this.confirmFun=n,this.caller=o,this.cancelFun=a,this.confirmData=r,this.max=c,this.min=l,this.price=f,this.total=h,this.txt_title.text=t,e.LabelUtil.setLabel(this.labContent,i),s&&(this.txt_sure.text=s)},i.prototype.onConfirm=function(){var t=this,i=this.confirmFun,n=this.caller,o=(this.confirmData,t.txt_account.text);if(!e.RegexpUtil.IsNull(o)&&e.RegexpUtil.IsInteger(o)){var r=Number(o.trim());if(0>=r)return void e.TipManagerCommon.getInstance().showLanTip("CN_193");if(this.max&&r>this.max)return void e.TipManagerCommon.getInstance().showLanTip("CN_194",this.max);if(this.min&&r<this.min)return void e.TipManagerCommon.getInstance().showLanTip("CN_195",this.max);i&&egret.callLater(function(){i.apply(n,[r])},this),this.onClose()}},i.prototype.onClickCancle=function(){this.cancelFun&&this.cancelFun.apply(this.caller),this.onClose()},i.prototype.onClose=function(){this.confirmFun=null,this.cancelFun=null,this.caller=null,this.confirmData=null,this.hide()},i}(e.BaseModule);e.PromptInputView=t,__reflect(t.prototype,"qmr.PromptInputView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.qmrSkinName="PromptSkin",e.isNeedMask=!0,e}return __extends(n,t),n.prototype.initData=function(){t.prototype.initData.call(this);var e=this.data;e&&(this.checkbox.selected=!1,this.showPrompt(e.type,e.title,e.content,e.confirmFun,e.caller,e.confirmData,e.cancelFun,e.confirmTxt,e.cancelTxt,e.cacheKey))},n.prototype.initListener=function(){t.prototype.initListener.call(this);var e=this;e.btnSure.scaleX=e.btnSure.scaleY=1,e.btnCancel.scaleX=e.btnCancel.scaleY=1,e.addClickEvent(e.btnSure,e.onConfirm,e),e.addClickEvent(e.btnCancel,e.onClickCancle,e),e.addClickEvent(e.btnClose,e.onClickCancle,e),e.addEvent(e.checkbox,egret.Event.CHANGE,e.onCheckChange,e)},n.prototype.showPrompt=function(t,n,o,r,a,s,c,l,f,h){void 0===t&&(t=i.GB),t==i.GB?(this.btnCancel.visible=!0,this.btnSure.x=381):(this.btnCancel.visible=!1,this.btnSure.x=286),this.confirmFun=r,this.caller=a,this.cancelFun=c,this.confirmData=s,this.cacheKey=h,h&&""!=h?this.checkbox.visible=!0:this.checkbox.visible=!1,this.txt_title.text=n,e.LabelUtil.setLabel(this.labContent,o),l&&(this.txt_sure.text=l),f&&(this.txt_cancel.text=f)},n.prototype.onConfirm=function(){var e=this.confirmFun,t=this.caller,i=this.confirmData;e&&egret.callLater(function(){e.apply(t,[i])},this),this.onClose()},n.prototype.onClickCancle=function(){this.cancelFun&&this.cancelFun.apply(this.caller),this.onClose()},n.prototype.onCheckChange=function(){this.cacheKey&&""!=this.cacheKey&&e.CacheManager.setOneCache(this.cacheKey,this.checkbox.selected?1:0)},n.prototype.onClose=function(){this.confirmFun=null,this.cancelFun=null,this.caller=null,this.confirmData=null,this.hide()},n}(e.BaseModule);e.PromptView=t,__reflect(t.prototype,"qmr.PromptView");var i;!function(e){e[e.GB=1]="GB",e[e.UN_GB=2]="UN_GB"}(i=e.AlertEnumType||(e.AlertEnumType={}))}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.CN_105="CN_105",e.CN_106="CN_106",e.CN_107="CN_107",e.CN_108="CN_108",e.CN_109="CN_109",e.CN_110="CN_110",e.CN_111="CN_111",e.CN_112="CN_112",e.CN_113="CN_113",e.CN_114="CN_114",e}();e.ClientCnEnum=t,__reflect(t.prototype,"qmr.ClientCnEnum")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.ID_1=1,e.ID_2=2,e.ID_3=3,e.ID_4=4,e.ID_5=5,e.ID_6=6,e}();e.HelpId=t,__reflect(t.prototype,"qmr.HelpId")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="HelpTipSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){t.prototype.initComponent.call(this)},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var e=this;e.addClickEvent(e.btnClose,e.closeView,e)},i.prototype.updateView=function(){var t=this,i=t.data;if(i){var n=e.ConfigManager.getConf(e.ConfigEnum.HELPTIP,i);n&&(e.LabelUtil.setLabelText(t.txt_title,n.title),e.LabelUtil.setLabelText(t.txt_content,n.param))}},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.HelpTipView=t,__reflect(t.prototype,"qmr.HelpTipView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i._isChangeTitle=!0,i.skinName="PanelBg",i.registerNotify(e.NotifyConstLogin.UPDATE_MODULE_TITLE,i.onUpdateName),i}return __extends(i,t),i.prototype.initComponent=function(){},i.prototype.addedToStage=function(i){t.prototype.addedToStage.call(this,i),this._isChangeTitle&&this.registerNotify(e.NotifyConstLogin.UPDATE_MODULE_TITLE,this.onUpdateName)},i.prototype.removeFromStage=function(i){t.prototype.removeFromStage.call(this,i),this._isChangeTitle&&this.unRegisterNotify(e.NotifyConstLogin.UPDATE_MODULE_TITLE,this.onUpdateName)},i.prototype.onUpdateName=function(t){if(t.owner)if(t.owner instanceof e.BaseModule){if(!t.owner.contains(this))return}else for(var i=this.parent,n=void 0;i;){if(i instanceof e.BaseModule){if(n=i.moduleName,n&&n!=t.owner.moduleName)return;break}i=i.parent}return this._isChangeTitle?(void 0!=t.title&&(""==t.title?this.lbl_title.visible=!1:this.title=t.title),void(t.ruleId&&t.ruleId>0)):void this.unRegisterNotify(e.NotifyConstLogin.UPDATE_MODULE_TITLE,this.onUpdateName)},Object.defineProperty(i.prototype,"title",{set:function(e){this._title=e,this.lbl_title&&this.isSkinLoaded&&(this.lbl_title.text=e,this.lbl_title.visible=!0)},enumerable:!0,configurable:!0}),i.prototype.onUpdateNameNoChange=function(t){this.title=t,this._isChangeTitle=!1,this.unRegisterNotify(e.NotifyConstLogin.UPDATE_MODULE_TITLE,this.onUpdateName)},i}(e.UIComponent);e.PanelBgUI=t,__reflect(t.prototype,"qmr.PanelBgUI")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PanelPopBg",t}return __extends(t,e),t.prototype.initComponent=function(){},Object.defineProperty(t.prototype,"title",{set:function(e){this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomTips",{set:function(e){this.lbl_bottom.visible=e},enumerable:!0,configurable:!0}),t}(e.UIComponent);e.PanelPopBgUI=t,__reflect(t.prototype,"qmr.PanelPopBgUI")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._tabSelected=!1,t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),0==this.itemIndex?this.currentState=this.selected?"leftUpSelected":"leftUp":this.itemIndex==this.parent.dataProvider.length-1&&(this.currentState=this.selected?"rightUpSelected":"rightUp")},Object.defineProperty(t.prototype,"selected",{get:function(){return this._tabSelected},set:function(e){this._tabSelected=e,0==this.itemIndex?this.currentState=e?"leftUpSelected":"leftUp":this.itemIndex==this.parent.dataProvider.length-1?this.currentState=e?"rightUpSelected":"rightUp":this.currentState=e?"upAndSelected":"up"},enumerable:!0,configurable:!0}),t}(eui.ItemRenderer);e.TabBarPageRender=t,__reflect(t.prototype,"qmr.TabBarPageRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e}();e.DataManager=t,__reflect(t.prototype,"qmr.DataManager")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.getCommonConfig=function(t){var i=e.ConfigManager.getBean(e.ConfigEnum.COMMONCONFIG),n=i.get(t);return n?n.param:""},t.getCNValue=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=e.ConfigManager.getBean(e.ConfigEnumBase.CLIENTCN),r=o.get(t);if(r){var a=e.GlobalConfig.isCN?r.value:r.en_value;return i&&i.length>0&&(i.unshift(a),a=e.StringUtils.getmsg.apply(e.StringUtils,i)),a}return""},t}();e.ConfigManagerAft=t,__reflect(t.prototype,"qmr.ConfigManagerAft")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.d.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"param",{get:function(){return this.d.param},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.HelpTipCfg=t,__reflect(t.prototype,"qmr.HelpTipCfg");var i=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.d.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resId",{get:function(){return this.d.resId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"limitTime",{get:function(){return this.d.limitTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.d.level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthly",{get:function(){return this.d.monthly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"produce",{get:function(){return this.d.produce},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"directPerson",{get:function(){return this.d.directPerson},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"teamPerson",{get:function(){return this.d.teamPerson},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UBuyStar",{get:function(){return this.d.UBuyStar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UBuyPrice",{get:function(){return this.d.UBuyPrice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UActivePrice",{get:function(){return this.d.UActivePrice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UBuyLimit",{get:function(){return this.d.UBuyLimit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){return this.d.price},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.PetCfg=i,__reflect(i.prototype,"qmr.PetCfg");var n=function(e){function t(t){var i=e.call(this,t)||this;return i.key="mapId",i}return __extends(t,e),Object.defineProperty(t.prototype,"mapId",{get:function(){return this.d.mapId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgRetimes",{get:function(){return this.d.bgRetimes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgHeight",{get:function(){return this.d.bgHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgNames",{get:function(){return this.d.bgNames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelsEvent",{get:function(){return this.d.labelsEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgType",{get:function(){return this.d.bgType},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.MapCfg=n,__reflect(n.prototype,"qmr.MapCfg");var o=function(e){function t(t){var i=e.call(this,t)||this;return i.key="mapId",i}return __extends(t,e),Object.defineProperty(t.prototype,"mapId",{get:function(){return this.d.mapId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.d.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roadHeight",{get:function(){return this.d.roadHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapResId",{get:function(){return this.d.mapResId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showUiModel",{get:function(){return this.d.showUiModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bossShowUiModel",{get:function(){return this.d.bossShowUiModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this.d.time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this.d.step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"music",{get:function(){return this.d.music},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.XinHangUpCfg=o,__reflect(o.prototype,"qmr.XinHangUpCfg");var r=function(e){function t(t){var i=e.call(this,t)||this;return i.key="skillId",i}return __extends(t,e),Object.defineProperty(t.prototype,"skillId",{get:function(){return this.d.skillId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.d.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.d.level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this.d.group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seq",{get:function(){return this.d.seq},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this.d.desc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skillFightVal",{get:function(){return this.d.skillFightVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.d.icon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.d.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextSkillId",{get:function(){return this.d.nextSkillId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){return this.d.cost},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectId",{get:function(){return this.d.effectId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ultimateEffectId",{get:function(){return this.d.ultimateEffectId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHide",{get:function(){return this.d.isHide},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.SkillCfg=r,__reflect(r.prototype,"qmr.SkillCfg");var a=function(e){function t(t){var i=e.call(this,t)||this;return i.key="mapId",i}return __extends(t,e),Object.defineProperty(t.prototype,"mapId",{get:function(){return this.d.mapId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapname",{get:function(){return this.d.mapname},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.TemplateCfg=a,__reflect(a.prototype,"qmr.TemplateCfg");var s=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.d.weights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cycle",{get:function(){return this.d.cycle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"des",{get:function(){return this.d.des},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.InjectCycleCfg=s,__reflect(s.prototype,"qmr.InjectCycleCfg");var c=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.d.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"precent",{get:function(){return this.d.precent},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.TradeCostCfg=c,__reflect(c.prototype,"qmr.TradeCostCfg");var l=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.d.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"precent",{get:function(){return this.d.precent},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.DirectRateCfg=l,__reflect(l.prototype,"qmr.DirectRateCfg");var f=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allCount",{get:function(){return this.d.allCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"directCount",{get:function(){return this.d.directCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"otherCount",{get:function(){return this.d.otherCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"precent",{get:function(){return this.d.precent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dec",{get:function(){return this.d.dec},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.TeamRateCfg=f,__reflect(f.prototype,"qmr.TeamRateCfg");var h=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"param",{get:function(){return this.d.param},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.CommonConfigCfg=h,__reflect(h.prototype,"qmr.CommonConfigCfg");var u=function(e){function t(t){var i=e.call(this,t)||this;return i.key="level",i}return __extends(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this.d.level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){return this.d.cost},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffs",{get:function(){return this.d.buffs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dec",{get:function(){return this.d.dec},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.OutBossInspireCfg=u,__reflect(u.prototype,"qmr.OutBossInspireCfg");var p=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"action_type",{get:function(){return this.d.action_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cast_effect",{get:function(){return this.d.cast_effect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cast_showTime",{get:function(){return this.d.cast_showTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cast_time",{get:function(){return this.d.cast_time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"show_effect",{get:function(){return this.d.show_effect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this.d.speed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orderly_effect",{get:function(){return this.d.orderly_effect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"show_durotion",{get:function(){return this.d.show_durotion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"show_time",{get:function(){return this.d.show_time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiTimes",{get:function(){return this.d.multiTimes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multistage",{get:function(){return this.d.multistage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hit_effect",{get:function(){return this.d.hit_effect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitDelay",{get:function(){return this.d.hitDelay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shake",{get:function(){return this.d.shake},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shakeTimePoint",{get:function(){return this.d.shakeTimePoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shakeTime",{get:function(){return this.d.shakeTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"node_duration",{get:function(){return this.d.node_duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cameraStartTime",{get:function(){return this.d.cameraStartTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cameraWaitTime",{get:function(){return this.d.cameraWaitTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cameraScaleTime",{get:function(){return this.d.cameraScaleTime},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.SkillEffectCfg=p,__reflect(p.prototype,"qmr.SkillEffectCfg");var _=function(e){function t(t){var i=e.call(this,t)||this;return i.key="id",i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"res",{get:function(){return this.d.res},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playTimes",{get:function(){return this.d.playTimes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.d.position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.d.scale},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.d.blendMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRandomPlay",{get:function(){return this.d.isRandomPlay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this.d.sound},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needOverturn",{get:function(){return this.d.needOverturn},enumerable:!0,configurable:!0}),t}(e.BaseBean);e.EffectDataCfg=_,__reflect(_.prototype,"qmr.EffectDataCfg")
}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.HELPTIP="HelpTip",e.PET="Pet",e.MAP="Map",e.XINHANGUP="XinHangUp",e.SKILL="Skill",e.TEMPLATE="Template",e.INJECTCYCLE="InjectCycle",e.TRADECOST="TradeCost",e.DIRECTRATE="DirectRate",e.TEAMRATE="TeamRate",e.COMMONCONFIG="CommonConfig",e.OUTBOSSINSPIRE="OutBossInspire",e.SKILLEFFECT="SkillEffect",e.EFFECTDATA="EffectData",e}();e.ConfigEnum=t,__reflect(t.prototype,"qmr.ConfigEnum")}(qmr||(qmr={}));var CoinType;!function(e){e[e.JINBI=1]="JINBI"}(CoinType||(CoinType={}));var EffectPosition;!function(e){e[e.CARD_BOTTOM=0]="CARD_BOTTOM",e[e.CARD_OVER=1]="CARD_OVER",e[e.CARD_FRONT=2]="CARD_FRONT",e[e.CARD_TOP=3]="CARD_TOP"}(EffectPosition||(EffectPosition={}));var ActorType;!function(e){e[e.HERO=0]="HERO",e[e.MONSTER=1]="MONSTER",e[e.BOSS=2]="BOSS",e[e.DROP=3]="DROP"}(ActorType||(ActorType={}));var SkillActionType;!function(e){e[e.ACTION_1=1]="ACTION_1",e[e.ACTION_2=2]="ACTION_2",e[e.ACTION_3=3]="ACTION_3",e[e.ACTION_4=4]="ACTION_4",e[e.ACTION_5=5]="ACTION_5",e[e.ACTION_6=6]="ACTION_6",e[e.ACTION_7=7]="ACTION_7",e[e.ACTION_8=8]="ACTION_8",e[e.ACTION_9=9]="ACTION_9",e[e.ACTION_10=10]="ACTION_10",e[e.ACTION_11=11]="ACTION_11",e[e.ACTION_12=12]="ACTION_12",e[e.ACTION_13=13]="ACTION_13"}(SkillActionType||(SkillActionType={}));var CampType;!function(e){e[e.FOE=0]="FOE",e[e.OUR=1]="OUR"}(CampType||(CampType={}));var EffectConst;!function(e){e[e.ACTOR_DIE_EFFECT=3007]="ACTOR_DIE_EFFECT",e[e.VICOTYR_EFFECT=8027]="VICOTYR_EFFECT",e[e.HALO_SHUI=100]="HALO_SHUI",e[e.HALO_SHUIDI=101]="HALO_SHUIDI",e[e.CHANGE_HERO_EFFECT=102]="CHANGE_HERO_EFFECT",e[e.CARD_QUALITY_EFFECT_6000=6e3]="CARD_QUALITY_EFFECT_6000",e[e.CARD_QUALITY_EFFECT_6001=6001]="CARD_QUALITY_EFFECT_6001",e[e.CARD_QUALITY_EFFECT_6002=6002]="CARD_QUALITY_EFFECT_6002",e[e.CARD_QUALITY_EFFECT_6005=6005]="CARD_QUALITY_EFFECT_6005",e[e.CARD_QUALITY_EFFECT_6006=6006]="CARD_QUALITY_EFFECT_6006",e[e.HALO_SKILL_6006=6006]="HALO_SKILL_6006",e[e.HALO_SKILL_6007=6007]="HALO_SKILL_6007",e[e.hang_skill_13004=13004]="hang_skill_13004",e[e.hang_skill_13005=13005]="hang_skill_13005",e[e.hang_skill_13006=13006]="hang_skill_13006",e[e.hang_skill_13007=13007]="hang_skill_13007",e[e.hang_skill_13008=13008]="hang_skill_13008",e[e.hang_skill_13009=13009]="hang_skill_13009",e[e.BIG_SELECT_EFFECT=40107]="BIG_SELECT_EFFECT",e[e.AUTO_FIGHT_EFFECT=8001]="AUTO_FIGHT_EFFECT",e[e.SMALL_SELECT_EFFECT=40106]="SMALL_SELECT_EFFECT",e[e.LEVELUP_EFFECT=8002]="LEVELUP_EFFECT",e[e.CLICK_EFFECT=8003]="CLICK_EFFECT",e[e.TASK_COMPLETE_EFFECT=8004]="TASK_COMPLETE_EFFECT",e[e.MELT_EFFECT=8005]="MELT_EFFECT",e[e.STRENGTH_EFFECT=8051]="STRENGTH_EFFECT",e[e.UPSTAR_EFFECT=8051]="UPSTAR_EFFECT",e[e.JINGJIE_EFFECT=8051]="JINGJIE_EFFECT",e[e.UP_PING_EFFECT=8051]="UP_PING_EFFECT",e[e.SKILL_ADD_EFFECT=8021]="SKILL_ADD_EFFECT",e[e.SKILL_UPGRADE=8022]="SKILL_UPGRADE",e[e.TASK_AWARD_EFFECT=8023]="TASK_AWARD_EFFECT",e[e.TASK_CLICK_EFFECT=8024]="TASK_CLICK_EFFECT",e[e.BOX_AWARD_EFFECT=8025]="BOX_AWARD_EFFECT",e[e.ICON_SELECT_EFFECT=8026]="ICON_SELECT_EFFECT",e[e.GREEN_HANDER=8028]="GREEN_HANDER",e[e.TASK_DONE=8029]="TASK_DONE",e[e.TOUCH_BTN=8030]="TOUCH_BTN",e[e.CANTOUCH_EFFECT=8031]="CANTOUCH_EFFECT",e[e.PRESENTGIFT_EFFECT=8032]="PRESENTGIFT_EFFECT",e[e.GOLD_EFFECT=8033]="GOLD_EFFECT",e[e.PETALSFLY_EFFECT=8034]="PETALSFLY_EFFECT",e[e.BEAUTYFIT_EFFECT=8035]="BEAUTYFIT_EFFECT",e[e.MARTIAL_EFFECT=8040]="MARTIAL_EFFECT",e[e.TAOBAO_WEAPON1=8041]="TAOBAO_WEAPON1",e[e.TAOBAO_WEAPON2=8042]="TAOBAO_WEAPON2",e[e.TAOBAO_WEAPON3=8043]="TAOBAO_WEAPON3",e[e.PROGRESS_EFFECT=8044]="PROGRESS_EFFECT",e[e.CAVALRY_EFFECT=8045]="CAVALRY_EFFECT",e[e.INTERACTION_EFFECT=8046]="INTERACTION_EFFECT",e[e.SKILL_SINGLE_UP=8047]="SKILL_SINGLE_UP",e[e.BEAUTY_LIKE_EFFECT=8048]="BEAUTY_LIKE_EFFECT",e[e.ANSWER_EFFECT=8049]="ANSWER_EFFECT",e[e.INTERACTION_OPERA_EFFECT=8050]="INTERACTION_OPERA_EFFECT",e[e.STONE_EFFECT=8051]="STONE_EFFECT",e[e.TURNSTAR_EFFECT=8052]="TURNSTAR_EFFECT",e[e.RELIVE_EFFECT=9009]="RELIVE_EFFECT"}(EffectConst||(EffectConst={}));var ColorConst;!function(e){e[e.COLOR_WHITE=16777215]="COLOR_WHITE",e[e.COLOR_BLACK=0]="COLOR_BLACK",e[e.COLOR_VIOLET=16711935]="COLOR_VIOLET",e[e.COLOR_PURPLE=10494192]="COLOR_PURPLE",e[e.COLOR_GREEN=65280]="COLOR_GREEN",e[e.COLOR_CADMIUM=16748544]="COLOR_CADMIUM",e[e.COLOR_RED=16711680]="COLOR_RED",e[e.COLOR_BLUE=2263550]="COLOR_BLUE",e[e.COLOR_SKILL=65535]="COLOR_SKILL",e[e.COMMON_GREEN=370701]="COMMON_GREEN",e[e.COMMON_GREEN2=1542471]="COMMON_GREEN2",e[e.COMMON_BROWN=5910059]="COMMON_BROWN",e[e.COMMON_BULE=4758466]="COMMON_BULE",e[e.COMMON_YELLOW=16710804]="COMMON_YELLOW",e[e.COMMON_BR=8404743]="COMMON_BR",e[e.COMMON_BR2=9595719]="COMMON_BR2",e[e.COMMON_ORANGE=15684864]="COMMON_ORANGE",e[e.COMMON_WHITE=16777215]="COMMON_WHITE",e[e.COMMON_RED=14489856]="COMMON_RED",e[e.COMMON_PURPLE=9644225]="COMMON_PURPLE",e[e.COMMON_BLUE1=2857935]="COMMON_BLUE1"}(ColorConst||(ColorConst={}));var qmr;!function(e){var t=function(){function e(){}return e.PROMPT_VIEW="qmr.PromptView",e.PROMPT_INPUT_VIEW="qmr.PromptInputView",e.HELP_TIP_VIEW="qmr.HelpTipView",e.EXCHANGE_VIEW="qmr.ExchangeView",e.MAINUI_VIEW="qmr.MainView",e.SHOP_VIEW="qmr.ShopView",e.PET_VIEW="qmr.PetView",e.GOLD_LOG_VIEW="qmr.GoldLogView",e.USDT_LOG_VIEW="qmr.USDTLogView",e.TRADE_VIEW="qmr.TradeView",e.INVITE_CODE_VIEW="qmr.InviteCodeView",e.INJECT_VIEW="qmr.InjectView",e.DIVIDEND_VIEW="qmr.DividendView",e.ACT_KEY_VIEW="qmr.ActiveKeyView",e.APP_DOWN_VIEW="qmr.AppDownloadView",e.MINE_PASSIED_VIEW="qmr.MinePassIdView",e.MINEID_VIEW="qmr.MineIdView",e.CERTIFICATION_VIEW="qmr.CertificationView",e.HELP_MAIN_VIEW="qmr.HelpMain",e.RECHARGE_VIEW="qmr.RechargeView",e.WIHTDRAWAL_VIEW="qmr.WithdrawalView",e.LOGIN_GIFT_VIEW="qmr.LoginGiftView",e.ACTIVE_SHOP_VIEW="qmr.ActiveShopView",e.RUNE_LOTTERY_VIEW="qmr.RuneLotteryView",e.TEAM_RANK_VIEW="qmr.TeamRankView",e.ACTIVE_DRAW_LOGS="qmr.ActiveDrawLogsView",e}();e.ModuleNameConst=t,__reflect(t.prototype,"qmr.ModuleNameConst")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.SWITCH_LANGUAGE="SWITCH_LANGUAGE",e.S_SYN_PROPERTY="S_SYN_PROPERTY",e.TAB_VIEW_GUIDE="TAB_VIEW_GUIDE",e.RED_HOT_UPDATE="RED_HOT_UPDATE",e.SELECT_ITEM_SELECTED="SELECT_ITEM_SELECTED",e.S_GET_FINSH_INFO="S_GET_FINSH_INFO",e.S_COMBINE_FINSH="S_COMBINE_FINSH",e.S_BUY_FISH="S_BUY_FISH",e.S_GET_MONEY_REWARD="S_GET_MONEY_REWARD",e.S_GET_MONEY_INFO="S_GET_MONEY_INFO",e.S_GET_MONEY_LOG_LIST="S_GET_MONEY_LOG_LIST",e.S_GET_DIAMOND_LOG_LIST="S_GET_DIAMOND_LOG_LIST",e.S_DIAMOND_BUY_FISH="S_DIAMOND_BUY_FISH",e.S_GET_OCT_BUYGOOD_LIST="S_GET_OCT_BUYGOOD_LIST",e.S_GET_MY_OCT_BUYGOOD_LIST="S_GET_MY_OCT_BUYGOOD_LIST",e.S_GET_OCT_MARKET_INFO="S_GET_OCT_MARKET_INFO",e.S_MARKET_BUY="S_MARKET_BUY",e.S_MARKET_SELL="S_MARKET_SELL",e.S_MARKET_CANCEL="S_MARKET_CANCEL",e.S_GET_MONEY_EXCHANGE_INFO="S_GET_MONEY_EXCHANGE_INFO",e.S_MONEY_EXCHANGE_KAD="S_MONEY_EXCHANGE_KAD",e.S_GET_BONUS_INFO="S_GET_BONUS_INFO",e.S_INJECT_KAD="S_INJECT_KAD",e.S_GET_INJECT_INFO="S_GET_INJECT_INFO",e.S_GET_FEED_COUNT="S_GET_FEED_COUNT",e.S_CASH_OUT_APPLY="S_CASH_OUT_APPLY",e.ON_PET_SELECTED="ON_PET_SELECTED",e.S_GET_MY_TEAM_INFO="S_GET_MY_TEAM_INFO",e.S_GET_MY_TEAM_LIST="S_GET_MY_TEAM_LIST",e.S_MODIFY_PASSWORD="S_MODIFY_PASSWORD",e.S_GET_KEY_LIST="S_GET_KEY_LIST",e.S_USE_KEY="S_USE_KEY",e.S_GIVE_KEY="S_GIVE_KEY",e.S_REAL_NAME_VERIFICATION="S_REAL_NAME_VERIFICATION",e.S_GET_MY_ADDRESS="S_GET_MY_ADDRESS",e.S_GET_DEAP_ACTIVITY_INFO="S_GET_DEAP_ACTIVITY_INFO",e.S_GET_MY_DEAP_ACTIVITY_INFO="S_GET_MY_DEAP_ACTIVITY_INFO",e.S_BUY_DEAP_ACTIVITY_FISH="S_BUY_DEAP_ACTIVITY_FISH",e.S_GET_OCEAN_ACTIVITY_INFO="S_GET_OCEAN_ACTIVITY_INFO",e.S_GET_MY_OCEAN_ACTIVITY_INFO="S_GET_MY_OCEAN_ACTIVITY_INFO",e.S_OCEAN_ACTIVITY_DRAW="S_OCEAN_ACTIVITY_DRAW",e.S_GET_OCEAN_ACTIVITY_RANK="S_GET_OCEAN_ACTIVITY_RANK",e.S_GET_OCEAN_ACTIVITY_DRAW_LOG="S_GET_OCEAN_ACTIVITY_DRAW_LOG",e}();e.NotifyConst=t,__reflect(t.prototype,"qmr.NotifyConst")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.getCache=function(t,i){void 0===i&&(i=null);var n=egret.localStorage.getItem(e.CACHE_GAME_KEY+t);return void 0==n?i:"string"==typeof i?n:"number"==typeof i?parseInt(n):"boolean"==typeof i?"true"==n:void 0},e.setCache=function(t,i){egret.localStorage.setItem(e.CACHE_GAME_KEY+t,i)},e.setOneCache=function(t,i){e.CACHE_DIC[t]=i},e.getOneCache=function(t,i){void 0===i&&(i=null);var n=e.CACHE_DIC[t];return void 0!=n?"string"==typeof i?n:"number"==typeof i?parseInt(n):n:i},e.CACHE_GAME_KEY="guangmang.keji.mt.",e.CACHE_DIC={},e}();e.CacheManager=t,__reflect(t.prototype,"qmr.CacheManager")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.currentFrame=1,i.totalFrame=0,i.isStopped=!0,i.passedTime=0,i.lastTime=0,i.frameRate=30,i.mainClip=new e.AnimateClip(i.onLoaded,i),i}return __extends(i,t),i.prototype.play=function(t,i){this.currentFrame=1,this.totalFrame=0,this.mainClip.load(e.SystemPathAft.effectPath+t+"/",i),this.addChild(this.mainClip)},i.prototype.onLoaded=function(){this.totalFrame=this.mainClip.totalFrames,this.frameRate=this.mainClip.frameRate,this.currentFrame=1,1==this.totalFrame?(this.mainClip.render(1),this.setIsStopped(!0)):this.setIsStopped(!1)},i.prototype.advanceTime=function(e){var t=this,i=e-t.lastTime;t.lastTime=e;var n=t.frameIntervalTime,o=t.passedTime+i;t.passedTime=o%n;var r=o/n;if(1>r)return!1;for(this.render();r>=1;)r--,this.currentFrame++;return!1},i.prototype.render=function(){this.totalFrame>0&&(this.currentFrame>this.totalFrame&&(this.currentFrame=1),this.mainClip.render(this.currentFrame))},Object.defineProperty(i.prototype,"frameRate",{set:function(e){e>60&&(e=60),this._frameRate=e,this.frameIntervalTime=1e3/e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timeScale",{set:function(e){isNaN(this.frameRate)||(this.frameIntervalTime=1e3/this._frameRate*e)},enumerable:!0,configurable:!0}),i.prototype.setIsStopped=function(e){this.isStopped!=e&&(this.isStopped=e,e?egret.stopTick(this.advanceTime,this):(this.lastTime=egret.getTimer(),egret.startTick(this.advanceTime,this)))},i.prototype.dispos=function(){this.mainClip&&this.mainClip.dispos(),this.setIsStopped(!0),this.parent&&this.parent.removeChild(this)},i}(egret.DisplayObjectContainer);e.BaseBullet=t,__reflect(t.prototype,"qmr.BaseBullet")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;i.cfgScale=1;var n=i;return n.currentFrame=1,n.totalFrame=0,n.isStopped=!0,n._pauseFramed=!1,n.passedTime=0,n.lastTime=0,n.playTimes=1,n._timeScale=1,n.frameRate=30,n.eventDic={},n.mainClip=new e.AnimateClip(n.onLoaded,n),n.touchEnabled=n.touchChildren=!1,i}return __extends(i,t),i.prototype.getCurrentFrame=function(){return this.currentFrame},Object.defineProperty(i.prototype,"isRandomPlay",{get:function(){return this._isRandomPlay},set:function(e){this._isRandomPlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pauseFramed",{get:function(){return this._pauseFramed},set:function(e){this._pauseFramed=e},enumerable:!0,configurable:!0}),i.prototype.setIsDirLoad=function(e){this.mainClip&&this.mainClip.setIsDirLoad(e)},i.prototype.onLoaded=function(){this.totalFrame=this.mainClip.totalFrames,this.frameRate=this.mainClip.frameRate,this.currentFrame=this.isRandomPlay?Math.floor(Math.random()*this.totalFrame+1):1},i.prototype.play=function(t,i,n,o,r,a){void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===o&&(o=1),void 0===r&&(r=null),void 0===a&&(a=null);var s=this;s.currentFrame=1,s.totalFrame=0,s.playTimes=n,s.loopCallBack=r,s.thisObject=a,s._timeScale=o,s._pauseFramed=!1,s.mainClip.load(e.SystemPathAft.effectPath,t,e.DirUtil.getDir(i)),s.addChild(s.mainClip),s.setIsStopped(!1)},i.prototype.playUIEffect=function(t,i,n,o,r,a){void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===o&&(o=1),void 0===r&&(r=null),void 0===a&&(a=null);var s=this;s.currentFrame=1,s.totalFrame=0,s.playTimes=n,s.loopCallBack=r,s.thisObject=a,s._timeScale=o,s._pauseFramed=!1,s.mainClip.load(e.SystemPathAft.uieffect,t,e.DirUtil.getDir(i)),s.addChild(s.mainClip),s.setIsStopped(!1)},i.prototype.registerFrameEvent=function(e,t,i){this.eventDic[e]={callBack:t,thisObject:i}},i.prototype.unRegisterFrameEvent=function(e){this.eventDic[e]&&(this.eventDic[e]=null,delete this.eventDic[e])},i.prototype.advanceTime=function(e){var t=this,i=e-t.lastTime;t.lastTime=e;var n=t.frameIntervalTime,o=t.passedTime+i;t.passedTime=o%n;var r=o/n;if(1>r)return!1;for(t.render();!t._pauseFramed&&r>=1;)r--,t.currentFrame++,t.checkFrameEvent();return!1},Object.defineProperty(i.prototype,"clipBlendMode",{set:function(e){this.mainClip&&(this.mainClip.blendMode=e)},enumerable:!0,configurable:!0}),i.prototype.checkFrameEvent=function(){if(this.eventDic[this.currentFrame]){var e=this.eventDic[this.currentFrame];e.callBack&&e.callBack.call(e.thisObject)}},i.prototype.render=function(){var e=this;if(e.totalFrame>0){if(e.currentFrame>e.totalFrame)if(e.currentFrame=1,-1==e.playTimes)e.loopCallBack&&e.loopCallBack.call(e.thisObject);else if(e.playTimes--,e.playTimes<=0)return e.loopCallBack&&e.loopCallBack.call(e.thisObject),void e.dispos();e.stage&&e.mainClip.render(e.currentFrame)}},Object.defineProperty(i.prototype,"effectWidth",{get:function(){return this.mainClip?this.mainClip.effectWidth:0},set:function(e){this.mainClip&&(this.mainClip.effectWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleXY",{set:function(e){this.scaleX=this.scaleY=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameRate",{set:function(e){e>60&&(e=60),this._frameRate=e,this.frameIntervalTime=1e3/(e*this._timeScale)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timeScale",{set:function(e){0>=e&&(e=1);var t=this;t._timeScale=e,isNaN(t.frameRate)||(t.frameIntervalTime=1e3/(t._frameRate*e))},enumerable:!0,configurable:!0}),i.prototype.setIsStopped=function(e){this.isStopped!=e&&(this.isStopped=e,e?egret.stopTick(this.advanceTime,this):(this.lastTime=egret.getTimer(),egret.startTick(this.advanceTime,this)))},i.prototype.clear=function(){this.mainClip&&(this.mainClip.blendMode=egret.BlendMode.NORMAL,this.mainClip.dispos()),this.setIsStopped(!0);for(var e in this.eventDic)this.eventDic[e]=null,delete this.eventDic[e]},i.prototype.dispos=function(){var e=this;e.rotation=0,e.effectWidth=0,t.prototype.dispos.call(this),e.mainClip&&(e.mainClip.blendMode=egret.BlendMode.NORMAL,e.mainClip.dispos()),e.setIsStopped(!0);for(var i in e.eventDic)e.eventDic[i]=null,delete e.eventDic[i];e.scaleXY=1,e.parent&&e.parent.removeChild(e)},i}(e.BaseEffectMover);e.BaseEffect=t,__reflect(t.prototype,"qmr.BaseEffect")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.init=function(){this.setupClass()},t.setupClass=function(){var t=e.ModuleManager;t.registerClass(e.ModuleNameConst.PROMPT_VIEW,e.PromptView),t.registerClass(e.ModuleNameConst.PROMPT_INPUT_VIEW,e.PromptInputView),t.registerClass(e.ModuleNameConst.HELP_TIP_VIEW,e.HelpTipView),t.registerClass(e.ModuleNameConst.MAINUI_VIEW,e.MainView),t.registerClass(e.ModuleNameConst.SHOP_VIEW,e.ShopView),t.registerClass(e.ModuleNameConst.PET_VIEW,e.PetView),t.registerClass(e.ModuleNameConst.GOLD_LOG_VIEW,e.GoldLogView),t.registerClass(e.ModuleNameConst.USDT_LOG_VIEW,e.USDTLogView),t.registerClass(e.ModuleNameConst.TRADE_VIEW,e.TradeView),t.registerClass(e.ModuleNameConst.EXCHANGE_VIEW,e.ExchangeView),t.registerClass(e.ModuleNameConst.INVITE_CODE_VIEW,e.InviteCodeView),t.registerClass(e.ModuleNameConst.INJECT_VIEW,e.InjectView),t.registerClass(e.ModuleNameConst.DIVIDEND_VIEW,e.DividendView),t.registerClass(e.ModuleNameConst.ACT_KEY_VIEW,e.ActiveKeyView),t.registerClass(e.ModuleNameConst.APP_DOWN_VIEW,e.AppDownloadView),t.registerClass(e.ModuleNameConst.MINE_PASSIED_VIEW,e.MinePassIdView),t.registerClass(e.ModuleNameConst.MINEID_VIEW,e.MineIdView),t.registerClass(e.ModuleNameConst.CERTIFICATION_VIEW,e.CertificationView),t.registerClass(e.ModuleNameConst.HELP_MAIN_VIEW,e.HelpMain),t.registerClass(e.ModuleNameConst.RECHARGE_VIEW,e.RechargeView),t.registerClass(e.ModuleNameConst.WIHTDRAWAL_VIEW,e.WithdrawalView),t.registerClass(e.ModuleNameConst.LOGIN_GIFT_VIEW,e.LoginGiftView),t.registerClass(e.ModuleNameConst.ACTIVE_SHOP_VIEW,e.ActiveShopView),t.registerClass(e.ModuleNameConst.RUNE_LOTTERY_VIEW,e.RuneLotteryView),t.registerClass(e.ModuleNameConst.TEAM_RANK_VIEW,e.TeamRankView),t.registerClass(e.ModuleNameConst.ACTIVE_DRAW_LOGS,e.ActiveDrawLogsView)},t}();e.ModuleManagerAft=t,__reflect(t.prototype,"qmr.ModuleManagerAft")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(e,t){this.updateSize(e,t)}return e.prototype.updateSize=function(e,t){this.m_width=e,this.m_height=t,this.m_cameraOffsetX=0,this.m_cameraOffsetY=0},e.prototype.init=function(e){this.m_container=e,this.m_zoomX=this.m_container.x,this.m_zoomY=this.m_container.y},e.prototype.setAnchor=function(e){null!=this.m_container&&e&&(this.m_container.anchorOffsetX=e.x,this.m_container.anchorOffsetY=e.y,this.m_container.x=this.m_container.anchorOffsetX,this.m_container.y=this.m_container.anchorOffsetY,this.m_zoomX=this.m_container.anchorOffsetX,this.m_zoomY=this.m_container.anchorOffsetY)},e.prototype.setZoom=function(e){null!=this.m_container&&(this.m_container.scaleX=this.m_container.width/this.m_width/e,this.m_container.scaleY=this.m_container.height/this.m_height/e)},e.prototype.setRotation=function(e){null!=this.m_container&&(this.m_container.rotation=e)},e.prototype.follow=function(e){null!=this.m_container&&(this.m_follower=e,this.m_zoomX=this.m_follower.x,this.m_zoomY=this.m_follower.y)},e.prototype.CameraMoveX=function(e){console.log(e),this.m_cameraOffsetX=e,this.CameraUpdate(),this.m_cameraOffsetX=0},e.prototype.CameraMoveY=function(e){this.m_cameraOffsetY=e,this.CameraUpdate(),this.m_cameraOffsetY=0},e.prototype.CameraUpdate=function(){for(var e=0;e<this.m_container.numChildren;e++)null!=this.m_follower?this.m_follower!=this.m_container.getChildAt(e)&&(this.m_container.getChildAt(e).x-=this.m_cameraOffsetX,this.m_container.getChildAt(e).y-=this.m_cameraOffsetY):(this.m_container.getChildAt(e).x-=this.m_cameraOffsetX,this.m_container.getChildAt(e).y-=this.m_cameraOffsetY)},e}();e.Camera=t,__reflect(t.prototype,"qmr.Camera")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.bgNames=["_hang_top.jpg","_hang_middle.png","_hang_down.png"],e._speed1=.3,e._speed2=1.2,e._speed3=2.2,e._imgToX1=1e3,e._imgToX2=1e3,e._imgToX3=1e3,e.moveStartx=0,e.initBase(),e}return __extends(i,t),i.prototype.initBase=function(){var t=this;t.mapPaths=[],t.bgBmpArr=[new egret.Bitmap,new egret.Bitmap,new egret.Bitmap];var i=e.StageUtil.stageWidth,n=e.StageUtil.stageHeight;t.moveRec1=new egret.Rectangle(0,0,i,n),t.moveRec2=new egret.Rectangle(0,0,i,n),t.moveRec3=new egret.Rectangle(0,0,i,n),t.mover1=new egret.DisplayObjectContainer,t.mover1.addChild(new egret.Bitmap);var o=new egret.Bitmap;o.scaleX=-1,t.mover1.addChild(o),t.mover1.scrollRect=t.moveRec1,t.mover2=new egret.DisplayObjectContainer,t.mover2.addChild(new egret.Bitmap),t.mover2.addChild(new egret.Bitmap),t.mover2.scrollRect=t.moveRec2,t.mover3=new egret.DisplayObjectContainer,t.mover3.addChild(new egret.Bitmap),t.mover3.addChild(new egret.Bitmap),t.mover3.scrollRect=t.moveRec2,t.addChild(t.mover1),t.addChild(t.mover2),t.addChild(t.mover3),t.touchEnabled=t.touchChildren=!1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t)},i.prototype.loadMap=function(t){var i=e.ConfigManager.getConf(e.ConfigEnum.XINHANGUP,t);if(!i)return void e.LogUtil.warn("挂机地图配置不存在:"+t);for(var n,o,r,a=i.mapResId,s=this,c=this.bgNames.length,l=(e.StageUtil.stageHeight,function(){var t=f,i=function(e,i){if(e&&(o=s.bgBmpArr[t])){o.texture=e;for(var n=t+1,r=s["mover"+n],a=r.numChildren,c=void 0,l=0,f=e.textureWidth,h=0;a>h;h++)c=r.getChildAt(h),c&&(c.scaleX<0?c.x=l+f:c.x=l,c.texture=e,l+=f)}s.reLayout()};n=a+s.bgNames[f],r=e.ResPathUtilAft.getMapUrl(n),e.ResManager.getRes(r,i,s,e.LoadPriority.IMMEDIATELY,RES.ResourceItem.TYPE_IMAGE),s.mapPaths.push(r)}),f=0;c>f;f++)l();s.addChild(s.mover1),s.addChild(s.mover2),s.addChild(s.mover3),s.__lastMoveTime=0,s.setMoveX(0,0,0),s.startMove()},i.prototype.reLayout=function(){for(var t,i,n=this,o=80,r=this.bgBmpArr.length,a=1;r>=a;a++)t=n["mover"+a],t&&(t.y=1==a?0:e.StageUtil.stageHeight-120-t.height-50),i=n.bgBmpArr[a-1],i&&(n["_imgToX"+a]=0==a?i.width-e.StageUtil.stageWidth:2*i.width-e.StageUtil.stageWidth);var s=e.StageUtil.stageHeight;s>1400?(n.moveRec1.y=0,n.mover2.y=e.StageUtil.stageHeight-120-n.mover2.height-70-o):(n.moveRec1.y=250,n.mover2.y=e.StageUtil.stageHeight-120-n.mover2.height-50-o)},i.prototype.onAddToStage=function(t){this.reLayout(),e.NotifyManager.registerNotify(e.StageUtil.STAGE_RESIZE,this.onStageResize,this)},i.prototype.onStageResize=function(t){var i=this,n=e.StageUtil.stageWidth,o=e.StageUtil.stageHeight;i.moveRec1.width=i.moveRec2.width=i.moveRec3.width=n,i.moveRec1.height=i.moveRec2.height=i.moveRec3.height=o,i.reLayout()},i.prototype.startMove=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrameHandler,this),this.addEventListener(egret.Event.ENTER_FRAME,this.enterFrameHandler,this)},i.prototype.enterFrameHandler=function(e){var t=this,i=egret.getTimer();if(!(i-t.__lastMoveTime<30)){t.__lastMoveTime=i;var n=t.moveRec1.x+t._speed1,o=t.moveRec2.x+t._speed2,r=t.moveRec3.x+t._speed3;t.setMoveX(n,o,r)}},i.prototype.setMoveX=function(e,t,i){var n=this;if(n.moveRec1.x=e,n.moveRec2.x=t,n.moveRec3.x=i,n.moveRec1.x<n._imgToX1)n.mover1.scrollRect=n.moveRec1;else{var o=n.bgBmpArr[1];o&&(n.moveRec1.x=0,n.mover1.scrollRect=n.moveRec1)}if(n.moveRec2.x<n._imgToX2)n.mover2.scrollRect=n.moveRec2;else{var r=n.bgBmpArr[1];r&&(n.moveRec2.x=n.moveRec2.x-r.width,n.moveRec2.x<0&&(n.moveRec2.x=0),n.mover2.scrollRect=n.moveRec2)}if(n.moveRec3.x<n._imgToX3)n.mover3.scrollRect=n.moveRec3;else{var a=n.bgBmpArr[2];a&&(n.moveRec3.x=n.moveRec3.x-a.width,n.moveRec3.x<0&&(n.moveRec3.x=0),n.mover3.scrollRect=n.moveRec3)}},i.prototype.pause=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrameHandler,this)},i.prototype.dispose=function(){this.pause(),this.mapPaths.length=0,e.DisplayUtils.removeDisplay(this)},i}(egret.DisplayObjectContainer);e.HangMap=t,__reflect(t.prototype,"qmr.HangMap")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.bgType=0,e.bgHeights=[1600,1280],e.bgRetimes=[1,2],e.bgNames=["bg1_jpg","bg2_jpg"],e._speed=5,e._currSpeed=5,e.bmpAllHeight=0,e.moveStarty=0,e.curWave=0,e.initBase(),e}return __extends(n,t),n.prototype.initBase=function(){this.bgBmpArr=[],this.mapPaths=[],this.tilesKeys=[],this.maskWave=[],this.refPoints=[],this.moveRec=new egret.Rectangle(0,0,e.StageUtil.stageWidth,e.StageUtil.stageHeight),this.mover=new egret.DisplayObjectContainer,this.mover.scrollRect=this.moveRec,this.addChild(this.mover),this.touchEnabled=this.touchChildren=!1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},n.prototype.loadMap=function(t){var n=this,o=e.ConfigManager.getConf(e.ConfigEnum.MAP,t);if(!o)return void e.LogUtil.warn("地图配置不存在:"+t);this.tilesKeys.length=0,this.maskWave.length=0,this.mapPaths.length=0,this.refPoints.length=0,this.curWave=0,this.bgType=o.bgType,this.bgNames=o.bgNames.split("|"),this.bgRetimes=(o.bgRetimes+"").split("|").map(Number),this.bgHeights=(o.bgHeight+"").split("|").map(Number),this.bgLabelEvents=(o.labelsEvent+"").split("|").map(Number);var r,a=this.bgNames.length,s=0;this.isOneMap=this.bgType==i.TYPE_2;for(var c,l=e.StageUtil.stage.stageHeight,f=0,h=0,u=0;a>u;u++){r=this.bgNames[u],h=this.bgRetimes[u];for(var p=0;h>p;p++)s+=this.bgHeights[u],c=e.ResPathUtilAft.getMapUrl(r),this.tilesKeys[f]=c,this.mapPaths.push(c),f++}this.mapPaths.reverse(),this.mapPaths.forEach(function(t){e.ResManager.getRes(t,n.onMapLoadComplete,n,e.LoadPriority.IMMEDIATELY,RES.ResourceItem.TYPE_IMAGE)}),this.bmpAllHeight=s,a=this.bgLabelEvents.length;for(var _=0;a>_;_++)this.refPoints[_]=(this.bmpAllHeight-l)*this.bgLabelEvents[_]/100;this.addChild(this.mover)},n.prototype.onMapLoadComplete=function(t,i){if(t){var n=this.tilesKeys.indexOf(i);if(n>-1){this.tilesKeys[n]="",this.bgBmpArr[n]=this.createBitmapByTexture(t);for(var o=-1,r=0;r<this.bgNames.length;r++)if(-1!=i.indexOf(this.bgNames[r])){o=r;break}-1!=o&&(this.isOneMap?this.bgHeights[o]=e.StageUtil.stage.stageHeight:this.bgHeights[o]=t.textureHeight),this.reLayout()}}},n.prototype.reLayout=function(){for(var t,i=0,n=this.bgRetimes.length,o=0,r=0;n>r;r++)for(var a=this.bgRetimes[r],s=0;a>s;s++)t=this.bgBmpArr[o],t&&(t.y=i,t.width=e.StageUtil.stageWidth,this.isOneMap&&e.StageUtil.stageHeight>1400&&(t.height=e.StageUtil.stageHeight),this.mover.addChild(t)),i+=this.bgHeights[r],o++},n.prototype.onAddToStage=function(t){this.reLayout(),e.NotifyManager.registerNotify(e.StageUtil.STAGE_RESIZE,this.onStageResize,this),this.moveRec&&(this.moveRec.width=e.StageUtil.stageWidth,this.moveRec.height=e.StageUtil.stageHeight)},n.prototype.onStageResize=function(t){this.moveRec.width=e.StageUtil.stageWidth,this.moveRec.height=e.StageUtil.stageHeight,this.moveStarty=this.bmpAllHeight-e.StageUtil.stageHeight;for(var i=this.mover.numChildren,n=0;i>n;n++){var o=this.mover.getChildAt(n);o&&(this.isOneMap&&0==n&&(o.height=e.StageUtil.stageHeight),o.width=e.StageUtil.stageWidth)}},n.prototype.createBitmapByTexture=function(e){var t=new egret.Bitmap;return t.texture=e,t},n.prototype.dispose=function(){e.NotifyManager.unRegisterNotify(e.StageUtil.STAGE_RESIZE,this.onStageResize,this),e.DisplayUtils.removeAllChild(this.mover),e.DisplayUtils.removeDisplay(this),this.tilesKeys.length=0,this.mapPaths.length=0,this.bgBmpArr.length=0,this.refPoints.length=0},n}(egret.DisplayObjectContainer);e.Map=t,__reflect(t.prototype,"qmr.Map");var i;!function(e){e[e.TYPE_0=0]="TYPE_0",e[e.TYPE_1=1]="TYPE_1",e[e.TYPE_2=2]="TYPE_2"}(i||(i={}))}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this,n=i;return n.mapLayer=new egret.DisplayObjectContainer,n.bottomLayer=new egret.DisplayObjectContainer,n.objLayer=new egret.DisplayObjectContainer,n.frontLayer=new egret.DisplayObjectContainer,n.maskLayer=new egret.DisplayObjectContainer,n.topLayer=new egret.DisplayObjectContainer,n.maskLayer.touchEnabled=n.maskLayer.touchChildren=!1,n.mapLayer.touchEnabled=n.mapLayer.touchChildren=!1,n.bottomLayer.touchEnabled=n.bottomLayer.touchChildren=!1,n.topLayer.touchEnabled=n.topLayer.touchChildren=!1,n.frontLayer.touchEnabled=n.frontLayer.touchChildren=!1,n.addChild(n.mapLayer),n.addChild(n.bottomLayer),n.addChild(n.objLayer),n.addChild(n.frontLayer),n.addChild(n.maskLayer),n.addChild(n.topLayer),n.objList=new Array,n.camera=new e.Camera(e.StageUtil.stageWidth,e.StageUtil.stageHeight),n.camera.init(n),n.zeroPoint=new egret.Point(0,0),i}return __extends(i,t),i.prototype.addMaskShape=function(){var t=this;t.maskShape||(t.maskShape=new egret.Shape),t.maskShape.graphics.beginFill(0,1),t.maskShape.graphics.drawRect(0,0,e.StageUtil.stageWidth,e.StageUtil.stageHeight),t.maskShape.graphics.endFill(),t.maskLayer.addChild(t.maskShape)},i.prototype.tweenShowOrHideMask=function(e){var t=this;e?(t.addMaskShape(),t.maskShape.alpha=0,t.maskShape.visible=!0,egret.Tween.get(t.maskShape).to({alpha:.7},100)):t.maskShape&&t.maskShape.visible&&egret.Tween.get(t.maskShape).to({alpha:0},100).call(function(){t.maskShape.graphics.clear(),t.maskShape.visible=!1})},i.prototype.addListener=function(){e.NotifyManager.registerNotify(e.StageUtil.STAGE_RESIZE,this.onStageResize,this)},i.prototype.onStageResize=function(){var e=this;egret.setTimeout(function(){e.checkPosition()},this,500)},i.prototype.checkPosition=function(){this.camera.updateSize(e.StageUtil.stageWidth,e.StageUtil.stageHeight)},i.prototype.lookAt=function(e,t,i){if(void 0===t&&(t=700),void 0===i&&(i=3e3),e){var n=this;this.camera.setAnchor(e),egret.Tween.removeTweens(n),egret.Tween.get(this).to({scaleX:1.6,scaleY:1.6},t,egret.Ease.circOut).wait(i).to({scaleX:1,scaleY:1},t,egret.Ease.cubicOut)}},i.prototype.removeTween=function(){var e=this;egret.Tween.removeTweens(e),e.scaleX=e.scaleY=1,this.camera.setAnchor(this.zeroPoint)},i.prototype.findBaseObjectById=function(t){for(var i=0,n=this.objList;i<n.length;i++){var o=n[i];if(e.MathUtil.equal(o.id,t))return o}return null},i.prototype.removeBaseObjectById=function(t){for(var i=0,n=this.objList;i<n.length;i++){var o=n[i];if(e.MathUtil.equal(t,o.id)){var r=this.objList.indexOf(o);if(-1!=r){this.objList.splice(r,1),o.dispos(),o=null;break}}}},i.prototype.removeBaseObject=function(t){if(t){var i=this.objList.indexOf(t);-1!=i&&this.objList.splice(i,1),t instanceof e.HeroActor&&e.LogUtil.logF("移除对象数量:-----"+this.objList.length+" "+i+" "+t.fighterId),t.dispos(),t=null}},i.prototype.addObject=function(t){-1==this.objList.indexOf(t)?(t.scene=this,this.objList.push(t),t.ui&&(e.LogUtil.logF("添加一个baseObject到场景中"+t.id),this.addObjectLayer(t.ui))):e.LogUtil.logF("场景上已经存在了")},i.prototype.addObjectToTop=function(e){-1==this.objList.indexOf(e)&&(e.scene=this,this.objList.push(e)),e&&e.ui&&this.addObjectLayer(e.ui)},i.prototype.addToMap=function(e){this.mapLayer.addChild(e)},i.prototype.addToBottom=function(e){this.bottomLayer.addChild(e)},i.prototype.addObjectLayer=function(e){this.objLayer.addChild(e)},i.prototype.addToFront=function(e){this.frontLayer.addChild(e)},i.prototype.addToTop=function(e){this.topLayer.addChild(e)},i.prototype.showOrHideTopLayer=function(e){this.topLayer.visible=e},i.prototype.getObjectListByType=function(e){for(var t=[],i=0,n=this.objList;i<n.length;i++){var o=n[i];o.type==e&&t.push(o)}return t},i.prototype.getObjGlobalPoint=function(e){return this.objLayer.localToGlobal(e.x,e.y)},i.prototype.getObjectList=function(){return this.objList},i.prototype.pause=function(){this.mapLayer.parent&&this.mapLayer.parent.removeChild(this.mapLayer),this.bottomLayer.parent&&this.bottomLayer.parent.removeChild(this.bottomLayer),this.objLayer.parent&&this.objLayer.parent.removeChild(this.objLayer),this.topLayer.parent&&this.topLayer.parent.removeChild(this.topLayer),this.frontLayer.parent&&this.frontLayer.parent.removeChild(this.frontLayer)},i.prototype.resume=function(){this.addChild(this.mapLayer),this.addChild(this.bottomLayer),this.addChild(this.objLayer),this.addChild(this.topLayer),this.addChild(this.frontLayer)},i.prototype.removeAllBottomObj=function(){for(var t=this.bottomLayer;t.numChildren>0;){var i=t.getChildAt(0);i instanceof e.TombstoneDrop?(i.dispose(),i=null):i instanceof e.BaseEffect?(i.dispos(),i=null):e.DisplayUtils.removeDisplay(i)}},i.prototype.clear=function(){var e=this;e.removeTween(),e.removeAllBottomObj(),e.frontLayer.removeChildren();var t=e.objList;if(t)for(;t.length>0;){var i=t.shift();i&&(i.dispos(),i=null)}e.maskShape&&e.maskShape.visible&&(e.maskShape.graphics.clear(),e.maskShape.visible=!1)},i}(eui.UILayer);e.Scene=t,__reflect(t.prototype,"qmr.Scene")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.LAYER_MAP="LAYER_MAP",e.LAYER_BOTTOM="LAYER_BOTTOM",e.LAYER_PLAYER="LAYER_PLAYER",e.LAYER_MASK="LAYER_MASK",e.LAYER_FRONT="LAYER_FRONT",e.LAYER_TOP="LAYER_TOP",e}();e.SceneLayerEnum=t,__reflect(t.prototype,"qmr.SceneLayerEnum")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){this.__mapType=0,this._oldx=0,this._oldy=0,this._isShake=!1,this.initScene()}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"HangMap",{get:function(){return this._hangMap||(this._hangMap=new e.HangMap),this._hangMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Map",{get:function(){return this._map||(this._map=new e.Map),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapType",{get:function(){return this.__mapType
},set:function(e){this.__mapType=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInHangMap",{get:function(){return this.mapType==t.MAP_HANG},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInFightMap",{get:function(){return this.mapType==t.MAP_FIGHT},enumerable:!0,configurable:!0}),t.prototype.initScene=function(){this.scene=new e.Scene},t.prototype.enterHangMap=function(i){void 0===i&&(i=0);var n=this;if(n.mapType!=t.MAP_HANG||i!=n._chapterId){n.mapType=t.MAP_HANG,n._chapterId=i;var o=n.HangMap;o.x=0,o.y=52,o.loadMap(i);var r=e.ConfigManager.getConf(e.ConfigEnum.XINHANGUP,i);r&&e.SoundManager.getInstance().loadAndPlayMusic(r.music),o.parent||t.instance.addToMap(o),n.scene.parent||e.LayerManager.instance.addDisplay(n.scene,e.LayerConst.MAP_LAYER),n.leaveMap()}},t.prototype.enterMap=function(i,n){void 0===n&&(n=0);var o=this;if(o.mapType!=t.MAP_FIGHT||i!=o._instanceId||o._mapId!=n){o.mapType=t.MAP_FIGHT,o._instanceId=i,o._mapId=n;var r=o.Map;r.x=r.y=0,r.parent||t.instance.addToMap(r),o.scene.parent||e.LayerManager.instance.addDisplay(o.scene,e.LayerConst.MAP_LAYER),e.LogUtil.log("战斗:加载战斗地图，准备退出挂机地图",o._mapId,i),o.leaveHangMap()}},t.prototype.removeHangMap=function(){var e=this;if(e._hangMap){var t=function(){e._hangMap&&e._hangMap.dispose()};e._map.alpha=.5,egret.Tween.get(e._map).to({alpha:1},200).call(t,e)}},t.prototype.removeFightMap=function(){var e=this;if(e._map){var t=function(){e._map&&e._map.dispose()},i=e.HangMap;i.alpha=.5,egret.Tween.get(i).to({alpha:1},200).call(t,e)}},t.prototype.leaveHangMap=function(){this.scene&&this._hangMap&&(this._hangMap.dispose(),e.LogUtil.log("战斗:leave hangMap"))},t.prototype.leaveMap=function(){this.scene&&this._map&&this._map.dispose()},t.prototype.lookAt=function(e,t,i){void 0===t&&(t=700),void 0===i&&(i=1e3),this.scene&&e&&this.scene.lookAt(e,t,i)},Object.defineProperty(t.prototype,"mapLayer",{get:function(){return e.LayerManager.instance.getLayer(e.LayerConst.MAP_LAYER)},enumerable:!0,configurable:!0}),t.prototype.shake=function(t){void 0===t&&(t=200);var i=this;i.removeShake(),i._isShake=!0;var n=i.scene;i._oldx=n.x,i._oldy=n.y,e.TweenEffectUtil.shake2(n,t),e.Ticker.getInstance().registerTick(i.resetShakePos,i,t,1)},t.prototype.resetShakePos=function(){this._isShake&&(this._isShake=!1,this.scene.x=this._oldx,this.scene.x=this._oldy)},t.prototype.removeShake=function(){this._isShake&&(egret.Tween.removeTweens(this.scene),e.Ticker.getInstance().unRegisterTick(this.resetShakePos,this),this.resetShakePos())},t.prototype.tweenShowOrHideMask=function(e){this.scene&&this.scene.tweenShowOrHideMask(e)},t.prototype.onAttackResultBack=function(t,i,n){if(void 0===n&&(n=1),t&&i){var o=i.beHurtMsg.type,r=i.beHurtMsg.value*n|0;t instanceof e.HeroActor&&(t.catcheState(i.beginState,i.endState),t.onPlayHit()),e.FloatManager.createFloatHp(o,r,t.x,t.y,1,2)}},t.prototype.addToMap=function(e){this.scene.addToMap(e)},t.prototype.addToBottom=function(e){this.scene.addToBottom(e)},t.prototype.addObject=function(e){this.scene.addObject(e)},t.prototype.addObjectToTop=function(e){this.scene.addObjectToTop(e)},t.prototype.addToFront=function(e){this.scene.addToFront(e)},t.prototype.addToTop=function(e){this.scene.addToTop(e)},t.prototype.getBaseObjectByid=function(e){return this.scene.findBaseObjectById(e)},t.prototype.getObjectListByType=function(e){return this.scene.getObjectListByType(e)},t.prototype.removeBaseObjectById=function(e){this.scene.removeBaseObjectById(e)},t.prototype.clearMonster=function(){for(var e=this.scene.getObjectListByType(ActorType.MONSTER);e.length>0;){var t=e.shift();this.removeBaseObject(t)}},t.prototype.removeAllBottomObj=function(){this.scene.removeAllBottomObj()},t.prototype.getRenderList=function(){return this.scene.getObjectList()},t.prototype.pause=function(){this.scene.pause()},t.prototype.resume=function(){this.scene.resume()},t.prototype.removeBaseObject=function(e){this.scene.removeBaseObject(e)},t.prototype.removeAll=function(){this.scene&&this.scene.clear()},t.MAP_HANG=0,t.MAP_FIGHT=1,t}();e.SceneManager=t,__reflect(t.prototype,"qmr.SceneManager")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){this.effectPool=[],this.initPool()}return t.prototype.initPool=function(){for(var t=0;10>t;t++)this.effectPool.push(new e.BaseEffect)},t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.getEffect=function(){return this.effectPool.length>0?this.effectPool.shift():new e.BaseEffect},t.prototype.releaseEffect=function(e){-1==this.effectPool.indexOf(e)&&(e.blendMode=egret.BlendMode.NORMAL,e.scaleX=e.scaleY=1,e.x=0,e.y=0,e.rotation=0,e.visible=!0,e.timeScale=1,this.effectPool.push(e))},t}();e.EffectFactory=t,__reflect(t.prototype,"qmr.EffectFactory")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e}();e.EffectManager=t,__reflect(t.prototype,"qmr.EffectManager")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.update=function(){var e=this;e.initBaseActor(),e.updateBaseActor(),e.updatePos(),e.layout()},i.prototype.initBaseActor=function(){var t=this;t.resPath=e.SystemPath.rolePath;var i=e.Status.IDLE;t.baseActor=new e.BaseActor(t.resPath,t.onBodyLoad,t,i),t.baseActor.touchChildren=!1,t.addChild(t.baseActor)},i.prototype.onBodyLoad=function(){},i.prototype.updateBaseActor=function(){var t=this;t.removeActor(),t.modelId>0&&t.addPartAt(e.ActorPart.BODY,t.modelId)},i.prototype.updatePos=function(){},i.prototype.layout=function(){},i.prototype.removeActor=function(){this.baseActor&&this.baseActor.dispos(!1)},i}(e.BaseMoverActor);e.HeroActor=t,__reflect(t.prototype,"qmr.HeroActor")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.getTombstoneDrop=function(){var t=e.Pool.getItemByClass("TombstoneDrop",i);return t},i.recovryTombstoneDrop=function(t){e.Pool.recover("TombstoneDrop",t)},i.prototype.delayShowEffect=function(){e.Ticker.getInstance().registerTick(this.showEffect,this,500,1)},i.prototype.showEffect=function(){this.dieffect=e.EffectPlayer.playUIEffect("card_die",!1,{x:0,y:0},this)},i.prototype.initBase=function(){this.img_icon=new eui.Image,this.addChild(this.img_icon),this.loadImg()},i.prototype.loadImg=function(){e.ResManager.getRes(e.SystemPathAft.unpack_battle+"ui_zd_mubei.png",this.onIconLoaded,this,e.LoadPriority.HIGH,RES.ResourceItem.TYPE_IMAGE)},i.prototype.onIconLoaded=function(e){this.img_icon.texture=e,this.layout()},i.prototype.layout=function(){this.img_icon.anchorOffsetX=this.img_icon.width>>1,this.img_icon.anchorOffsetY=this.img_icon.height>>1},i.prototype.dispose=function(){e.Ticker.getInstance().unRegisterTick(this.showEffect,this),this.dieffect&&(this.dieffect.dispos(),this.dieffect=null),i.recovryTombstoneDrop(this),e.DisplayUtils.removeDisplay(this)},i}(egret.DisplayObjectContainer);e.TombstoneDrop=t,__reflect(t.prototype,"qmr.TombstoneDrop")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.playerInfos=new e.Dictionary,i.playerUnits=new e.Dictionary,i}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return null==this._instance&&(this._instance=new i),this._instance},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){},i.prototype.addDragon=function(){var t=new eui.Group;e.SceneManager.instance.addToBottom(t),t.x=e.StageUtil.stageWidth/2-200+Math.ceil(300*Math.random()),t.y=e.StageUtil.stageHeight/2-100+Math.ceil(200*Math.random());var i,n;GameUtil.LoadDB(t,"long",function(e,t){i=e,n=t,n&&(n.x=0,n.y=0)},0,0)},i.prototype.addPlayer=function(t){var i=this;if(i.playerInfos.set(t.id,t),15==t.fishId)return void i.addDragon();var n=i.playerUnits.get(t.id);n||(n=e.PetActor.getPetActor()),n.update(t),e.SceneManager.instance.addObject(n),i.addShowActorTween(n)},i.prototype.removePlayer=function(t){var i=this,n=i.playerUnits.get(t);n&&(n.dispos(),e.PetActor.recovryPetActor(n)),i.playerUnits.remove(t),i.playerInfos.remove(t),e.SceneManager.instance.removeBaseObjectById(t)},i.prototype.addShowActorTween=function(e){egret.Tween.get(e).to({alpha:1},1e3).wait(50).call(function(){egret.Tween.removeTweens(e)})},i.prototype.getPetPosition=function(e){var t=new egret.Point(500*Math.random(),1e3*Math.random());return e>7&&(t.x=0),t.y=t.y<300?200+600*Math.random():t.y,15==e&&(t.x=300,t.y=400),t},i}(e.BaseController);e.MapController=t,__reflect(t.prototype,"qmr.MapController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.getPetActor=function(){var t=e.Pool.getItemByClass("PetActor",i);return t},i.recovryPetActor=function(t){e.Pool.recover("PetActor",t)},i.prototype.update=function(e){var t=this;t.petInfo=e,t.id=e.id,t.modelId=e.modelId,t.initBaseActor(),t.updateBaseActor(),t.updatePos(),t.layout()},i.prototype.initBaseActor=function(){var t=this;if(!t.baseActor){t.resPath=e.SystemPath.rolePath;var i=115==Number(t.petInfo.modelId)?e.Status.IDLE:e.Status.MOVE;t.baseActor=new e.BaseActor(t.resPath,t.onBodyLoad,t,i),t.baseActor.touchChildren=!1,t.addChild(t.baseActor)}},i.prototype.onBodyLoad=function(){},i.prototype.updateBaseActor=function(){var t=this;if(t.removeActor(),t.petInfo&&t.petInfo.modelId>0){var i=t.petInfo.modelId;t.addPartAt(e.ActorPart.BODY,i)}},i.prototype.updatePos=function(){var t=this;if(t.petInfo){var i=e.MapController.instance.getPetPosition(t.petInfo.fishId);t.x=i.x,t.y=i.y}},i.prototype.layout=function(){},i.prototype.removeActor=function(){this.baseActor&&this.baseActor.dispos(!1)},i.prototype.dispos=function(){t.prototype.dispos.call(this)},i}(e.BaseMoverActor);e.PetActor=t,__reflect(t.prototype,"qmr.PetActor")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.prototype.setData=function(t){var i=this;i.id=e.Int64Util.getNumber(t.id),i.level=t.level,i.fishId=e.Int64Util.getNumber(t.fishId),i.state=t.state,i._allMoney=e.Int64Util.getNumber(t.allMoney),i._extMoney=e.Int64Util.getNumber(t.extMoney),i._leftMoney=e.Int64Util.getNumber(t.leftMoney),i._todayGotMoney=e.Int64Util.getNumber(t.todayGotMoney),i._todayCurMoney=e.Int64Util.getNumber(t.todayCurMoney),i.allDay=t.allDay},Object.defineProperty(t.prototype,"allMoney",{get:function(){return this._allMoney/e.HeroModel.TIMES},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extMoney",{get:function(){return this._extMoney/e.HeroModel.TIMES},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftMoney",{get:function(){return this._leftMoney/e.HeroModel.TIMES},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"todayGotMoney",{get:function(){return this._todayGotMoney/e.HeroModel.TIMES},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"todayCurMoney",{get:function(){return this._todayCurMoney/e.HeroModel.TIMES},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){var t=this;return!t._cfg&&t.fishId&&t.fishId>0&&(t._cfg=e.ConfigManager.getConf(e.ConfigEnum.PET,t.fishId)),t._cfg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelId",{get:function(){var e=this,t=e.config;return t?parseInt(t.resId):0},enumerable:!0,configurable:!0}),t}();e.PetActorInfo=t,__reflect(t.prototype,"qmr.PetActorInfo")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_GET_DEAP_ACTIVITY_INFO,this.getActiveResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MY_DEAP_ACTIVITY_INFO,this.getMyActiveResponse,this,!1),this.addSocketListener(e.MessageID.S_BUY_DEAP_ACTIVITY_FISH,this.getBuyFishResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_OCEAN_ACTIVITY_INFO,this.getOcpActiveResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MY_OCEAN_ACTIVITY_INFO,this.getMyOcpActiveResponse,this,!1),this.addSocketListener(e.MessageID.S_OCEAN_ACTIVITY_DRAW,this.getDrawResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_OCEAN_ACTIVITY_RANK,this.getOcpActiveRankResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_OCEAN_ACTIVITY_DRAW_LOG,this.getOcpDrawLogsResponse,this,!1)},i.prototype.requestActiveInfo=function(){var t=new com.message.C_GET_DEAP_ACTIVITY_INFO;this.sendCmd(t,e.MessageID.C_GET_DEAP_ACTIVITY_INFO,!0)},i.prototype.getActiveResponse=function(t){e.ActiveShopModel.instance.activePro=t.deapActivityMsg,this.dispatch(e.NotifyConst.S_GET_DEAP_ACTIVITY_INFO)},i.prototype.requestMyActiveInfo=function(){var t=new com.message.C_GET_MY_DEAP_ACTIVITY_INFO;this.sendCmd(t,e.MessageID.C_GET_MY_DEAP_ACTIVITY_INFO,!0)},i.prototype.getMyActiveResponse=function(t){e.ActiveShopModel.instance.myActivePro=t.myDeapActivityMsg,this.dispatch(e.NotifyConst.S_GET_MY_DEAP_ACTIVITY_INFO)},i.prototype.requestBuyFish=function(t){var i=new com.message.C_BUY_DEAP_ACTIVITY_FISH;i.fishId=t,this.sendCmd(i,e.MessageID.C_BUY_DEAP_ACTIVITY_FISH,!0)},i.prototype.getBuyFishResponse=function(t){var i=(t.fishMsg,e.ConfigManager.getConf(e.ConfigEnum.PET,t.fishMsg.fishId)),n=e.LabelUtil.getCNMessage(i.name);e.TipManagerCommon.getInstance().showLanTip("CN_210",n),e.ActiveShopModel.instance.myActivePro=t.myDeapActivityMsg,this.dispatch(e.NotifyConst.S_BUY_DEAP_ACTIVITY_FISH),this.requestActiveInfo()},i.prototype.requestOcpActiveInfo=function(){var t=new com.message.C_GET_OCEAN_ACTIVITY_INFO;this.sendCmd(t,e.MessageID.C_GET_OCEAN_ACTIVITY_INFO,!0)},i.prototype.getOcpActiveResponse=function(t){e.ActiveShopModel.instance.ocpActivePro=t.ocenActivityMsg,this.dispatch(e.NotifyConst.S_GET_OCEAN_ACTIVITY_INFO)},i.prototype.requestMyOcpActiveInfo=function(){var t=new com.message.C_GET_MY_OCEAN_ACTIVITY_INFO;this.sendCmd(t,e.MessageID.C_GET_MY_OCEAN_ACTIVITY_INFO,!0)},i.prototype.getMyOcpActiveResponse=function(t){e.ActiveShopModel.instance.myOcpActivePro=t.myOceanActivityMsg,this.dispatch(e.NotifyConst.S_GET_MY_OCEAN_ACTIVITY_INFO)},i.prototype.requestDraw=function(){var t=new com.message.C_OCEAN_ACTIVITY_DRAW;this.sendCmd(t,e.MessageID.C_OCEAN_ACTIVITY_DRAW,!0)},i.prototype.getDrawResponse=function(t){e.ActiveShopModel.instance.drawId=e.Int64Util.getNumber(t.rewardId),e.ActiveShopModel.instance.myOcpActivePro=t.myOceanActivityMsg,this.dispatch(e.NotifyConst.S_OCEAN_ACTIVITY_DRAW)},i.prototype.requestOcpRankInfo=function(t,i,n){void 0===i&&(i=1),void 0===n&&(n=100),this.rankType=t;var o=new com.message.C_GET_OCEAN_ACTIVITY_RANK;o.type=t,o.page=i,o.pageSize=n,this.sendCmd(o,e.MessageID.C_GET_OCEAN_ACTIVITY_RANK,!0)},i.prototype.getOcpActiveRankResponse=function(t){1==this.rankType?e.ActiveShopModel.instance.directRankPros=t.oceanActivityRankMsg:e.ActiveShopModel.instance.teamRankPros=t.oceanActivityRankMsg,this.dispatch(e.NotifyConst.S_GET_OCEAN_ACTIVITY_RANK)},i.prototype.requestOcpDrawLogs=function(){var t=new com.message.C_GET_OCEAN_ACTIVITY_DRAW_LOG;this.sendCmd(t,e.MessageID.C_GET_OCEAN_ACTIVITY_DRAW_LOG,!0)},i.prototype.getOcpDrawLogsResponse=function(t){e.ActiveShopModel.instance.drawLogPros=t.oceanActivityDrawLogMsg,this.dispatch(e.NotifyConst.S_GET_OCEAN_ACTIVITY_DRAW_LOG)},i}(e.BaseController);e.ActiveShopController=t,__reflect(t.prototype,"qmr.ActiveShopController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="ActiveShopItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var i=this;e.DisplayUtils.addClick(i.btn_buy_group,i.onBuyClick,i),i.switchLanguage()},i.prototype.switchLanguage=function(){var t=this;t.CN_115.text=e.LabelUtil.getCNMessage("CN_115"),t.CN_116.text=e.LabelUtil.getCNMessage("CN_116"),t.CN_117.text=e.LabelUtil.getCNMessage("CN_117")},i.prototype.onBuyClick=function(){var t=this.data;if(t){var i=e.ActiveShopModel.instance.myActivePro,n=e.ActiveShopModel.instance.activePro;return n&&i?n&&n.leftCount<=0?void e.TipManagerCommon.getInstance().createCommonTip("鱼已经售完"):i&&i.leftCount<=0?void e.TipManagerCommon.getInstance().createCommonTip("对不起购买次数不足"):t.UActivePrice>e.HeroModel.instance.totalUSDT?void e.TipManagerCommon.getInstance().showLanTip("CN_131"):void e.ActiveShopController.instance.requestBuyFish(t.id):void e.TipManagerCommon.getInstance().createCommonTip("对不起活动未开启")}},i.prototype.dataChanged=function(){var t=this,i=t.data;if(t.btn_buy_group.visible=!0,t.btn_buy_group.y=81,i){t.txt_name.text=e.LabelUtil.getCNMessage(i.name)+"(Lv."+i.level+")",t.txt_1.text=i.produce+"",t.txt_2.text=i.limitTime+"",t.txt_3.text=i.monthly+"%",t.CN_256.text=e.NumberUtil.getFloat4Number2String(i.UActivePrice)+e.HeroModel.USDT;var n=e.ResPathUtilAft.getHeadUrl(i.id+"");t.img_head.source=n}},i}(eui.ItemRenderer);e.ActiveShopItem=t,__reflect(t.prototype,"qmr.ActiveShopItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.rewardDes=["10USDT","50KH","1USDT","1000KH","20USDT","500KH","5USDT","200KH"],t.rewardIndexs=[7,1,5,4,8,3,6,2];return t}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t)},enumerable:!0,configurable:!0}),t.prototype.getRewardDes=function(e){var t=this.rewardIndexs.indexOf(e);return-1!=t?this.rewardDes[t]:""},t}(e.BaseModel);e.ActiveShopModel=t,__reflect(t.prototype,"qmr.ActiveShopModel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.__endTime=0,i.qmrSkinName="ActiveShopSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_15,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.ActiveShopItem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection},i.prototype.switchLange=function(){t.prototype.switchLange.call(this)},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView();var n=e.ActiveShopModel.instance.activePro;if(n){var o=e.Int64Util.getNumber(n.endTime);o>e.ServerTime.serverTime/1e3&&(e.ActiveShopController.instance.requestMyActiveInfo(),i.__endTime=o)}},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MY_DEAP_ACTIVITY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_BUY_DEAP_ACTIVITY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_DEAP_ACTIVITY_INFO,i.updateView,i)},i.prototype.updateView=function(){for(var t=this,i=e.ConfigManager.getBean(e.ConfigEnum.PET).values,n=[],o=0;o<i.length;o++)i[o].UActivePrice>0&&n.push(i[o]);t._arrCollection.replaceAll(n),t.text_count.text="0",t.txt_time.text="活动已经结束";var r=e.ActiveShopModel.instance.myActivePro,a=e.ActiveShopModel.instance.activePro;if(t.txt_time.textColor=632328,r){t.text_count.text=r.leftCount+"/"+2*a.limiteCount,t.text_allCount.text=a.leftCount+"/"+a.allCount;var s=t.__endTime-e.ServerTime.serverTime/1e3;s=Math.floor(s),s>0?(-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=egret.setInterval(t.updateTime,t,1e3),t.txt_time.text=e.TimeUtil.formatRemain4(t.__endTime-e.ServerTime.serverTime/1e3)):t.stopTime()}else t.stopTime()},i.prototype.updateTime=function(){var t=this;return t.__endTime<e.ServerTime.serverTime/1e3?void t.stopTime():void(t.txt_time.text=e.TimeUtil.formatRemain4(t.__endTime-e.ServerTime.serverTime/1e3))},i.prototype.stopTime=function(){var e=this;-1!=e.__timekey&&egret.clearInterval(e.__timekey),e.__timekey=-1,e.txt_time.text="活动已经结束",e.txt_time.textColor=14489856},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.ActiveShopView=t,__reflect(t.prototype,"qmr.ActiveShopView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="ActiveKeyItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){t.txt_2.text=e.TimeUtil.getDateByTimer(1e3*e.Int64Util.getNumber(i.logTime));var n=e.NumberUtil.getTelNumberShow(e.HeroModel.instance.IdentityPro.mobile),o="";301==i.type?o="<font color ='0xdd1900'>秘钥使用成功</font>":302==i.type?o="<font color ='0xbb8700'>"+n+"</font>赠送给玩家<font color ='0x2186cc'>"+i.info+"</font>秘钥成功":303==i.type&&(o="<font color ='0xbb8700'>"+i.info+"</font>赠送给玩家<font color ='0x2186cc'>"+n+"</font>秘钥成功"),t.txt_des.textFlow=e.HtmlUtil.getHtmlString(o)}},i.prototype.getState=function(e){var t;switch(e){case 301:t="使用";break;case 302:t="赠送";break;case 303:t=""}return t},i}(eui.ItemRenderer);e.ActiveKeyItem=t,__reflect(t.prototype,"qmr.ActiveKeyItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.qmrSkinName="ActiveKeySkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_9,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.ActiveKeyItem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.text_input_tel.restrict="0-9",i.text_input_count.restrict="0-9",i.showTxtNames=["CN_365","CN_366","CN_367","CN_368"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),i.text_input_tel.prompt=e.LabelUtil.getCNMessage("CN_369"),i.text_input_count.prompt=e.LabelUtil.getCNMessage("CN_370"),e.GlobalConfig.isCN?i.title_tuiguang.source="nameImg_json.title_tuiguang":i.title_tuiguang.source="nameImg_en_json.title_tuiguang"},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),e.TeamController.instance.requestMyKeyCMD()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_use,i.onUse,i),i.addClickEvent(i.btn_give,i.onGive,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_KEY_LIST,i.updateView,i),i.registerNotify(e.NotifyConst.S_USE_KEY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GIVE_KEY,i.updateView,i),e.LabelUtil.addInputListener(i.text_input_tel,i),e.LabelUtil.addInputListener(i.text_input_count,i)},i.prototype.onGive=function(){var t=this.text_input_tel.text;if(e.RegexpUtil.IsNull(t))return void e.TipManagerCommon.getInstance().showLanTip("CN_214");if(!e.RegexpUtil.isPhoneNumber(t))return void e.TipManagerCommon.getInstance().showLanTip("CN_176");var i=this.text_input_count.text;if(e.RegexpUtil.IsNull(i))return void e.TipManagerCommon.getInstance().showLanTip("CN_215");var n=parseInt(i);return 0>=n?void e.TipManagerCommon.getInstance().showLanTip("CN_216"):n>e.HeroModel.instance.keyCount?void e.TipManagerCommon.getInstance().showLanTip("CN_217"):e.HeroModel.instance.IdentityPro.mobile==t?void e.TipManagerCommon.getInstance().showLanTip("CN_218"):void e.TeamController.instance.requestGiveCMD(t,n)},i.prototype.onUse=function(){var t=e.HeroModel.instance.IdentityPro.state;return 1==t||2==t?void e.TipManagerCommon.getInstance().showLanTip("CN_219"):e.HeroModel.instance.keyCount<=0?void e.TipManagerCommon.getInstance().showLanTip("CN_220"):void e.TeamController.instance.requestUseKeyCMD()},i.prototype.updateView=function(){var t=this;t.txt_unused.text=e.HeroModel.instance.keyCount+"";var i=e.TeamModdel.instance.keyLogs;i&&i.length>0&&i.sort(function(t,i){return e.Int64Util.getNumber(i.logTime)-e.Int64Util.getNumber(t.logTime)}),t._arrCollection.replaceAll(i);var n=0==e.HeroModel.instance.IdentityPro.state?"CN_221":"CN_222";e.LabelUtil.setLabelText(t.txt_state,n),t.txt_state.textColor=0==e.HeroModel.instance.IdentityPro.state?16200229:980754},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.ActiveKeyView=t,__reflect(t.prototype,"qmr.ActiveKeyView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="DownLoadSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var e=this;t.prototype.initComponent.call(this),e.showTxtNames=["CN_399","CN_398","CN_538"]},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var e=this;e.addClickEvent(e.btnReturn,e.closeView,e),e.addClickEvent(e.btn_exchange_group2,e.downAndroid,e),e.addClickEvent(e.btn_exchange_group1,e.downIOS,e)},i.prototype.downAndroid=function(){var t=e.PlatformConfig.AppDownAddress;window.location.href=t},i.prototype.downIOS=function(){var t=e.PlatformConfig.AppDownAddress;window.location.href=t},i.prototype.updateView=function(){},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.AppDownloadView=t,__reflect(t.prototype,"qmr.AppDownloadView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.__leftTime=0,i.qmrSkinName="CertificationSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_2,i}return __extends(i,t),i.prototype.initComponent=function(){var e=this;t.prototype.initComponent.call(this),e.showTxtNames=["CN_378","CN_379","CN_381","CN_380"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),i.text_name.prompt=e.LabelUtil.getCNMessage("CN_382"),i.text_id.prompt=e.LabelUtil.getCNMessage("CN_383"),i.text_tel.prompt=e.LabelUtil.getCNMessage("CN_384"),e.GlobalConfig.isCN?i.title_renzheng.source="nameImg_json.title_renzheng":i.title_renzheng.source="nameImg_en_json.title_renzheng"},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_Identify,i.onIdentifyClick,i),i.registerNotify(e.NotifyConst.S_REAL_NAME_VERIFICATION,i.updateView,i),e.LabelUtil.addInputListener(i.text_name,i),e.LabelUtil.addInputListener(i.text_id,i),e.LabelUtil.addInputListener(i.text_tel,i)},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance.IdentityPro,n=2==i.state;t.identifyView.visible=!n,t.identifyedView.visible=n,n&&(t.txt_name_show.text=e.NumberUtil.getPersonNameShow(i.name),t.txt_id_show.text=i.idNum,t.txt_tel_show.text=e.NumberUtil.getTelNumberShow(e.Int64Util.getNumber(i.mobile))),t.__leftTime=(e.HeroModel.instance.certificationTime-egret.getTimer())/1e3,t.updateCd()},i.prototype.onIdentifyClick=function(){var t=this;if(t.__leftTime>0)return void e.TipManagerCommon.getInstance().createCommonTip("认证cd时间未到，请稍后再试...");var i=t.text_name.text,n=t.text_id.text,o=t.text_tel.text;if(!e.RegexpUtil.IsNull(i)){if(!e.RegexpUtil.isPhoneNumber(o))return void e.TipManagerCommon.getInstance().showLanTip("CN_176");if(!e.RegexpUtil.isIdentifyId(n))return void e.TipManagerCommon.getInstance().showLanTip("CN_197");if(0==e.HeroModel.instance.IdentityPro.state)return void e.TipManagerCommon.getInstance().showLanTip("CN_198");if(e.HeroModel.instance.lastId==n&&e.HeroModel.instance.lastName==i&&e.HeroModel.instance.lastTel==o)return void e.TipManagerCommon.getInstance().createCommonTip("实名三要素(身份证、姓名、手机号)不一致，认证失败");e.HeroModel.instance.lastId=n,e.HeroModel.instance.lastName=i,e.HeroModel.instance.lastTel=o,t.text_name.text="",t.text_id.text="",t.text_tel.text="",e.DividendController.instance.requestIdVerifCMD(o,i,n),e.HeroModel.instance.certificationTime=egret.getTimer()+59e3,t.__leftTime=59,t.updateCd()}},i.prototype.updateCd=function(){var t=this;t.__leftTime>0?(-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=egret.setInterval(t.updateTime,t,1e3),t.CN_381.text=e.CommonTool.formatTime1(t.__leftTime)+"s"):t.stopTime()},i.prototype.updateTime=function(){var t=this;return this.__leftTime<=0?void(t.CN_381.text=e.LabelUtil.getCNMessage("CN_381")):(t.CN_381.text=e.CommonTool.formatTime1(t.__leftTime)+"s",void t.__leftTime--)},i.prototype.stopTime=function(){var t=this;-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=-1,t.CN_381.text=e.LabelUtil.getCNMessage("CN_381")},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.CertificationView=t,__reflect(t.prototype,"qmr.CertificationView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_GET_MONEY_EXCHANGE_INFO,this.getExchangeResponse,this,!1),this.addSocketListener(e.MessageID.S_MONEY_EXCHANGE_KAD,this.getExchangeKADResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_BONUS_INFO,this.getDividendResponse,this,!1),this.addSocketListener(e.MessageID.S_INJECT_KAD,this.getInjectResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_INJECT_INFO,this.getInjectInfoResponse,this,!1),this.addSocketListener(e.MessageID.S_REAL_NAME_VERIFICATION,this.getIdentifyVerificationResponse,this,!1)},i.prototype.requestExchangeCMD=function(){var t=new com.message.C_GET_MONEY_EXCHANGE_INFO;this.sendCmd(t,e.MessageID.C_GET_MONEY_EXCHANGE_INFO,!0)},i.prototype.getExchangeResponse=function(t){e.DividendModel.instance.sysAllKAD=e.Int64Util.getNumber(t.moneyExchangeMsg.sysAllKAD),e.DividendModel.instance.exAllKAD=e.Int64Util.getNumber(t.moneyExchangeMsg.exAllKAD),e.DividendModel.instance.exRatio=e.Int64Util.getNumber(t.moneyExchangeMsg.exRatio),e.DividendModel.instance.exchangeLogs=t.playerExcInfoMsg,this.dispatch(e.NotifyConst.S_GET_MONEY_EXCHANGE_INFO)},i.prototype.requestExchangeKADCMD=function(t){var i=new com.message.C_MONEY_EXCHANGE_KAD;i.moneyCount=t,this.sendCmd(i,e.MessageID.C_MONEY_EXCHANGE_KAD,!0)},i.prototype.getExchangeKADResponse=function(t){e.DividendModel.instance.addExchangeLog(t.playerExcInfoMsg),this.dispatch(e.NotifyConst.S_MONEY_EXCHANGE_KAD)},i.prototype.requestDividendCMD=function(){var t=new com.message.C_GET_BONUS_INFO;this.sendCmd(t,e.MessageID.C_GET_BONUS_INFO,!0)},i.prototype.getDividendResponse=function(t){e.DividendModel.instance.sysAllBonus=t.sysBonusMsg.sysAllBonus,e.DividendModel.instance.todayAllBonus=t.sysBonusMsg.todayAllBonus,e.DividendModel.instance.bonusRatio=t.sysBonusMsg.bonusRatio,e.DividendModel.instance.dividenLogs=t.personBonusMsg,this.dispatch(e.NotifyConst.S_GET_BONUS_INFO)},i.prototype.requestInjectInfoCMD=function(){var t=new com.message.C_GET_INJECT_INFO;this.sendCmd(t,e.MessageID.C_GET_INJECT_INFO,!0)},i.prototype.getInjectInfoResponse=function(t){e.DividendModel.instance.allInject=t.allInject,e.DividendModel.instance.injectLogs=t.personInjectMsg,this.dispatch(e.NotifyConst.S_GET_INJECT_INFO)},i.prototype.requestInjectCMD=function(t,i){var n=new com.message.C_INJECT_KAD;n.KADCount=t,n.cycleId=i,this.sendCmd(n,e.MessageID.C_INJECT_KAD,!0)},i.prototype.getInjectResponse=function(t){e.DividendModel.instance.allInject=t.allInject,e.DividendModel.instance.addInjectLog(t.personInjectMsg),this.dispatch(e.NotifyConst.S_INJECT_KAD)},i.prototype.requestIdVerifCMD=function(t,i,n){var o=new com.message.C_REAL_NAME_VERIFICATION;o.mobile=t,o.name=i,o.idNum=n,this.sendCmd(o,e.MessageID.C_REAL_NAME_VERIFICATION,!0)
},i.prototype.getIdentifyVerificationResponse=function(t){t.result,t.remark;e.HeroModel.instance.IdentityPro=t.basePlayerMsg,this.dispatch(e.NotifyConst.S_REAL_NAME_VERIFICATION),e.TipManagerCommon.getInstance().showLanTip("CN_223")},i}(e.BaseController);e.DividendController=t,__reflect(t.prototype,"qmr.DividendController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="DividendItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){if(i.info){var n=Number(i.info),o=e.ConfigManager.getConf(e.ConfigEnum.INJECTCYCLE,n);t.txt_des.text=e.LabelUtil.getCNMessage(o.des)}t.txt_count.text=e.NumberUtil.getFloat6Number2String(i.diamondCount)+e.HeroModel.USDT;var r=new Date;r.setTime(e.Int64Util.getNumber(i.logTime)),t.txt_time.text=e.TimeUtil.formatColumnDate(r)}},i}(eui.ItemRenderer);e.DividendLogItem=t,__reflect(t.prototype,"qmr.DividendLogItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.sysAllKAD=0,t.exAllKAD=0,t.exRatio=0,t.sysAllBonus=0,t.todayAllBonus=0,t.bonusRatio=0,t.allInject=0;return t}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t)},enumerable:!0,configurable:!0}),t.prototype.addInjectLog=function(e){var t=this;t.injectLogs||(t.injectLogs=[]),t.injectLogs.push(e)},t.prototype.addExchangeLog=function(e){var t=this;t.exchangeLogs||(t.exchangeLogs=[]),t.exchangeLogs.push(e)},t}(e.BaseModel);e.DividendModel=t,__reflect(t.prototype,"qmr.DividendModel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.qmrSkinName="DividendSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_5,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.DividendLogItem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.showTxtNames=["CN_272","CN_348","CN_347","CN_350","CN_349","CN_352","CN_351","CN_329"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_fenhong.source="nameImg_json.title_fenhong":i.title_fenhong.source="nameImg_en_json.title_fenhong"},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),e.DividendController.instance.requestDividendCMD()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_BONUS_INFO,i.updateView,i)},i.prototype.updateView=function(){var t=this,i=e.DividendModel.instance;t.txt_total.text=e.NumberUtil.getFloat4Number2String(i.sysAllBonus),t.txt_dividend_total.text=e.NumberUtil.getFloat4Number2String(i.todayAllBonus);var n=0,o=i.dividenLogs;if(o&&o.length>0){for(var r=o.length,a=0;r>a;a++)n+=o[a].diamondCount;o.sort(function(t,i){return e.Int64Util.getNumber(i.logTime)-e.Int64Util.getNumber(t.logTime)})}var s=i.todayAllBonus;s>0&&n>0?(t.txt_self_pre.text=e.NumberUtil.getFloat6Number2String(n/s*100)+"%",t.txt_self_get.text=e.NumberUtil.getFloat6Number2String(n)+e.HeroModel.USDT):(t.txt_self_pre.text="0%",t.txt_self_get.text="0"+e.HeroModel.USDT),t._arrCollection.replaceAll(o)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.DividendView=t,__reflect(t.prototype,"qmr.DividendView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="ExchangeItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){var n=new Date;t.txt_countKAD.text=e.NumberUtil.getFloat6Number2String(i.KADCount)+e.HeroModel.KAD,t.txt_KH.text=e.NumberUtil.getFloat6Number2String(i.moneyCount)+e.HeroModel.KH,n.setTime(1e3*e.Int64Util.getNumber(i.logTime)),t.txt_time.text=e.TimeUtil.formatColumnDate(n)}},i}(eui.ItemRenderer);e.ExchangeLogtem=t,__reflect(t.prototype,"qmr.ExchangeLogtem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i._KHNum=0,i.qmrSkinName="ExchangeSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_4,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.ExchangeLogtem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.text_input_price.restrict="0-9",i.showTxtNames=["CN_395","CN_385","CN_386","CN_387","CN_388","CN_389","CN_391","CN_394","CN_392","CN_393"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),i.text_input_price.prompt=e.LabelUtil.getCNMessage("CN_396"),e.GlobalConfig.isCN?i.title_duihuan.source="nameImg_json.title_duihuan":i.title_duihuan.source="nameImg_en_json.title_duihuan"},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),e.DividendController.instance.requestExchangeCMD()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_exchange_group,i.onExchangeClick,i),i.addEvent(i.text_input_price,egret.Event.FOCUS_OUT,i.onFocusOut,i),i.addEvent(i.text_input_price,egret.Event.CHANGE,i.onTextInputChange,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_EXCHANGE_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_MONEY_EXCHANGE_KAD,i.updateView,i),e.LabelUtil.addInputListener(i.text_input_price,i)},i.prototype.onTextInputChange=function(t){var i=t.target.text;e.RegexpUtil.IsNull(i)||e.RegexpUtil.IsInteger(i)&&(this._KHNum=parseInt(i.trim()),this.updateKADNum())},i.prototype.onExchangeClick=function(){return this._KHNum<=0?void e.TipManagerCommon.getInstance().showLanTip("CN_199"):this._KHNum>e.HeroModel.instance.totalMoney?void e.TipManagerCommon.getInstance().showLanTip("CN_200"):void e.DividendController.instance.requestExchangeKADCMD(this._KHNum)},i.prototype.onFocusOut=function(){this._KHNum=parseInt(this.text_input_price.text.trim()),this.updateKADNum()},i.prototype.updateKADNum=function(){var t=this,i=e.DividendModel.instance.exRatio;this._KHNum>0&&i>0&&e.LabelUtil.setLabelText(t.CN_390,"CN_390",e.NumberUtil.getFloat4Number2String(this._KHNum/i))},i.prototype.updateView=function(){var t=this,i=e.DividendModel.instance;t.txt_kda_total.text=e.NumberUtil.getFloat4Number2String(i.sysAllKAD)+e.HeroModel.KAD,t.txt_exchanged_total.text=e.NumberUtil.getFloat4Number2String(i.exAllKAD)+e.HeroModel.KAD,t.txt_rate.text=i.exRatio+e.HeroModel.KH+"：1"+e.HeroModel.KAD,t.txt_kh_totalSelf.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalMoney)+e.HeroModel.KH,t.txt_kadTotalSelf.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalKAD)+e.HeroModel.KAD;var n=i.exchangeLogs;n&&n.sort(function(t,i){return e.Int64Util.getNumber(i.logTime)-e.Int64Util.getNumber(t.logTime)}),t._arrCollection.replaceAll(n)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.ExchangeView=t,__reflect(t.prototype,"qmr.ExchangeView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MoneyLogItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){e.Int64Util.getNumber(i.fishConfigId);t.txt_count.text=e.NumberUtil.getFloat4Number2String(i.changeMoney)+e.TradeModule.instance.getMoneyType(i.type),t.txt_name.text=e.TradeModule.instance.getType(i.type),t.txt_time.text=e.TimeUtil.getDateByTimerSecond(e.Int64Util.getNumber(i.logTime))}},i}(eui.ItemRenderer);e.GoldLogItemRender=t,__reflect(t.prototype,"qmr.GoldLogItemRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="MoneyLogSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.GoldLogItemRender,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.showTxtNames=["CN_259","CN_260"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_jibi.source="nameImg_json.title_jibi":i.title_jibi.source="nameImg_en_json.title_jibi"},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnClose,i.closeView,i),i.addClickEvent(i.btnReturn,i.closeView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_LOG_LIST,i.updateView,i),i.addClickEvent(i.btn_recharge,i.onRechargeClick,i),i.addClickEvent(i.btn_tixian,i.onWithdrawalClick,i)},i.prototype.onRechargeClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.RECHARGE_VIEW)},i.prototype.onWithdrawalClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.WIHTDRAWAL_VIEW)},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance.moneyLogs;i&&i.sort(function(t,i){return e.Int64Util.getNumber(i.logTime)-e.Int64Util.getNumber(t.logTime)}),t._arrCollection.replaceAll(i)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.GoldLogView=t,__reflect(t.prototype,"qmr.GoldLogView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.onEnterGame=function(){console.log("======================开始进入游戏场景======================"),e.ModuleManagerAft.init(),e.MessageID.init(),e.HeroController.instance.reqUserLoginInitFinish()},t}();e.EntryAfterLogin=t,__reflect(t.prototype,"qmr.EntryAfterLogin")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="HelpMainSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var e=this;t.prototype.initComponent.call(this),e.showTxtNames=["CN_400"]},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var e=this;e.addClickEvent(e.btnReturn,e.closeView,e),e.addClickEvent(e.btn_exchange_cn,e.switchCN,e),e.addClickEvent(e.btn_exchange_en,e.switchEN,e)},i.prototype.switchLange=function(){t.prototype.switchLange.call(this);var i=this;e.LabelUtil.setLabelText(i.txt_content,"CN_413")},i.prototype.updateView=function(){var t=this;e.LabelUtil.setLabelText(t.txt_content,"CN_413")},i.prototype.switchCN=function(){e.GlobalConfig.LAN_TYPE="CN",e.NotifyManager.sendNotification(e.NotifyConst.SWITCH_LANGUAGE)},i.prototype.switchEN=function(){e.GlobalConfig.LAN_TYPE="EN",e.NotifyManager.sendNotification(e.NotifyConst.SWITCH_LANGUAGE)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.HelpMain=t,__reflect(t.prototype,"qmr.HelpMain")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="InjectLogItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){var n=e.ConfigManager.getConf(e.ConfigEnum.INJECTCYCLE,i.cycleId),o=new Date,r=e.Int64Util.getNumber(i.endTime);t.txt_count.text=e.NumberUtil.getFloat4Number2String(i.KADCount)+e.HeroModel.KAD,o.setTime(e.Int64Util.getNumber(i.createTime)),t.txt_start.text=e.TimeUtil.formatColumnDate(o),o.setTime(r);var a=e.LabelUtil.getCNMessage(n.des);t.txt_end.text=a+"/权重"+n.weights,t.txt_state.text=r>e.ServerTime.serverTime?"进行中":"已到期"}},i}(eui.ItemRenderer);e.InjectLogItem=t,__reflect(t.prototype,"qmr.InjectLogItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="InjectListItemSkin",e}return __extends(i,t),i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){var n=e.ConfigManagerAft.getCNValue(i.des);e.LabelUtil.setLabelText(t.txt_cycle,"CN_428",n,i.weights)}},i}(eui.ItemRenderer);e.InjectSelectItem=t,__reflect(t.prototype,"qmr.InjectSelectItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.__selectIndex=0,e.__state=0,e.skinName="InjectListSkin",e}return __extends(i,t),i.prototype.initComponent=function(){t.prototype.initComponent.call(this);var i=this;i.rank_list.itemRenderer=e.InjectSelectItem,i._arrCollection=new eui.ArrayCollection,i.rank_list.dataProvider=i._arrCollection,i.stepTxt.text="",i.dropListGroup.visible=!1},i.prototype.initListener=function(){t.prototype.initListener.call(this);var e=this;e.addEvent(e.rank_list,eui.ItemTapEvent.ITEM_TAP,e.onClickItem,e),e.selectBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClicSelectBtn,e),e.stage&&e.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouch,e)},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this,n=e.ConfigManager.getBean(e.ConfigEnum.INJECTCYCLE).values;i._arrCollection.source=n},i.prototype.setSelectStep=function(e){},i.prototype.show=function(e){this.dropListGroup.visible=e},i.prototype.onClickItem=function(t){var i=this,n=t.item,o=t.itemRenderer;if(n&&o){var r=o.data;i.__selectIndex=i.rank_list.selectedIndex,i.stepTxt.text=n,i.dropListGroup.visible=!1,i.setSelectStep(i.__selectIndex),i.dispatch(e.NotifyConst.SELECT_ITEM_SELECTED,r)}},i.prototype.onClicSelectBtn=function(e){var t=this;e.preventDefault(),t.__state=0==t.__state?1:0,t.updatePanel()},i.prototype.onTouch=function(t){var i=this,n=t.target;if(n!=i.selectBtn&&n!=i.dropListGroup&&n!=i.rank_list&&!(n instanceof e.InjectSelectItem)){var o=n.parent;o&&o instanceof e.InjectSelectItem||(i.__state=0,i.updatePanel())}},i.prototype.updatePanel=function(){var e=this;e.dropListGroup.visible=1==e.__state},i.prototype.dispose=function(){var e=this;t.prototype.dispose.call(this),e.stage&&e.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouch,e)},i}(e.UIComponent);e.InjectSelectView=t,__reflect(t.prototype,"qmr.InjectSelectView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i._injectNum=0,i.selecteWightId=0,i.qmrSkinName="InjectSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_3,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.InjectLogItem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.text_input_price.restrict="0-9",i.showTxtNames=["CN_340","CN_344","CN_338","CN_339","CN_336","CN_337","CN_335","CN_343","CN_342","CN_342","CN_345","CN_341"]},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),e.DividendController.instance.requestInjectInfoCMD()},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),i.text_input_price.prompt=e.LabelUtil.getCNMessage("CN_346"),e.GlobalConfig.isCN?i.title_zhuru.source="nameImg_json.title_zhuru":i.title_zhuru.source="nameImg_en_json.title_zhuru"},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_exchange_group,i.onInjectClick,i),i.addClickEvent(i.btn_stepSelected,i.onStepClick,i),i.addEvent(i.text_input_price,egret.Event.FOCUS_OUT,i.onFocusOut,i),i.addEvent(i.text_input_price,egret.Event.CHANGE,i.onTextInputChange,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_INJECT_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_INJECT_KAD,i.updateView,i),i.registerNotify(e.NotifyConst.SELECT_ITEM_SELECTED,i.onStepSelected,i),e.LabelUtil.addInputListener(i.text_input_price,i)},i.prototype.onStepSelected=function(t){var i=this;if(t){var n=e.ConfigManagerAft.getCNValue(t.des);e.LabelUtil.setLabelText(i.CN_341,"CN_428",n,t.weights),this.selecteWightId=t.id}},i.prototype.onTextInputChange=function(t){var i=t.target.text;e.RegexpUtil.IsNull(i)||e.RegexpUtil.IsInteger(i)&&(this._injectNum=Number(i.trim()))},i.prototype.onFocusOut=function(){},i.prototype.onInjectClick=function(){return this._injectNum<=0?void e.TipManagerCommon.getInstance().showLanTip("CN_207"):this._injectNum>e.HeroModel.instance.totalKAD?void e.TipManagerCommon.getInstance().showLanTip("CN_208"):this.selecteWightId<=0?void e.TipManagerCommon.getInstance().showLanTip("CN_209"):void e.DividendController.instance.requestInjectCMD(this._injectNum,this.selecteWightId)},i.prototype.onStepClick=function(){this.selectView.show(!0)},i.prototype.updateView=function(){var t=this,i=e.DividendModel.instance;t.txt_kda_total.text=e.NumberUtil.getFloat6Number2String(i.allInject);var n=0,o=i.injectLogs;if(o&&o.length>0)for(var r=0;r<o.length;r++)n+=o[r].KADCount;var a=i.allInject;a>0&&n>0?(t.txt_MyPercent.text=e.NumberUtil.getFloat6Number2String(n/a*100)+"%",t.txt_selfTotal.text=e.NumberUtil.getFloat6Number2String(n)+e.HeroModel.KAD):(t.txt_MyPercent.text="0%",t.txt_selfTotal.text="0"+e.HeroModel.KAD),t.txt_personnum.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalKAD)+e.HeroModel.KAD,o&&o.sort(function(t,i){return e.Int64Util.getNumber(i.createTime)-e.Int64Util.getNumber(t.createTime)}),t._arrCollection.replaceAll(o)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.InjectView=t,__reflect(t.prototype,"qmr.InjectView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="InviteCodeItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;i&&(t.txt_tel.textFlow=e.HtmlUtil.getHtmlString(i.name+t.getState(i.state)),t.txt_direct_count.text=i.effectDirectNum+" 人",t.txt_direct_money.text=e.NumberUtil.getFloat4Number2String(i.money)+e.HeroModel.KH,t.txt_team_count.text=i.allEffectNum+" 人",t.txt_d_count2.text=i.directActivity+"",t.txt_t_count2.text=i.teamActivity+"")},i.prototype.getState=function(t){var i="";switch(t){case 0:i="<font color ='0xdd1900'>(未激活)</font>";break;case 1:1==e.PlatformConfig.GameId?i="<font color ='0x09a608'>(已激活)</font>":2==e.PlatformConfig.GameId&&(i="<font color ='0xdd1900'>(未激活)</font>");break;case 2:1==e.PlatformConfig.GameId?i="<font color ='0xdd1900'>(未激活)</font>":2==e.PlatformConfig.GameId&&(i="<font color ='0x09a608'>(已激活)</font>");break;case 3:i="<font color ='0x09a608'>(已激活)</font>"}return i},i}(eui.ItemRenderer);e.InviteCodeItem=t,__reflect(t.prototype,"qmr.InviteCodeItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.qmrSkinName="InviteCodeSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_6,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;for(t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.InviteCodeItem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.showTxtNames=["CN_360","CN_358","CN_361","CN_362","CN_363","CN_364","CN_355","CN_353","CN_356","CN_357","CN_354","CN_359"];i.codeGroup.numChildren>0;)i.codeGroup.removeChildAt(0);var n=e.HeroModel.instance.IdentityPro,o=n.inviteCode,r=e.PlatformConfig.InviteAddress+"?code="+o+"&register=1";if(r){var a=GameUtil.createCode(r);i.codeGroup.addChild(a)}},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_tuiguang.source="nameImg_json.title_tuiguang":i.title_tuiguang.source="nameImg_en_json.title_tuiguang"},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),e.TeamController.instance.requestTeamInfoCMD(),e.TeamController.instance.requestMyTeamListCMD(),i.copy_group1.visible=i.copy_group2.visible=!1,i.btn_copy_code.visible=i.btn_copy_address.visible=!0},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_copy_code,i.copyCode,i),i.addClickEvent(i.btn_copy_address,i.copyAddress,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MY_TEAM_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MY_TEAM_LIST,i.updateView,i)},i.prototype.copyCode=function(){var t=this,i=this.txt_code.text.trim();if(i)if(document.execCommand("Copy"))e.StringUtils.copyClipBoard(i);else{var n=e.PlatformConfig.InviteAddress+"?code="+i+"&register=1";t.copy_group1.visible=t.copy_group2.visible=!0,t.btn_copy_code.visible=t.btn_copy_address.visible=!1,t.txt_copy1.text=t.txt_code.text,t.txt_copy2.text=n,e.TipManagerCommon.getInstance().showLanTip("CN_255")}},i.prototype.copyAddress=function(){var t=this,i=this.txt_code.text.trim();if(i){var n=e.PlatformConfig.InviteAddress+"?code="+i+"&register=1";document.execCommand("Copy")?e.StringUtils.copyClipBoard(n):(t.copy_group1.visible=t.copy_group2.visible=!0,t.btn_copy_code.visible=t.btn_copy_address.visible=!1,t.txt_copy1.text=t.txt_code.text,t.txt_copy2.text=n,e.TipManagerCommon.getInstance().showLanTip("CN_255"))}},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance.IdentityPro;i&&(t.txt_code.text=i.inviteCode);var n=e.TeamModdel.instance.myTeam;if(n){if(t.txt_guimo.text=n.count+"人",t.txt_teamguimo.text=n.allCount+"人",n.count>0){var o=e.TeamModdel.instance.getdirectRateCfgsIdByCount(n.count);o&&(t.txt_ticheng.text=o.precent+"%")}var r=e.TeamModdel.instance.getteamRateCfgsIdByCount(n.count,n.allCount);r&&(t.txt_teamticheng.text=r.precent+"%");var a=e.TeamModdel.instance.getTradeConstIdByCount(n.count);a&&(t.txt_shouxufei.text=100*Number(a.precent)+"%");var s=e.TeamModdel.instance.getteamStarCfgsIdByCount(n.count,n.allCount);e.LabelUtil.setLabelText(t.txt_tips,e.ClientCnEnum.CN_105,s.directPerson,s.teamPerson)}var c=e.TeamModdel.instance.teamers;c&&c.length>0&&c.sort(function(e,t){return e.money>t.money?-1:e.money<t.money?1:t.allEffectNum-e.allEffectNum}),t._arrCollection.replaceAll(c)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.InviteCodeView=t,__reflect(t.prototype,"qmr.InviteCodeView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_GET_MY_TEAM_INFO,this.getTeamInfoResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MY_TEAM_LIST,this.getMyTeamListResponse,this,!1),this.addSocketListener(e.MessageID.S_MODIFY_PASSWORD,this.getChangePwdResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_KEY_LIST,this.getMyKeyResponse,this,!1),this.addSocketListener(e.MessageID.S_USE_KEY,this.getUseKeyResponse,this,!1),this.addSocketListener(e.MessageID.S_GIVE_KEY,this.getGiveResponse,this,!1)},i.prototype.requestTeamInfoCMD=function(){var t=new com.message.C_GET_MY_TEAM_INFO;this.sendCmd(t,e.MessageID.C_GET_MY_TEAM_INFO,!0)},i.prototype.getTeamInfoResponse=function(t){e.TeamModdel.instance.myTeam=t.myTeamMsg,this.dispatch(e.NotifyConst.S_GET_MY_TEAM_INFO)},i.prototype.requestMyTeamListCMD=function(){var t=(e.TeamModdel.instance.getCurrentPageIndex(),new com.message.C_GET_MY_TEAM_LIST);t.page=1,t.pageSize=e.TeamModdel.PAGE_SIZE,this.sendCmd(t,e.MessageID.C_GET_MY_TEAM_LIST,!0)},i.prototype.getMyTeamListResponse=function(t){e.TeamModdel.instance.addTeamers(t.page,t.directInfoMsg),this.dispatch(e.NotifyConst.S_GET_MY_TEAM_LIST)},i.prototype.requestChangePwdCMD=function(t,i,n){var o=new com.message.C_MODIFY_PASSWORD;o.mobile=t,o.password=i,o.verifyCode=n,this.sendCmd(o,e.MessageID.C_MODIFY_PASSWORD,!0)},i.prototype.getChangePwdResponse=function(t){var i=t.mobile;i&&e.TipManagerCommon.getInstance().showLanTip("CN_224")},i.prototype.requestMyKeyCMD=function(){var t=new com.message.C_GET_KEY_LIST;this.sendCmd(t,e.MessageID.C_GET_KEY_LIST,!0)},i.prototype.getMyKeyResponse=function(t){e.TeamModdel.instance.keyLogs=t.keyLogMsg,this.dispatch(e.NotifyConst.S_GET_KEY_LIST)},i.prototype.requestUseKeyCMD=function(){var t=new com.message.C_USE_KEY;this.sendCmd(t,e.MessageID.C_USE_KEY,!0)},i.prototype.getUseKeyResponse=function(t){e.HeroModel.instance.keyCount=t.keyCount,e.HeroModel.instance.IdentityPro.state=t.state,e.TipManagerCommon.getInstance().showLanTip("CN_226"),this.dispatch(e.NotifyConst.S_USE_KEY),this.requestMyKeyCMD()},i.prototype.requestGiveCMD=function(t,i){var n=new com.message.C_GIVE_KEY;n.mobile=t,n.giveCount=i,this.sendCmd(n,e.MessageID.C_GIVE_KEY,!0)},i.prototype.getGiveResponse=function(t){e.HeroModel.instance.keyCount=t.keyCount,e.TipManagerCommon.getInstance().showLanTip("CN_225"),this.dispatch(e.NotifyConst.S_GIVE_KEY),this.requestMyKeyCMD()},i}(e.BaseController);e.TeamController=t,__reflect(t.prototype,"qmr.TeamController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.addTeamers=function(e,t){var n=this;n.teamers||(n.teamers=[]);var o=n.teamers.length,r=Math.ceil(o/i.PAGE_SIZE);if(r>=e){var a=(e-1)*i.PAGE_SIZE;o=t.length;for(var s=0;o>s;s++)n.teamers[a+s]=t[s]}else n.teamers=n.teamers.concat(t)},i.prototype.getCurrentPageIndex=function(){var e=this;e.teamers||(e.teamers=[]);var t=e.teamers.length,n=Math.ceil(t/i.PAGE_SIZE);return n},i.prototype.getTradeConstIdByCount=function(t){var i=this;if(!i.tradeCostCfgs){var n=e.ConfigManager.getBean(e.ConfigEnum.TRADECOST).values;i.tradeCostCfgs=n}for(var o=i.tradeCostCfgs.length,r=o-1;r>=0;r--)if(t>=i.tradeCostCfgs[r].count)return i.tradeCostCfgs[r];return null},i.prototype.getteamRateCfgsIdByCount=function(t,i){var n=this;if(!n.teamRateCfgs){var o=e.ConfigManager.getBean(e.ConfigEnum.TEAMRATE).values;n.teamRateCfgs=o}for(var r=n.teamRateCfgs.length,a=r-1;a>=0;a--)if(i>=n.teamRateCfgs[a].allCount&&t>=n.teamRateCfgs[a].directCount)return n.teamRateCfgs[a];return null},i.prototype.getdirectRateCfgsIdByCount=function(t){var i=this;if(!i.directRateCfgs){var n=e.ConfigManager.getBean(e.ConfigEnum.DIRECTRATE).values;i.directRateCfgs=n}for(var o=i.directRateCfgs.length,r=o-1;r>=0;r--)if(t>=i.directRateCfgs[r].count)return i.directRateCfgs[r];return null},i.prototype.getteamStarCfgsIdByCount=function(t,i){var n=this;if(!n.teamStars){var o=e.ConfigManager.getBean(e.ConfigEnum.PET).values;n.teamStars=o}for(var r=n.teamStars.length,a=0;r>a;a++)if(n.teamStars[a].UBuyStar>0&&(i<n.teamStars[a].teamPerson||t<n.teamStars[a].directPerson))return n.teamStars[a];return n.teamStars[1]},i.PAGE_SIZE=500,i}(e.BaseModel);e.TeamModdel=t,__reflect(t.prototype,"qmr.TeamModdel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="LoginGiftViewSkin",e.isNeedMask=!0,e.isCenter=!0,e.isClickHide=!1,e}return __extends(i,t),i.prototype.initComponent=function(){t.prototype.initComponent.call(this)},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addEvent(e.StageUtil.stage,egret.TouchEvent.TOUCH_BEGIN,i.onRev,i)},i.prototype.initData=function(){t.prototype.initData.call(this),this.baseEffect||(this.baseEffect=e.EffectPlayer.playUIEffect("guide",!0,null,this.group_target))},i.prototype.onRev=function(){var t=this,i=e.StageUtil.stage;i.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onRev,t),this.closeView()},i.prototype.dispose=function(){t.prototype.dispose.call(this),this.baseEffect&&this.baseEffect.dispos()},i}(e.BaseModule);e.LoginGiftView=t,__reflect(t.prototype,"qmr.LoginGiftView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_USER_LOGIN_INIT_FINISH,this.onRecUseLoginInitFinish,this,!0),this.addSocketListener(e.MessageID.S_SYN_PROPERTY,this.resSynProp,this,!1)},i.prototype.reqUserLoginInitFinish=function(){var t=new com.message.C_USER_LOGIN_INIT_FINISH;this.sendCmd(t,e.MessageID.C_USER_LOGIN_INIT_FINISH,!0)},i.prototype.reqLoadResFinishToServer=function(){},i.prototype.onRecUseLoginInitFinish=function(t){e.PetController.instance,i.instance,e.MapController.instance,e.TradeController.instance,e.HeroModel.instance.uid=e.Int64Util.getNumber(t.playerId),e.HeroModel.instance.playerPro=t.property,e.HeroModel.instance.IdentityPro=t.basePlayerMsg,e.HeroModel.instance.updateData(t.fishMsg),e.HeroModel.instance.pendingMoney=e.HeroModel.instance.getPetPendingMoney(),e.HeroModel.instance.lastGetMoneyServerTime=e.ServerTime.serverTime,e.HeroModel.instance.totalMoney=e.Int64Util.getNumber(t.property.money),e.HeroModel.instance.totalUSDT=e.Int64Util.getNumber(t.property.diamond),e.HeroModel.instance.totalKAD=e.Int64Util.getNumber(t.property.KAD),e.HeroModel.instance.keyCount=e.Int64Util.getNumber(t.property.keyCount),e.HeroModel.instance.setHadBuyFishes(t.buyFishStr),e.ModuleManager.showModule(e.ModuleNameConst.MAINUI_VIEW,null,e.LayerConst.TOOLBAR),e.SceneManager.instance.enterHangMap(3004);var n=e.SoundManager.getInstance().isMusicSoundOpen;e.SoundManager.getInstance().isMusicSoundOpen=!1,e.SoundManager.getInstance().isMusicSoundOpen=!0,e.SoundManager.getInstance().isMusicSoundOpen=n,n=e.SoundManager.getInstance().isEffectSoundOpen,e.SoundManager.getInstance().isEffectSoundOpen=!1,e.SoundManager.getInstance().isEffectSoundOpen=!0,e.SoundManager.getInstance().isEffectSoundOpen=n,this.reqLoadResFinishToServer();var o=new egret.Timer(300,1);o.addEventListener(egret.TimerEvent.TIMER,function(){e.GameLoadingView.getInstance().hideSelf()},this),o.start(),e.TeamController.instance.requestTeamInfoCMD(),e.TeamController.instance.requestMyTeamListCMD(),e.ActiveShopController.instance.requestActiveInfo(),e.ActiveShopController.instance.requestOcpActiveInfo(),egret.setTimeout(function(){e.ModuleManager.showModule(e.ModuleNameConst.LOGIN_GIFT_VIEW)},this,1e3)},i.prototype.resSynProp=function(t){t.mapMsg.forEach(function(t){var i=e.Int64Util.getNumber(t.value);switch(t.key){case com.message.PropertyID.LEVEL:break;case com.message.PropertyID.MONEY:e.HeroModel.instance.totalMoney=i;break;case com.message.PropertyID.DIAMOND:e.HeroModel.instance.totalUSDT=i;break;case com.message.PropertyID.KAD:e.HeroModel.instance.totalKAD=i;break;case com.message.PropertyID.KEY:e.HeroModel.instance.keyCount=i}}),this.dispatch(e.NotifyConst.S_SYN_PROPERTY)},i}(e.BaseController);e.HeroController=t,__reflect(t.prototype,"qmr.HeroController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;e.pendingMoney=0,e.totalMoney=0,e.totalUSDT=0,e.totalKAD=0,e.keyCount=0,e.lastGetMoneyServerTime=0,e.certificationTime=0,e.isDelayShowMoney=!1;
return e.fishInfos=[],e.fishIds=[],e}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playerId",{get:function(){return this.playerPro?e.Int64Util.getNumber(this.playerPro.playerId):0},enumerable:!0,configurable:!0}),i.prototype.setHadBuyFishes=function(t){var i=this;if(i.buyFishStr=t,i.hadBuyFishIds||(i.hadBuyFishIds=new e.Dictionary),t){var n=t.split(";"),o=n.length;if(o>0)for(var r=0;o>r;r++){var a=n[r];if(a){var s=a.split(",");i.hadBuyFishIds[s[0]]=s[1]}}}},i.prototype.getHadBuyFishes=function(){return this.hadBuyFishIds},i.prototype.getBuyCount=function(e){var t=this;if(!t.hadBuyFishIds)return 0;var i=t.hadBuyFishIds.get(e);return i?i:0},i.prototype.testMerge=function(){for(var t,i,n=this,o=n.fishInfos.length,r=0;o-1>r;r++){t=n.fishInfos[r];for(var a=r+1;o>a;a++)if(i=n.fishInfos[a],t.fishId==i.fishId)return void(t&&i&&e.PetController.instance.getCombineFish(t.id,i.id))}},i.prototype.getPets=function(){return this.fishInfos},i.prototype.updateData=function(t){var i=this;if(t){for(var n,o,r=[],a=[],s=[],c=t.length,l=0;c>l;l++)n=t[l],o=e.Int64Util.getNumber(n.id),-1==i.fishIds.indexOf(o)&&r.push(o),s.push(o);c=i.fishIds.length;for(var f=0;c>f;f++)o=i.fishIds[f],-1==s.indexOf(o)&&a.push(o);if(c=t.length,c>0)for(var l=0;c>l;l++)n=t[l],i.addPet(n);if(c=a.length,c>0)for(var l=0;c>l;l++)i.removePet(a[l])}},i.prototype.getPet=function(e){for(var t,i=this,n=0;n<i.fishInfos.length;n++)if(e==i.fishInfos[n].id)return t=i.fishInfos[n];return null},i.prototype.addPet=function(t){var i=this;if(t){for(var n,o=!1,r=e.Int64Util.getNumber(t.id),a=0;a<i.fishInfos.length;a++)if(r==i.fishInfos[a].id){n=i.fishInfos[a];break}n||(n=new e.PetActorInfo,i.fishInfos.push(n),o=!0),n.setData(t),-1==i.fishIds.indexOf(r)&&i.fishIds.push(r),o&&e.MapController.instance.addPlayer(n)}},i.prototype.removePet=function(t){var i=this,n=i.fishIds.indexOf(t);-1!=n&&i.fishIds.splice(n,1);for(var o,r=-1,a=0;a<i.fishInfos.length;a++)if(t==i.fishInfos[a].id){o=i.fishInfos[a],r=a;break}o&&(e.MapController.instance.removePlayer(t),i.fishInfos.splice(r,1))},i.prototype.getProduceMoneySpeed=function(){var t=this;if(!t.fishInfos||0==t.fishInfos.length)return 0;for(var i,n,o,r=0,a=t.fishInfos.length,s=0;a>s;s++){o=t.fishInfos[s],n=e.Int64Util.getNumber(o.fishId),i=e.ConfigManager.getConf(e.ConfigEnum.PET,n);var c=i.produce/i.limitTime,l=Math.ceil(o.todayCurMoney+o.todayGotMoney);0==o.state&&c>l&&(r+=c/7200)}return r},i.prototype.getEveryDayProduceMoney=function(){var t=this;if(!t.fishInfos||0==t.fishInfos.length)return 0;for(var i,n,o,r=0,a=t.fishInfos.length,s=0;a>s;s++)if(o=t.fishInfos[s],n=e.Int64Util.getNumber(o.fishId),0==o.state){i=e.ConfigManager.getConf(e.ConfigEnum.PET,n);var c=i.produce/i.limitTime;r+=c}return r},i.prototype.getPetPendingMoney=function(){var t=this;if(!t.fishInfos||0==t.fishInfos.length)return 0;for(var i,n=t.fishInfos.length,o=0,r=0;n>r;r++){i=t.fishInfos[r];var a=e.Int64Util.getNumber(i.todayCurMoney);e.Int64Util.getNumber(i.extMoney);o+=a}return o},i.KH=" KH",i.USDT=" USDT",i.KAD=" KAD",i.TIMES=1,i}(e.BaseModel);e.HeroModel=t,__reflect(t.prototype,"qmr.HeroModel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.__lastGetMoneyTime=0,e.qmrSkinName="Mainui",e}return __extends(i,t),i.prototype.initComponent=function(){var e=this;e.showTxtNames=["CN_448"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?(i.game_title.source="nameImg_json.game_title",i.img_reward.source="nameImg_json.img_reward",i.img_price.source="nameImg_json.img_price",i.img_name_shop.source="nameImg_json.img_name_shop",i.img_exchange2.source="nameImg_json.img_exchange2",i.img_name_inject.source="nameImg_json.img_name_inject",i.img_name_divide.source="nameImg_json.img_name_divide",i.title_push.source="nameImg_json.title_push",i.img_name_code.source="nameImg_json.img_name_code",i.img_name_person.source="nameImg_json.img_name_person",i.img_name_certify.source="nameImg_json.img_name_certify",i.img_passport.source="nameImg_json.img_passport",i.img_name_help.source="nameImg_json.img_name_help",i.img_name_down.source="nameImg_json.img_name_down",i.title_zichan.source="nameImg_json.title_zichan",i.title_pet.source="nameImg_json.title_pet",i.title_jibi.source="nameImg_json.title_jibi"):(i.game_title.source="nameImg_en_json.game_title",i.img_reward.source="nameImg_en_json.img_reward",i.img_price.source="nameImg_en_json.img_price",i.img_name_shop.source="nameImg_en_json.img_name_shop",i.img_exchange2.source="nameImg_en_json.img_exchange2",i.img_name_inject.source="nameImg_en_json.img_name_inject",i.img_name_divide.source="nameImg_en_json.img_name_divide",i.title_push.source="nameImg_en_json.title_push",i.img_name_code.source="nameImg_en_json.img_name_code",i.img_name_person.source="nameImg_en_json.img_name_person",i.img_name_certify.source="nameImg_en_json.img_name_certify",i.img_passport.source="nameImg_en_json.img_passport",i.img_name_help.source="nameImg_en_json.img_name_help",i.img_name_down.source="nameImg_en_json.img_name_down",i.title_zichan.source="nameImg_en_json.title_zichan",i.title_pet.source="nameImg_en_json.title_pet",i.title_jibi.source="nameImg_en_json.title_jibi")},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btn_get_group,i.onGetClick,i),i.addClickEvent(i.btn_price_group,i.onPriceClick,i),i.addClickEvent(i.btn_exchange,i.onExchangeClick,i),i.addClickEvent(i.btn_injection,i.onInjectClick,i),i.addClickEvent(i.btn_shop,i.onShopClick,i),i.addClickEvent(i.btn_dividend,i.onDividendClick,i),i.addClickEvent(i.btn_promote,i.onPromoteClick,i),i.addClickEvent(i.btn_ActKey,i.onKeyClick,i),i.addClickEvent(i.btn_bottom_pet,i.onPetViewClick,i),i.addClickEvent(i.btn_bottom_property,i.onPropertyViewClick,i),i.addClickEvent(i.btn_bottom_gold,i.onGoldViewClick,i),i.addClickEvent(i.btn_realname,i.onRealNameClick,i),i.addClickEvent(i.btn_person,i.onPersonClick,i),i.addClickEvent(i.btn_permit,i.onPermitClick,i),i.addClickEvent(i.btn_download,i.onDowonClick,i),i.addClickEvent(i.btn_help,i.onHelpClick,i),i.addClickEvent(i.btn_rank,i.onRankClick,i),i.addClickEvent(i.btn_lucktable,i.onTableClick,i),i.addClickEvent(i.btn_active_shop,i.onActiveShopClick,i),i.registerNotify(e.NotifyConst.S_GET_FINSH_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_COMBINE_FINSH,i.updateView,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i)},i.prototype.getMoneyStartPont=function(){var e=this;return e.startPoint||(e.startPoint=new egret.Point),e.money_icon.localToGlobal(0,0,e.startPoint),e.startPoint.x+=24,e.startPoint.y+=24,e.startPoint},i.prototype.getMoneyEndPont=function(){var e=this;return e.endPoint||(e.endPoint=new egret.Point),e.txt_totalUsdt.localToGlobal(0,0,e.endPoint),e.endPoint.x+=55,e.endPoint},i.prototype.addedToStage=function(e){t.prototype.addedToStage.call(this,e)},i.prototype.onPropertyViewClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.USDT_LOG_VIEW),e.PetController.instance.getUSDTLogCmd()},i.prototype.onGoldViewClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.GOLD_LOG_VIEW),e.PetController.instance.getMoneyLogCmd()},i.prototype.onRealNameClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.CERTIFICATION_VIEW)},i.prototype.onPermitClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.MINE_PASSIED_VIEW)},i.prototype.onPersonClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.MINEID_VIEW)},i.prototype.onDowonClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.APP_DOWN_VIEW)},i.prototype.onGetClick=function(){var t=this;if(e.BesselImgUtil.flyMoney(t.getMoneyStartPont(),t.getMoneyEndPont()),t.__lastGetMoneyTime-egret.getTimer()>0){var i=t.getCurrentWaitMoney();return e.HeroModel.instance.pendingMoney=0,e.HeroModel.instance.totalMoney+=i,e.HeroModel.instance.lastGetMoneyServerTime=e.ServerTime.serverTime,void t.updateView()}t.__lastGetMoneyTime=egret.getTimer()+1e4,e.PetController.instance.getMoneyCmd()},i.prototype.onPriceClick=function(){e.TradeController.instance.requestOTCInfo(),e.TradeController.instance.requestOTCList(),e.TradeController.instance.requestMyOTCList(),e.ModuleManager.showModule(e.ModuleNameConst.TRADE_VIEW)},i.prototype.onPetViewClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.PET_VIEW),e.PetController.instance.getMyFishInfo()},i.prototype.onHelpClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.HELP_MAIN_VIEW)},i.prototype.onExchangeClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.EXCHANGE_VIEW)},i.prototype.onInjectClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.INJECT_VIEW)},i.prototype.onShopClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.SHOP_VIEW)},i.prototype.onDividendClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.DIVIDEND_VIEW)},i.prototype.onPromoteClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.INVITE_CODE_VIEW)},i.prototype.onKeyClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.ACT_KEY_VIEW)},i.prototype.onActiveShopClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.ACTIVE_SHOP_VIEW)},i.prototype.onTableClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.RUNE_LOTTERY_VIEW)},i.prototype.onRankClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.TEAM_RANK_VIEW)},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),i.baseEffect||(i.baseEffect=new e.BaseEffect,i.baseEffect.scaleX=i.baseEffect.scaleY=1.5,i.effect_group_1.addChild(i.baseEffect),i.baseEffect.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect2||(i.baseEffect2=new e.BaseEffect,i.baseEffect2.scaleX=i.baseEffect2.scaleY=1.5,i.effect_group_2.addChild(i.baseEffect2),i.baseEffect2.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect3||(i.baseEffect3=new e.BaseEffect,i.baseEffect3.scaleX=i.baseEffect3.scaleY=1.5,i.effect_group_3.addChild(i.baseEffect3),i.baseEffect3.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect4||(i.baseEffect4=new e.BaseEffect,i.baseEffect4.scaleX=i.baseEffect4.scaleY=1.5,i.effect_group_4.addChild(i.baseEffect4),i.baseEffect4.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect5||(i.baseEffect5=new e.BaseEffect,i.baseEffect5.scaleX=i.baseEffect5.scaleY=1.5,i.effect_group_5.addChild(i.baseEffect5),i.baseEffect5.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect0||(i.baseEffect0=new e.BaseEffect,i.baseEffect0.scaleX=i.baseEffect0.scaleY=1.5,i.effect_group_0.addChild(i.baseEffect0),i.baseEffect0.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect6||(i.baseEffect6=new e.BaseEffect,i.baseEffect6.scaleX=i.baseEffect6.scaleY=1.5,i.effect_group_6.addChild(i.baseEffect6),i.baseEffect6.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffect7||(i.baseEffect7=new e.BaseEffect,i.baseEffect7.scaleX=i.baseEffect7.scaleY=1.5,i.effect_group_7.addChild(i.baseEffect7),i.baseEffect7.playUIEffect("uieffect_act",-1,-1,1)),i.baseEffectPet||(i.baseEffectPet=new e.BaseEffect,i.baseEffectPet.scaleX=i.baseEffectPet.scaleY=1.5,i.effect_group_pet.addChild(i.baseEffectPet),i.baseEffectPet.playUIEffect("ui_jinjie_zhe",-1,-1,1)),i.baseEffectPet.touchChildren=i.baseEffectPet.touchEnabled=!1,i.effect_group_pet.touchEnabled=!1},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance;if(t.__totalMoney=i.totalMoney,t.__secondSpeed=i.getProduceMoneySpeed(),t.__dayTotal=i.getEveryDayProduceMoney(),!i.isDelayShowMoney){var n=t.getCurrentWaitMoney();t.txt_curr.text=e.NumberUtil.getFloat4Number2String(n),t.txt_totalGold.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalMoney),t.txt_totalUsdt.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalUSDT),-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__secondSpeed>0?t.__timekey=egret.setInterval(t.onTimeRun,t,1e3):t.stopTime()}},i.prototype.onTimeRun=function(){var t=this,i=t.getCurrentWaitMoney();return i>=t.__dayTotal?(t.txt_curr.text=e.NumberUtil.getFloat4Number2String(t.__dayTotal),void t.stopTime()):void(t.txt_curr.text=e.NumberUtil.getFloat4Number2String(i))},i.prototype.stopTime=function(){var t=this;-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=-1,t.txt_curr.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.getPetPendingMoney())},i.prototype.getCurrentWaitMoney=function(){var t=Math.floor(e.ServerTime.serverTime-e.HeroModel.instance.lastGetMoneyServerTime)/1e3,i=this.__secondSpeed*t,n=e.HeroModel.instance.pendingMoney+i;return n},i}(e.BaseModule);e.MainView=t,__reflect(t.prototype,"qmr.MainView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_GET_FISH_INFO,this.getFishInfoResponse,this,!1),this.addSocketListener(e.MessageID.S_COMBINE_FISH,this.getCombineResponse,this,!1),this.addSocketListener(e.MessageID.S_BUY_FISH,this.getBuyFishResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MONEY_REWARD,this.getMoneyResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MONEY_INFO,this.getMoneyInfoResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MONEY_LOG_LIST,this.getMoneyLogResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_DIAMOND_LOG_LIST,this.getUSDTLogResponse,this,!1),this.addSocketListener(e.MessageID.S_DIAMOND_BUY_FISH,this.getBuyFishByUSDTResponse,this,!1)},i.prototype.reqUserLoginInitFinish=function(){var t=new com.message.C_USER_LOGIN_INIT_FINISH;this.sendCmd(t,e.MessageID.C_USER_LOGIN_INIT_FINISH,!0)},i.prototype.getMyFishInfo=function(){var t=new com.message.C_GET_FISH_INFO;this.sendCmd(t,e.MessageID.C_GET_FISH_INFO,!0)},i.prototype.getFishInfoResponse=function(t){e.HeroModel.instance.updateData(t.fishMsg),e.HeroModel.instance.pendingMoney=e.HeroModel.instance.getPetPendingMoney(),e.HeroModel.instance.lastGetMoneyServerTime=e.ServerTime.serverTime,this.dispatch(e.NotifyConst.S_GET_FINSH_INFO)},i.prototype.getCombineFish=function(t,i){var n=new com.message.C_COMBINE_FISH;n.fish1Id=t,n.fish2Id=i,this.sendCmd(n,e.MessageID.C_COMBINE_FISH,!0)},i.prototype.getCombineResponse=function(t){e.HeroModel.instance.addPet(t.fishMsg),e.HeroModel.instance.removePet(e.Int64Util.getNumber(t.fish1Id)),e.HeroModel.instance.removePet(e.Int64Util.getNumber(t.fish2Id)),this.dispatch(e.NotifyConst.S_COMBINE_FINSH)},i.prototype.getBuyFish=function(t){if(2!=e.HeroModel.instance.IdentityPro.state)return void e.TipManagerCommon.getInstance().showLanTip("CN_227");var i=new com.message.C_BUY_FISH;i.fishConfigId=t,this.sendCmd(i,e.MessageID.C_BUY_FISH,!0)},i.prototype.getBuyFishResponse=function(t){var i=e.ConfigManager.getConf(e.ConfigEnum.PET,t.fishMsg.fishId),n=e.LabelUtil.getCNMessage(i.name);e.TipManagerCommon.getInstance().showLanTip("CN_210",n),e.HeroModel.instance.addPet(t.fishMsg),this.dispatch(e.NotifyConst.S_BUY_FISH)},i.prototype.getBuyFishByUSDT=function(t){var i=new com.message.C_DIAMOND_BUY_FISH;i.fishConfigId=t,this.sendCmd(i,e.MessageID.C_DIAMOND_BUY_FISH,!0)},i.prototype.getBuyFishByUSDTResponse=function(t){e.TipManagerCommon.getInstance().showLanTip("CN_228"),e.HeroModel.instance.addPet(t.fishMsg),e.HeroModel.instance.setHadBuyFishes(t.buyFishStr),this.dispatch(e.NotifyConst.S_DIAMOND_BUY_FISH)},i.prototype.getMoneyCmd=function(){var t=new com.message.C_GET_MONEY_REWARD;this.sendCmd(t,e.MessageID.C_GET_MONEY_REWARD,!0)},i.prototype.getMoneyResponse=function(t){e.HeroModel.instance.totalMoney=e.Int64Util.getNumber(t.money),e.HeroModel.instance.pendingMoney=0,this.dispatch(e.NotifyConst.S_GET_MONEY_REWARD),this.getMyFishInfo()},i.prototype.getMoneyInfoCmd=function(){var t=new com.message.C_GET_MONEY_INFO;this.sendCmd(t,e.MessageID.C_GET_MONEY_INFO,!0)},i.prototype.getMoneyInfoResponse=function(t){e.HeroModel.instance.totalMoney=e.Int64Util.getNumber(t.money),e.HeroModel.instance.totalUSDT=e.Int64Util.getNumber(t.money),this.dispatch(e.NotifyConst.S_GET_MONEY_INFO)},i.prototype.getMoneyLogCmd=function(){var t=new com.message.C_GET_MONEY_LOG_LIST;this.sendCmd(t,e.MessageID.C_GET_MONEY_LOG_LIST,!0)},i.prototype.getMoneyLogResponse=function(t){e.HeroModel.instance.moneyLogs=t.moneyLogMsg,this.dispatch(e.NotifyConst.S_GET_MONEY_LOG_LIST)},i.prototype.getUSDTLogCmd=function(){var t=new com.message.C_GET_DIAMOND_LOG_LIST;this.sendCmd(t,e.MessageID.C_GET_DIAMOND_LOG_LIST,!0)},i.prototype.getUSDTLogResponse=function(t){e.HeroModel.instance.usdtLogs=t.moneyLogMsg,this.dispatch(e.NotifyConst.S_GET_DIAMOND_LOG_LIST)},i}(e.BaseController);e.PetController=t,__reflect(t.prototype,"qmr.PetController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.MONEY_REWARD=1,e.MONEY_BUY_FISH=2,e.OCT_SELL_MONEY=3,e.OCT_SOMEONE_SELL_ME=4,e.MONEY_EXCHANGE_KAD=5,e.DIRECT_MONEY_REWARD=6,e.TEAM_MONEY_REWARD=7,e.OCEAN_ACTIVITY_DRAW_REWARD=8,e.OCEAN_ACTIVITY_DIRECT_REWARD=9,e.OCEAN_ACTIVITY_TEAM_REWARD=10,e.DIAMOND_BUY_FISH=101,e.OCT_BUY_MONEY_COST_U=102,e.OCT_SELL_MONEY_GOT_U=103,e.OCT_CANCEL_GOT_U=104,e.KAD_BONUS_GOT_U=105,e.RECHARGE_GOT_U=106,e.DOLPHIN_SELL_OUT_GOT_U=107,e.DOLPHIN_BUY_COST_U=108,e.DOLPHIN_HATCH_COST_U=109,e.CASH_OUT_COST_U=110,e.CASH_OUT_REFUSE_GOT_U=111,e.DEEP_ACTIVITY_BUY_FISH_COST_U=112,e.OCEAN_ACTIVITY_DRAW_GOT_U=113,e.EXCHANGE_GOT_KAD=201,e.INJECT_COST_KAD=202,e.INJECT_EXPIRE_GOT_KAD=203,e.USE_KEY=301,e.KEY_GIVE=302,e.KEY_BE_GIVE=303,e.DOLPHIN_BUY_COUNT_BE_GIVE=401,e.DOLPHIN_BUY_COST_BUY_COUNT=402,e.DOLPHIN_EXCHANGE_GOT_COUNT=403,e.DOLPHIN_TEAM_BUY_GOT_BUY_COUNT=404,e.DOLPHIN_EXCHANGE_COST_MONEY=501,e.DOLPHIN_FERTILIZE_COST_MONEY=502,e.DOLPHIN_SIGN_IN_GOT_MONEY=503,e.DOLPHIN_DIRECT_BUY_GOT_MONEY=504,e.DOLPHIN_SPEED_COST_SPEED_COUNT=601,e.DOLPHIN_DIRECT_BUY_GOT_SPEED_COUNT=602,e.DOLPHIN_TEAM_BUY_GOT_SPEED_COUNT=603,e.ADMIN_CURRENCY_OPERATION=1e3,e}();e.TradeTypeEnum=t,__reflect(t.prototype,"qmr.TradeTypeEnum")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.__leftTime=0,e.qmrSkinName="MineIDSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var e=this;t.prototype.initComponent.call(this),e.showTxtNames=["CN_371","CN_375","CN_372","CN_374","CN_373"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),i.text_input_pwd.prompt=e.LabelUtil.getCNMessage("CN_376"),i.text_input_vcode.prompt=e.LabelUtil.getCNMessage("CN_377")},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.but_changePwd,i.onSetPwd,i),i.addClickEvent(i.btn_logout,i.onLogout,i),i.addClickEvent(i.btn_getCode,i.getVcode1,i),e.LabelUtil.addInputListener(i.text_input_pwd,i),e.LabelUtil.addInputListener(i.text_input_vcode,i)},i.prototype.getVcode1=function(){if(this.__leftTime>0)return void e.TipManagerCommon.getInstance().showLanTip("CN_174");var t=this.text_input_pwd.text.trim();if(0==t.length)return void e.TipManagerCommon.getInstance().showLanTip("CN_229");var i=e.HeroModel.instance.IdentityPro.mobile;e.LoginController.instance.reqVerifyCode(i,3),this.__leftTime=59,this.updateCd()},i.prototype.onSetPwd=function(){var t=this,i=t.text_input_pwd.text.trim();if(!e.RegexpUtil.IsNull(i)){if(i.length<6||i.length>12)return void e.TipManagerCommon.getInstance().showLanTip("CN_179");var n=this.text_input_vcode.text.trim();if(0==n.length)return void e.TipManagerCommon.getInstance().showLanTip("CN_182");var o=e.HeroModel.instance.IdentityPro.mobile;e.TeamController.instance.requestChangePwdCMD(o,i,n)}},i.prototype.onLogout=function(){e.PromptController.instance.showPrompt("CN_230",this.backGame,this)},i.prototype.backGame=function(){e.PlatformManager.instance.platform.reloadGame()},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance.IdentityPro;t.txt_kda_total.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalKAD)+e.HeroModel.KAD,t.txt_name.text="ID："+e.NumberUtil.getTelNumberShow(e.Int64Util.getNumber(i.mobile))},i.prototype.updateCd=function(){var t=this;t.__leftTime>0?(-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=egret.setInterval(t.updateTime,t,1e3),t.CN_373.text=e.CommonTool.formatTime1(t.__leftTime)+"s"):t.stopTime()},i.prototype.updateTime=function(){var t=this;return this.__leftTime<=0?void(t.CN_373.text=e.LabelUtil.getCNMessage("CN_373")):(t.CN_373.text=e.CommonTool.formatTime1(t.__leftTime)+"s",void t.__leftTime--)},i.prototype.stopTime=function(){var t=this;-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=-1,t.CN_373.text=e.LabelUtil.getCNMessage("CN_373")},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.MineIdView=t,__reflect(t.prototype,"qmr.MineIdView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MineKADLogItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.onBuyClick=function(){var t=this.data;if(t)return t.price>e.HeroModel.instance.totalMoney?void e.TipManagerCommon.getInstance().showLanTip("CN_131"):void e.PetController.instance.getBuyFish(t.id)},i.prototype.onBuyClick2=function(){var t=this.data;if(t)return t.UBuyPrice>e.HeroModel.instance.totalUSDT?void e.TipManagerCommon.getInstance().showLanTip("CN_131"):void e.PetController.instance.getBuyFishByUSDT(t.id)},i.prototype.dataChanged=function(){var e=this;e.data},i}(eui.ItemRenderer);e.MineKADLogItem=t,__reflect(t.prototype,"qmr.MineKADLogItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="MinePassSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.MineKADLogItem,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.showTxtNames=["CN_397"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_tongz.source="nameImg_json.title_tongz":i.title_tongz.source="nameImg_en_json.title_tongz"},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.registerNotify(e.NotifyConst.S_GET_DIAMOND_LOG_LIST,i.updateView,i)},i.prototype.updateView=function(){var t=this;t.txt_kda_total.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalKAD)+e.HeroModel.KAD},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.MinePassIdView=t,__reflect(t.prototype,"qmr.MinePassIdView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._endTime=0,e._timekey=-1,e.skinName="PetItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=this;e.checkbox.addEventListener(eui.UIEvent.CHANGE,e.onCheckBoxChange,e),e.switchLanguage()},i.prototype.switchLanguage=function(){var t=this;t.CN_302.text=e.LabelUtil.getCNMessage("CN_302"),t.CN_303.text=e.LabelUtil.getCNMessage("CN_303"),t.CN_304.text=e.LabelUtil.getCNMessage("CN_304"),t.CN_299.text=e.LabelUtil.getCNMessage("CN_299"),t.CN_300.text=e.LabelUtil.getCNMessage("CN_300"),t.CN_301.text=e.LabelUtil.getCNMessage("CN_301"),t.checkbox.label=e.LabelUtil.getCNMessage("CN_305")},i.prototype.onCheckBoxChange=function(t){var i=this,n=i.data;n&&e.NotifyManager.sendNotification(e.NotifyConst.ON_PET_SELECTED,{id:n.id,selected:i.checkbox.selected})},i.prototype.getSelectedState=function(){return this.checkbox.selected},i.prototype.setSelectedState=function(e){this.checkbox.selected=e},i.prototype.dataChanged=function(){var t=this,i=t.data;if(i){t.checkbox.selected=i.id==e.HeroModel.instance.selectedMergePetId1||i.id==e.HeroModel.instance.selectedMergePetId2;var n=e.ConfigManager.getConf(e.ConfigEnum.PET,i.fishId);t.txt_name.text=e.LabelUtil.getCNMessage(n.name)+"(Lv."+n.level+")",t.txt_gain.text=e.NumberUtil.getFloat4Number2String(i.extMoney)+e.HeroModel.KH;var o=n.produce-i.extMoney;t.txt_left.text=e.NumberUtil.getFloat4Number2String(o)+e.HeroModel.KH,t.txt_total.text=e.NumberUtil.getFloat4Number2String(n.produce)+e.HeroModel.KH,t.txt_todayGained.text=e.NumberUtil.getFloat4Number2String(i.todayGotMoney)+e.HeroModel.KH,t.txt_todayCanGain.text=e.NumberUtil.getFloat4Number2String(i.todayCurMoney)+e.HeroModel.KH;var r=e.ResPathUtilAft.getHeadUrl(n.id+"");t.img_head.source=r,t.txt_state.text=t.getState(i.state);var a=3600*n.limitTime*2,s=n.produce/n.limitTime,c=s/2/3600,l=i.extMoney/c,f=a-l,h=Math.floor(f/3600),u=Math.ceil(h/2),p=24*u*3600-l%7200;p>0&&(t._endTime=e.ServerTime.serverTime+1e3*p)}if(-1!=t._timekey&&egret.clearInterval(t._timekey),t._endTime<e.ServerTime.serverTime&&(t._endTime=0),t._endTime>e.ServerTime.serverTime){var _=(t._endTime-e.ServerTime.serverTime)/1e3,g=Math.floor(_/60/60/24);t.txt_leftTime.text=g+e.TimeUtil.CN_DAY}else t.stopTime()},i.prototype.updateTime=function(){var t=this;return this._endTime<e.ServerTime.serverTime?void(t.txt_leftTime.text="00：00"):void(t.txt_leftTime.text=e.TimeUtil.formatRemain4((t._endTime-e.ServerTime.serverTime)/1e3))},i.prototype.stopTime=function(){var e=this;-1!=e._timekey&&egret.clearInterval(e._timekey),e._timekey=-1,e.txt_leftTime.text="00：00"},i.prototype.getState=function(t){var i;switch(t){case 0:i="CN_306";break;case 1:i="CN_307";break;case 2:i="CN_308"}return i?e.LabelUtil.getCNMessage(i):""},i}(eui.ItemRenderer);e.PetItemRender=t,__reflect(t.prototype,"qmr.PetItemRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="PetViewSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.PetItemRender,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.showTxtNames=["CN_298"]},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_pet.source="nameImg_json.title_pet":i.title_pet.source="nameImg_en_json.title_pet"},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView(),e.clearMerge()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnClose,i.closeView,i),i.addClickEvent(i.btn_merge,i.onMergeClick,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_FINSH_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_COMBINE_FINSH,i.onMerger,i),i.registerNotify(e.NotifyConst.ON_PET_SELECTED,i.onPetSelected,i)},i.prototype.onMerger=function(){var t=this;t.clearMerge(),t.updateMergeView(),t.updateView(),t.baseEffect||(t.baseEffect=new e.BaseEffect,t.baseEffect.scaleX=t.baseEffect.scaleY=1.5),t.effect_group_pet.addChild(t.baseEffect),t.baseEffect.touchChildren=t.baseEffect.touchEnabled=!1,t.baseEffect.playUIEffect("uieffect_enter_zr",-1,1,1)},i.prototype.clearMerge=function(){e.HeroModel.instance.selectedMergePetId1=0,e.HeroModel.instance.selectedMergePetId2=0},i.prototype.onMergeClick=function(){var t=e.HeroModel.instance.selectedMergePetId1,i=e.HeroModel.instance.selectedMergePetId2,n=e.HeroModel.instance.getPet(t),o=e.HeroModel.instance.getPet(i);return n&&o?n.fishId!=o.fishId?void e.TipManagerCommon.getInstance().showLanTip("CN_212"):15==n.fishId?void e.TipManagerCommon.getInstance().showLanTip("CN_213"):void e.PetController.instance.getCombineFish(t,i):void e.TipManagerCommon.getInstance().showLanTip("CN_211")},i.prototype.onPetSelected=function(t){var i=this;if(t){for(var n,o,r,a=t.id,s=t.selected,c=e.HeroModel.instance,l=c.selectedMergePetId1,f=c.selectedMergePetId2,h=i.item_list.numElements,u=0;h>u;u++){var p=i.item_list.getVirtualElementAt(u);p&&p.data&&p.data.id==a&&(n=p),p&&p.data&&p.data.id==l&&(o=p),p&&p.data&&p.data.id==f&&(r=p)}a&&s&&(l&&f?(o&&o.setSelectedState(!1),c.selectedMergePetId1=c.selectedMergePetId2,c.selectedMergePetId2=a):l&&!f?c.selectedMergePetId2=a:c.selectedMergePetId1=a),a&&!s&&(a==c.selectedMergePetId1?c.selectedMergePetId1=0:a==c.selectedMergePetId2&&(c.selectedMergePetId2=0)),i.updateMergeView()}},i.prototype.updateMergeView=function(){var t,i,n,o,r,a=this,s=e.HeroModel.instance,c=s.selectedMergePetId1,l=s.selectedMergePetId2;if(c&&(t=s.getPet(c),o=e.ConfigManager.getConf(e.ConfigEnum.PET,t.fishId)),l&&(i=s.getPet(l),r=e.ConfigManager.getConf(e.ConfigEnum.PET,i.fishId)),t?(n=e.ResPathUtilAft.getHeadUrl(o.id+""),a.img_head.source=n):a.img_head.source=null,i?(n=e.ResPathUtilAft.getHeadUrl(r.id+""),a.img_head2.source=n):a.img_head2.source=null,o&&r&&o.id==r.id&&15!=o.id){var f=o.id+1,h=e.ConfigManager.getConf(e.ConfigEnum.PET,f);h&&(n=e.ResPathUtilAft.getHeadUrl(h.id+""),a.img_head3.source=n)}else a.img_head3.source=null},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance.getPets();i.sort(function(e,t){return t.level-e.level}),t._arrCollection.replaceAll(i)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.PetView=t,__reflect(t.prototype,"qmr.PetView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_GET_MY_ADDRESS,this.getAddressResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_FEED_COUNT,this.getCostResponse,this,!1),this.addSocketListener(e.MessageID.S_CASH_OUT_APPLY,this.getApplyResponse,this,!1)},i.prototype.requestAddressInfo=function(){var t=new com.message.C_GET_MY_ADDRESS;this.sendCmd(t,e.MessageID.C_GET_MY_ADDRESS,!0)},i.prototype.getAddressResponse=function(t){e.RechargeModel.instance.rechargeAddress=t.address,this.dispatch(e.NotifyConst.S_GET_MY_ADDRESS)},i.prototype.requestCostCmd=function(t){var i=new com.message.C_GET_FEED_COUNT;i.money=t,this.sendCmd(i,e.MessageID.C_GET_FEED_COUNT,!0)},i.prototype.getCostResponse=function(t){e.RechargeModel.instance.rechargeCost=t.feedCount,this.dispatch(e.NotifyConst.S_GET_FEED_COUNT)},i.prototype.requestApplyCmd=function(t,i,n){var o=new com.message.C_CASH_OUT_APPLY;o.money=t,o.toAddress=i,o.verifyCode=n,this.sendCmd(o,e.MessageID.C_CASH_OUT_APPLY,!0)},i.prototype.getApplyResponse=function(t){if(e.RechargeModel.instance.rechargeApplyLog=t.cashOutOrderMsg,this.dispatch(e.NotifyConst.S_CASH_OUT_APPLY),0==t.success){var i=e.LabelUtil.getCNMessage("CN_463");e.PromptController.instance.showPrompt(i,null,null,null,null,2)}else{var n=Number(e.ConfigManagerAft.getCommonConfig(2030)),o=100*Number(e.ConfigManagerAft.getCommonConfig(2031)),r=Number(e.ConfigManagerAft.getCommonConfig(2029)),a=e.TeamModdel.instance.myTeam.cashEffectNum,s=Math.floor(a/n*100),c=e.LabelUtil.getCNMessage(e.ClientCnEnum.CN_114,n,o,r,s);e.PromptController.instance.showPrompt(c,null,null,null,null,2)}},i}(e.BaseController);e.RechargeController=t,__reflect(t.prototype,"qmr.RechargeController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.rechargeCost=0;return t}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t)
},enumerable:!0,configurable:!0}),t}(e.BaseModel);e.RechargeModel=t,__reflect(t.prototype,"qmr.RechargeModel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.qmrSkinName="RechargeSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_8,i}return __extends(i,t),i.prototype.initComponent=function(){var e=this;t.prototype.initComponent.call(this),e.showTxtNames=["CN_439","CN_259","CN_437","CN_438","CN_436"]},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),e.RechargeController.instance.requestAddressInfo()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.but_changePwd0,i.saveImg,i),i.addClickEvent(i.but_changePwd,i.copyAddress,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_BONUS_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MY_ADDRESS,i.updateView,i)},i.prototype.saveImg=function(){e.TipManagerCommon.getInstance().showLanTip("CN_231")},i.prototype.copyAddress=function(){var t=e.RechargeModel.instance.rechargeAddress;t?e.StringUtils.copyClipBoard(t):e.TipManagerCommon.getInstance().showLanTip("CN_232")},i.prototype.updateView=function(){for(var t=this;t.codeGroup.numChildren>0;)t.codeGroup.removeChildAt(0);var i=e.RechargeModel.instance.rechargeAddress;if(i){var n=GameUtil.createCode(i);t.codeGroup.addChild(n)}t.txt_md5.text=i},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.RechargeView=t,__reflect(t.prototype,"qmr.RechargeView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.__leftTime=0,i.applyCount=0,i.qmrSkinName="WithdrawalSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_7,i}return __extends(i,t),i.prototype.initComponent=function(){var e=this;t.prototype.initComponent.call(this),e.showTxtNames=["CN_445","CN_260","CN_441","CN_440","CN_329","CN_442","CN_443","CN_444","CN_447","CN_446"]},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_getCode,i.getVcode,i),i.addClickEvent(i.btn_ok,i.onApply,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_BONUS_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_FEED_COUNT,i.updateCostMoney,i),i.addEvent(i.text_input_count,egret.Event.CHANGE,i.onTextInputChange,i)},i.prototype.onTextInputChange=function(t){var i=this,n=t.target.text;e.RegexpUtil.IsNull(n)||e.RegexpUtil.IsInteger(n)&&(i.applyCount=parseInt(n.trim()),-1!=i.__timekey2&&egret.clearInterval(i.__timekey2),i.__timekey2=egret.setInterval(i.getCostMoney,i,1e3))},i.prototype.getCostMoney=function(){var t=this;-1!=t.__timekey2&&egret.clearInterval(t.__timekey2);var i=t.text_input_count.text;e.RegexpUtil.IsNull(i)||e.RegexpUtil.IsInteger(i)&&(t.applyCount=parseInt(i.trim()),e.RechargeController.instance.requestCostCmd(t.applyCount))},i.prototype.updateCostMoney=function(){var t=this;t.txt_cost.text=e.RechargeModel.instance.rechargeCost+e.HeroModel.USDT;var i=t.applyCount-e.RechargeModel.instance.rechargeCost;i=i>0?i:0,t.txt_receive_account.text=i+e.HeroModel.USDT},i.prototype.updateView=function(){var t=this;e.LabelUtil.setLabelText(t.CN_445,"CN_445",e.HeroModel.instance.totalUSDT)},i.prototype.getVcode=function(){if(this.__leftTime>0)return void e.TipManagerCommon.getInstance().showLanTip("CN_174");var t=e.HeroModel.instance.IdentityPro.mobile;e.LoginController.instance.reqVerifyCode(t,4),this.__leftTime=59,this.updateCd()},i.prototype.onApply=function(){var t=this,i=t.text_input_address.text;if(!e.RegexpUtil.IsNull(i)){var n=i.substr(0,2);if("0x"!=n)return void e.TipManagerCommon.getInstance().showLanTip("CN_234");var o=t.text_input_count.text;if(!e.RegexpUtil.IsNull(o)&&e.RegexpUtil.IsInteger(o)){var r=parseFloat(o);if(0>=r)return void e.TipManagerCommon.getInstance().showLanTip("CN_235");var a=Number(e.ConfigManagerAft.getCommonConfig(2028));if(a>r)return void e.TipManagerCommon.getInstance().showLanTip("CN_236",a);var s=t.text_input_vcode.text;e.RegexpUtil.IsNull(s)||e.RechargeController.instance.requestApplyCmd(r,i,s)}}},i.prototype.updateCd=function(){var t=this;t.__leftTime>0?(-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=egret.setInterval(t.updateTime,t,1e3),t.CN_444.text=e.CommonTool.formatTime1(t.__leftTime)+"s"):t.stopTime()},i.prototype.updateTime=function(){var t=this;return this.__leftTime<=0?void e.LabelUtil.setLabelText(t.CN_444,"CN_444"):(t.CN_444.text=e.CommonTool.formatTime1(t.__leftTime)+"s",void t.__leftTime--)},i.prototype.stopTime=function(){var t=this;-1!=t.__timekey&&egret.clearInterval(t.__timekey),t.__timekey=-1,e.LabelUtil.setLabelText(t.CN_444,"CN_444")},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.WithdrawalView=t,__reflect(t.prototype,"qmr.WithdrawalView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="ActiveDrawLogsItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;i&&(t.txt_tel.text=i.mobile,t.txt_team.text=e.ActiveShopModel.instance.getRewardDes(e.Int64Util.getNumber(i.rewardId)),t.txt_time.text=e.TimeUtil.getDateByTimer(1e3*e.Int64Util.getNumber(i.logTime)))},i}(eui.ItemRenderer);e.ActiveDrawLogsItem=t,__reflect(t.prototype,"qmr.ActiveDrawLogsItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.__pageIndex=0,e.qmrSkinName="ActiveDrawLogsSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.rank_list.itemRenderer=e.ActiveDrawLogsItem,i._arrCollection=new eui.ArrayCollection,i.rank_list.dataProvider=i._arrCollection},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),i._isGetRank=!1,e.ActiveShopController.instance.requestOcpDrawLogs()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.registerNotify(e.NotifyConst.S_GET_OCEAN_ACTIVITY_DRAW_LOG,i.updateView,i)},i.prototype.updateView=function(){var t=this,i=e.ActiveShopModel.instance.drawLogPros;t._arrCollection.source=i},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.ActiveDrawLogsView=t,__reflect(t.prototype,"qmr.ActiveDrawLogsView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="RuneLotteryItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.setInfo=function(e){this.txt.text=e},t}(e.UIComponent);e.RuneLotteryAwardItem=t,__reflect(t.prototype,"qmr.RuneLotteryAwardItem")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.lastTime=10,e.lotteryId=-1,e.gameItemArr=[],e.__endTime=0,e.isNeedMask=!0,e.isPopupEffect=!0,e.qmrSkinName="RuneLotteryViewSkin",e}return __extends(i,t),i.prototype.initComponent=function(){t.prototype.initComponent.call(this);var i=this,n=8,o=170,r=360/n;i.txt_logs.textFlow=new Array({text:"查看记录",style:{underline:!0}});for(var a,s=e.ActiveShopModel.instance.rewardDes,c=0;n>c;c++)a=new e.RuneLotteryAwardItem,a.horizontalCenter=o*Math.sin(r*c*Math.PI/180),a.verticalCenter=-o*Math.cos(r*c*Math.PI/180),a.setInfo(s[c]),this.gameItemArr[c]=a,this.lottery_g.addChild(a);this.__rewardIndexs=e.ActiveShopModel.instance.rewardIndexs},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;this.isCircling=!1,this.setShowTime();var n=e.ActiveShopModel.instance.ocpActivePro;if(n){var o=e.Int64Util.getNumber(n.endTime);o>e.ServerTime.serverTime/1e3&&(e.ActiveShopController.instance.requestMyOcpActiveInfo(),i.__endTime=o)}},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.start_btn,i.startLottery,i),i.addClickEvent(i.txt_logs,i.showLogsView,i),i.registerNotify(e.NotifyConst.S_GET_MY_OCEAN_ACTIVITY_INFO,i.setShowTime,i),i.registerNotify(e.NotifyConst.S_OCEAN_ACTIVITY_DRAW,i.onDrawResult,i)},i.prototype.setShowTime=function(){var t=e.ActiveShopModel.instance.myOcpActivePro,i=e.ActiveShopModel.instance.ocpActivePro,n=0,o=0,r=0;t&&(n=t.leftCount,o=t.directCount,r=t.teamCount);var a=0,s=0;i&&(a=i.directCount,s=i.teamCount),this.lastTime=n,this.cost_num.textFlow=(new egret.HtmlTextParser).parser("可抽次数:<font color='0x27cb6c'>"+n+"</font>");var c="直推人数：<font color='0x27cb6c'>"+o+"</font>团队规模：<font color='0x27cb6c'>"+r+"</font>\r直推"+a+"人可以免费获得<font color='0x27cb6c'>1</font>次抽奖机会！可累计！\r团队增加"+s+"人也免费获得<font color='0x27cb6c'>1</font>次抽奖机会！可累计！";this.cd_time.textFlow=(new egret.HtmlTextParser).parser(c)},i.prototype.startLottery=function(){if(!this.isCircling){if(this.lastTime<=0)return void e.TipManagerCommon.getInstance().createCommonTip("抽奖次不够,请完成足够的团队任务!");this.isCircling=!0,e.HeroModel.instance.isDelayShowMoney=!0,e.ActiveShopController.instance.requestDraw()}},i.prototype.onDrawResult=function(){var t=e.ActiveShopModel.instance.drawId;if(t&&t>0){var i=this.__rewardIndexs.indexOf(t);-1!=i&&this.onResLottery(i+1)}},i.prototype.onResLottery=function(e){this.setShowTime(),this.loadAndPlayEffect("SOUND_ZHUANPAN",0),this.lotteryEnd({id:e-1,type:1})},i.prototype.lotteryEnd=function(t){var i=this;if(-1!=t.type){var n=1800+45*t.id;egret.Tween.get(i.lottery_bgd).to({rotation:n},2e3,egret.Ease.sineOut).call(function(){i.isCircling=!1,i.lotteryEndTween(t.id),e.SoundManager.getInstance().stopSoundEffect("SOUND_ZHUANPAN")},i)}else i.isCircling=!1},i.prototype.lotteryEndTween=function(t){e.SoundManager.getInstance().loadAndPlayEffect("SOUND_JINBI");var i=e.ActiveShopModel.instance.rewardDes,n=i[t];e.TipManagerCommon.getInstance().createCommonTip("恭喜本次抽奖获得："+n),e.HeroModel.instance.isDelayShowMoney=!1,this.dispatch(e.NotifyConst.S_SYN_PROPERTY)},i.prototype.showLogsView=function(){e.ModuleManager.showModule(e.ModuleNameConst.ACTIVE_DRAW_LOGS)},i.prototype.dispose=function(){t.prototype.dispose.call(this),e.SoundManager.getInstance().stopSoundEffect("SOUND_ZHUANPAN")},i}(e.BaseModule);e.RuneLotteryView=t,__reflect(t.prototype,"qmr.RuneLotteryView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="ShopItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var i=this;e.DisplayUtils.addClick(i.btn_buy_group,i.onBuyClick,i),e.DisplayUtils.addClick(i.btn_buy_group2,i.onBuyClick2,i),i.switchLanguage()},i.prototype.switchLanguage=function(){var t=this;t.CN_115.text=e.LabelUtil.getCNMessage("CN_115"),t.CN_116.text=e.LabelUtil.getCNMessage("CN_116"),t.CN_117.text=e.LabelUtil.getCNMessage("CN_117")},i.prototype.onBuyClick=function(){var t=this.data;if(t)return t.price>e.HeroModel.instance.totalMoney?void e.TipManagerCommon.getInstance().showLanTip("CN_131"):void e.PetController.instance.getBuyFish(t.id)},i.prototype.onBuyClick2=function(){var t=this.data;if(t)return t.UBuyPrice>e.HeroModel.instance.totalUSDT?void e.TipManagerCommon.getInstance().showLanTip("CN_131"):void e.PetController.instance.getBuyFishByUSDT(t.id)},i.prototype.dataChanged=function(){var t=this,i=t.data;if(t.btn_buy_group.visible=!0,t.btn_buy_group2.visible=!1,t.CN_258.visible=!1,t.btn_buy_group.y=81,i){t.txt_name.text=e.LabelUtil.getCNMessage(i.name)+"(Lv."+i.level+")",t.txt_1.text=i.produce+"",t.txt_2.text=i.limitTime+"",t.txt_3.text=i.monthly+"%",t.CN_256.text=e.NumberUtil.getFloat4Number2String(i.price)+e.HeroModel.KH,t.CN_257.text=e.NumberUtil.getFloat4Number2String(i.UBuyPrice)+e.HeroModel.USDT;var n=e.ResPathUtilAft.getHeadUrl(i.id+"");t.img_head.source=n;var o=e.TeamModdel.instance.myTeam;if(o&&o.count>=i.directPerson&&o.allCount>=i.teamPerson&&i.UBuyStar>0){t.btn_buy_group2.visible=!0,t.CN_258.visible=!0,t.btn_buy_group2.y=100,t.btn_buy_group.y=43;var r=e.HeroModel.instance.getBuyCount(i.id);e.LabelUtil.setLabelText(t.CN_258,e.ClientCnEnum.CN_106,r,i.UBuyLimit)}}},i}(eui.ItemRenderer);e.ShopItemRender=t,__reflect(t.prototype,"qmr.ShopItemRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="ShopSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.ShopItemRender,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_shop.source="nameImg_json.title_shop":i.title_shop.source="nameImg_en_json.title_shop"},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnClose,i.closeView,i),i.addClickEvent(i.btnReturn,i.closeView,i),i.registerNotify(e.NotifyConst.S_BUY_FISH,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i)},i.prototype.updateView=function(){var t=this,i=e.ConfigManager.getBean(e.ConfigEnum.PET).values;t._arrCollection.replaceAll(i),t.txt_totalGold.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalMoney)+e.HeroModel.KH,t.txt_totalUSDT.text=e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalUSDT)+e.HeroModel.USDT},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.ShopView=t,__reflect(t.prototype,"qmr.ShopView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="TeamItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.txt_tel.text=t.mobile,e.txt_direct.text=t.directCount+"",e.txt_team.text=t.teamCount+"",e.txt_count.text=t.leftCount+"")},t}(eui.ItemRenderer);e.TeamRankItemRender=t,__reflect(t.prototype,"qmr.TeamRankItemRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.__pageIndex=0,i.qmrSkinName="TeamRankSkin",i.isNeedMask=!0,i.helpId=e.HelpIdEnum.TIP_15,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.tabBar.itemRenderer=e.TabBarPageRender,i.rank_list.itemRenderer=e.TeamRankItemRender,i._arrCollection=new eui.ArrayCollection,i.rank_list.dataProvider=i._arrCollection},i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.updateView(),i._isGetRank=!1,e.ActiveShopController.instance.requestOcpRankInfo(1)},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addEvent(i.tabBar,egret.Event.CHANGING,i.onTabarChanage,i),i.registerNotify(e.NotifyConst.S_GET_OCEAN_ACTIVITY_RANK,i.updateView,i)},i.prototype.onTabarChanage=function(t){var i=this;i.__pageIndex=i.tabBar.selectedIndex,i._isGetRank||(i._isGetRank=!0,e.ActiveShopController.instance.requestOcpRankInfo(2)),i.updateView()},i.prototype.updateView=function(){var t,i=this;t=0==i.__pageIndex?e.ActiveShopModel.instance.directRankPros:e.ActiveShopModel.instance.teamRankPros;var n=[];if(t&&t.length>0)for(var o=t.length,r=0;o>r;r++)(t[r].directCount||t[r].teamCount>0)&&n.push(t[r]);i._arrCollection.source=n},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.TeamRankView=t,__reflect(t.prototype,"qmr.TeamRankView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.initListeners=function(){this.addSocketListener(e.MessageID.S_GET_OCT_MARKET_INFO,this.getOTCResponse,this,!1),this.addSocketListener(e.MessageID.S_MARKET_BUY,this.getBuyOrderResponse,this,!1),this.addSocketListener(e.MessageID.S_MARKET_SELL,this.getSellOrderResponse,this,!1),this.addSocketListener(e.MessageID.S_MARKET_CANCEL,this.getBuyOrderRevokeResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_OCT_BUYGOOD_LIST,this.getListCResponse,this,!1),this.addSocketListener(e.MessageID.S_GET_MY_OCT_BUYGOOD_LIST,this.getMyOTCListResponse,this,!1)},i.prototype.requestOTCInfo=function(){var t=new com.message.C_GET_OCT_MARKET_INFO;this.sendCmd(t,e.MessageID.C_GET_OCT_MARKET_INFO,!0)},i.prototype.getOTCResponse=function(t){e.TradeModule.instance.sysDiamonPrice=e.Int64Util.getNumber(t.sysDiamondPrice),e.TradeModule.instance.allDiamond=t.allDiamond,e.TradeModule.instance.historyPrices=t.historyPriceMsgList,this.dispatch(e.NotifyConst.S_GET_OCT_MARKET_INFO)},i.prototype.requestOTCList=function(){var t=new com.message.C_GET_OCT_BUYGOOD_LIST;t.page=1,t.pageSize=500,this.sendCmd(t,e.MessageID.C_GET_OCT_BUYGOOD_LIST,!0)},i.prototype.getListCResponse=function(t){e.TradeModule.instance.buyGoodsList=t.buyGoodMsgList,this.dispatch(e.NotifyConst.S_GET_OCT_BUYGOOD_LIST)},i.prototype.requestMyOTCList=function(){var t=new com.message.C_GET_MY_OCT_BUYGOOD_LIST;this.sendCmd(t,e.MessageID.C_GET_MY_OCT_BUYGOOD_LIST,!0)},i.prototype.getMyOTCListResponse=function(t){e.TradeModule.instance.myBuyGoodsList=t.buyGoodMsgList,this.dispatch(e.NotifyConst.S_GET_MY_OCT_BUYGOOD_LIST)},i.prototype.getBuyOrderRequest=function(t,i){var n=new com.message.C_MARKET_BUY;n.diamondPrice=i,n.moneyCount=t,this.sendCmd(n,e.MessageID.C_MARKET_BUY,!0)},i.prototype.getBuyOrderResponse=function(t){e.TradeModule.instance.addBuyOrder(t.buyGoodMsg),this.dispatch(e.NotifyConst.S_MARKET_BUY),this.requestMyOTCList(),e.TipManagerCommon.getInstance().createCommonTip("挂单成功")},i.prototype.getSellOrderRequest=function(t,i){var n=new com.message.C_MARKET_SELL;n.buyGoodMsgId=t,n.sellMoneyCount=i,this.sendCmd(n,e.MessageID.C_MARKET_SELL,!0)},i.prototype.getSellOrderResponse=function(t){e.TradeModule.instance.updateBuyOrder(e.Int64Util.getNumber(t.buyGoodMsgId),t.sellMoneyCount),this.dispatch(e.NotifyConst.S_MARKET_SELL)},i.prototype.getBuyOrderRevokeRequest=function(t){var i=new com.message.C_MARKET_CANCEL;i.buyGoodMsgId=t,this.sendCmd(i,e.MessageID.C_MARKET_CANCEL,!0)},i.prototype.getBuyOrderRevokeResponse=function(t){e.TradeModule.instance.updateBuyOrder(e.Int64Util.getNumber(t.buyGoodMsgId),0),this.dispatch(e.NotifyConst.S_MARKET_CANCEL),this.requestMyOTCList()},i}(e.BaseController);e.TradeController=t,__reflect(t.prototype,"qmr.TradeController")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="BuyGoodItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var i=this;e.DisplayUtils.addClick(i.btn_sell_group,i.onSellClick,i),e.DisplayUtils.addClick(i.btn_revoke,i.onRevekeClick,i)},i.prototype.onSellClick=function(){var t=this,i=t.data;if(i){var n=e.HeroModel.instance.totalMoney;if(0>=n)return void e.TipManagerCommon.getInstance().showLanTip("CN_237");var o=e.LabelUtil.getCNMessage("CN_238",i.diamondPrice,i.moneyCount,e.NumberUtil.getFloat4Number2String(e.HeroModel.instance.totalMoney));e.PromptController.instance.showPromptInput(o,function(i){var n=t.data;n&&e.TradeController.instance.getSellOrderRequest(e.Int64Util.getNumber(n.buyGoodMsgId),i)},t,null,null,e.LabelUtil.getCNMessage("CN_239"),e.LabelUtil.getCNMessage("CN_240"),i.moneyCount,0,i.diamondPrice,e.HeroModel.instance.totalMoney)}},i.prototype.onRevekeClick=function(){var t=this,i=t.data;i&&e.TradeController.instance.getBuyOrderRevokeRequest(e.Int64Util.getNumber(i.buyGoodMsgId))},i.prototype.dataChanged=function(){var t=this,i=t.data;i&&(t.txt_id.text=i.mobile,t.txt_price.text=e.NumberUtil.getFloat6Number2String(i.diamondPrice)+e.HeroModel.USDT,t.txt_count.text=e.NumberUtil.getFloat4Number2String(i.moneyCount)+e.HeroModel.KH,t.txt_time.text=e.TimeUtil.getDateByTimer(e.Int64Util.getNumber(i.createTime)),t.btn_revoke.visible=e.Int64Util.getNumber(i.playerId)==e.HeroModel.instance.playerId,t.btn_sell_group.visible=e.Int64Util.getNumber(i.playerId)!=e.HeroModel.instance.playerId)},i}(eui.ItemRenderer);e.TradeItemRender=t,__reflect(t.prototype,"qmr.TradeItemRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;e.sysDiamonPrice=0,e.allDiamond=0;return e}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return this._instance||(this._instance=new i)},enumerable:!0,configurable:!0}),i.prototype.addBuyOrder=function(e){var t=this;t.buyGoodsList||(t.buyGoodsList=[]),e&&t.buyGoodsList.unshift(e)},i.prototype.updateBuyOrder=function(t,i){var n=this;n.buyGoodsList||(n.buyGoodsList=[]);for(var o=n.buyGoodsList.length,r=0;o>r;r++)if(t==e.Int64Util.getNumber(n.buyGoodsList[r].buyGoodMsgId)){i>0?n.buyGoodsList[r].moneyCount-=i:n.buyGoodsList.splice(r,1);break}},i.prototype.getType=function(t){var i;switch(t){case e.TradeTypeEnum.MONEY_REWARD:i="CN_261";break;case e.TradeTypeEnum.MONEY_BUY_FISH:i="CN_262";break;case e.TradeTypeEnum.OCT_SELL_MONEY:i="CN_263";break;case e.TradeTypeEnum.OCT_SOMEONE_SELL_ME:i="CN_264";break;case e.TradeTypeEnum.MONEY_EXCHANGE_KAD:i="CN_265";break;case e.TradeTypeEnum.DIRECT_MONEY_REWARD:i="CN_266";break;case e.TradeTypeEnum.TEAM_MONEY_REWARD:i="CN_267";break;case e.TradeTypeEnum.DIAMOND_BUY_FISH:i="CN_268";break;case e.TradeTypeEnum.OCT_BUY_MONEY_COST_U:i="CN_269";break;case e.TradeTypeEnum.OCT_SELL_MONEY_GOT_U:i="CN_270";break;case e.TradeTypeEnum.OCT_CANCEL_GOT_U:i="CN_271";break;case e.TradeTypeEnum.KAD_BONUS_GOT_U:i="CN_272";break;case e.TradeTypeEnum.RECHARGE_GOT_U:i="CN_273";break;case e.TradeTypeEnum.DOLPHIN_SELL_OUT_GOT_U:i="CN_274";break;case e.TradeTypeEnum.DOLPHIN_BUY_COST_U:i="CN_275";break;case e.TradeTypeEnum.DOLPHIN_HATCH_COST_U:i="CN_276";break;case e.TradeTypeEnum.CASH_OUT_COST_U:i="CN_545";break;case e.TradeTypeEnum.CASH_OUT_REFUSE_GOT_U:i="CN_543";break;case e.TradeTypeEnum.EXCHANGE_GOT_KAD:i="CN_277";break;case e.TradeTypeEnum.INJECT_COST_KAD:i="CN_278";break;case e.TradeTypeEnum.INJECT_EXPIRE_GOT_KAD:i="CN_279";break;case e.TradeTypeEnum.USE_KEY:i="CN_280";break;case e.TradeTypeEnum.KEY_GIVE:i="CN_281";break;case e.TradeTypeEnum.KEY_BE_GIVE:i="CN_282";break;case e.TradeTypeEnum.DOLPHIN_BUY_COUNT_BE_GIVE:i="CN_283";break;case e.TradeTypeEnum.DOLPHIN_BUY_COST_BUY_COUNT:i="CN_284";break;case e.TradeTypeEnum.DOLPHIN_EXCHANGE_GOT_COUNT:i="CN_285";break;case e.TradeTypeEnum.DOLPHIN_TEAM_BUY_GOT_BUY_COUNT:i="CN_267";break;case e.TradeTypeEnum.DOLPHIN_EXCHANGE_COST_MONEY:i="CN_286";break;case e.TradeTypeEnum.DOLPHIN_FERTILIZE_COST_MONEY:i="CN_287";break;case e.TradeTypeEnum.DOLPHIN_SIGN_IN_GOT_MONEY:i="CN_288";break;case e.TradeTypeEnum.DOLPHIN_DIRECT_BUY_GOT_MONEY:i="CN_266";break;case e.TradeTypeEnum.DOLPHIN_SPEED_COST_SPEED_COUNT:i="CN_289";break;case e.TradeTypeEnum.DOLPHIN_DIRECT_BUY_GOT_SPEED_COUNT:i="CN_266";break;case e.TradeTypeEnum.DOLPHIN_TEAM_BUY_GOT_SPEED_COUNT:i="CN_267";break;case e.TradeTypeEnum.ADMIN_CURRENCY_OPERATION:i="CN_297";break;case e.TradeTypeEnum.OCEAN_ACTIVITY_DRAW_REWARD:i="CN_546";break;case e.TradeTypeEnum.OCEAN_ACTIVITY_DIRECT_REWARD:i="CN_547";break;case e.TradeTypeEnum.OCEAN_ACTIVITY_TEAM_REWARD:i="CN_548";break;case e.TradeTypeEnum.DEEP_ACTIVITY_BUY_FISH_COST_U:i="CN_549";break;case e.TradeTypeEnum.OCEAN_ACTIVITY_DRAW_GOT_U:i="CN_550"}return i?e.LabelUtil.getCNMessage(i):""},i.prototype.getMoneyType=function(t){var i;return 100>t?i="CN_290":200>t?i="CN_291":300>t?i="CN_292":400>t?i="CN_293":500>t?i="CN_294":600>t?i="CN_295":700>t?i="CN_296":1e3==t&&(i="CN_297"),i?e.LabelUtil.getCNMessage(i):""},i}(e.BaseModel);e.TradeModule=t,__reflect(t.prototype,"qmr.TradeModule")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i._selectType=0,i.todayTotalCount=0,i.qmrSkinName="PriceSkin",i.isNeedMask=!0,i.helpId=e.HelpId.ID_1,i}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.TradeItemRender,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i._stepLabels=[i.txt_price0,i.txt_price1,i.txt_price2,i.txt_price3,i.txt_price4,i.txt_price5],i._dateLabels=[i.txt_date0,i.txt_date1,i.txt_date2,i.txt_date3,i.txt_date4,i.txt_date5,i.txt_date6],i._columns=[i.column_0,i.column_1,i.column_2,i.column_3,i.column_4,i.column_5,i.column_6],i._positions=[];for(var n=0;n<i._columns.length;n++)i._positions[n]=new egret.Point(i._columns[n].x,i._columns[n].y);i.showTxtNames=["CN_325","CN_327","CN_328","CN_329","CN_324","CN_326","CN_331","CN_330","CN_332","CN_256","CN_540","CN_539"]},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),i.text_input_price.prompt=e.LabelUtil.getCNMessage("CN_333"),i.text_input_count.prompt=e.LabelUtil.getCNMessage("CN_334")},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_buy_group,i.buyClick,i),i.addClickEvent(i.btn_allList,i.showAll,i),i.addClickEvent(i.btn_myList,i.showMe,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_REWARD,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MONEY_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_SYN_PROPERTY,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_OCT_MARKET_INFO,i.updateView,i),i.registerNotify(e.NotifyConst.S_MARKET_BUY,i.updateView,i),i.registerNotify(e.NotifyConst.S_MARKET_SELL,i.updateView,i),i.registerNotify(e.NotifyConst.S_MARKET_CANCEL,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_OCT_BUYGOOD_LIST,i.updateView,i),i.registerNotify(e.NotifyConst.S_GET_MY_OCT_BUYGOOD_LIST,i.updateView,i),e.LabelUtil.addInputListener(i.text_input_price,i),e.LabelUtil.addInputListener(i.text_input_count,i)},i.prototype.showAll=function(){var e=this;0!=e._selectType&&(e._selectType=0,e.btn_img_select.visible=!0,e.btn_img_select2.visible=!1,e.updateList())},i.prototype.showMe=function(){var e=this;1!=e._selectType&&(e._selectType=1,e.btn_img_select.visible=!1,e.btn_img_select2.visible=!0,e.updateList())},i.prototype.updateList=function(){var t=this,i=[];0==t._selectType?e.TradeModule.instance.buyGoodsList&&(i=i.concat(e.TradeModule.instance.buyGoodsList)):1==t._selectType&&e.TradeModule.instance.myBuyGoodsList&&(i=i.concat(e.TradeModule.instance.myBuyGoodsList)),i&&i.length>1&&i.sort(function(t,i){return t.diamondPrice>i.diamondPrice?-1:t.diamondPrice<i.diamondPrice?1:t.moneyCount>i.moneyCount?-1:t.moneyCount<i.moneyCount?1:e.Int64Util.getNumber(i.createTime)-e.Int64Util.getNumber(t.createTime)}),t._arrCollection.source=i},i.prototype.onFocusOut=function(){var t=this.text_input_price.text;e.RegexpUtil.IsDouble(t)&&!e.RegexpUtil.IsInteger(t)},i.prototype.onFocusOut2=function(){var t=this.text_input_count.text;!e.RegexpUtil.IsInteger(t)},i.prototype.buyClick=function(){var t=this,i=t.text_input_price.text.trim();if(0==i.length)return void e.TipManagerCommon.getInstance().showLanTip("CN_241");if(t.todayTotalCount>=5)return void e.TipManagerCommon.getInstance().createCommonTip("每天挂单总量不能超过5单");var n=Number(i);if(0>=n)return void e.TipManagerCommon.getInstance().showLanTip("CN_242");if(!n)return void e.TipManagerCommon.getInstance().showLanTip("CN_242");if(i=t.text_input_count.text.trim(),0==i.length)return void e.TipManagerCommon.getInstance().showLanTip("CN_243");var o=Number(i);if(0>=o)return void e.TipManagerCommon.getInstance().showLanTip("CN_244");if(100>o)return void e.TipManagerCommon.getInstance().createCommonTip("挂单数量不能少于100");var r=Number(e.ConfigManagerAft.getCommonConfig(1029)),a=100*r;if(n>e.TradeModule.instance.sysDiamonPrice*r)return void e.TipManagerCommon.getInstance().showLanTip("CN_542",a);Number(e.ConfigManagerAft.getCommonConfig(1004));if(n<e.TradeModule.instance.sysDiamonPrice)return void e.TipManagerCommon.getInstance().showLanTip("CN_542",a);var s=o*n;return s>e.HeroModel.instance.totalUSDT?void e.TipManagerCommon.getInstance().showLanTip("CN_246"):void e.TradeController.instance.getBuyOrderRequest(o,n)},i.prototype.updateView=function(){var t=this,i=[];e.TradeModule.instance.buyGoodsList&&(i=i.concat(e.TradeModule.instance.buyGoodsList));var n,o=0;if(i&&i.length>0){n=i.length;var r=new Date;r.setHours(0,0,0);for(var a=r.getTime(),s=0;n>s;s++)i[s].playerId==e.HeroModel.instance.IdentityPro.playerId&&a<i[s].createTime&&o++}else i=[];t.todayTotalCount=o,t.updateList(),t.txt_todayPrice.text=e.TradeModule.instance.sysDiamonPrice+e.HeroModel.USDT,t.txt_totalCount.text=e.NumberUtil.getFloat4Number2String(e.TradeModule.instance.allDiamond)+e.HeroModel.USDT;var c,l,f=.01,h=e.TradeModule.instance.historyPrices,u=[],p=[],_=e.ServerTime.serverTime;if(h&&h.length>0){h.sort(function(t,i){return e.Int64Util.getNumber(t.historyTime)-e.Int64Util.getNumber(i.historyTime)}),n=h.length;for(var s=0;n>s;s++)u.push(e.Int64Util.getNumber(h[s].historyPrice)),p.push(e.Int64Util.getNumber(h[s].historyTime));l=h[n-1].historyPrice,n>=2&&(c=h[n-2].historyPrice)}if(c||(c=.01),c||(c=f),t.txt_changeValue.text=Math.ceil(100*(l-c)/c)+"%",t.txt_totalChangeValue.text=Math.ceil(100*(l-f)/f)+"%",u.length>7){var g=u.length-7;u=u.slice(g,u.length),p=p.slice(g,p.length)}var d=864e5,m=1;for(_=p[p.length-1];u.length<7;)u.push(0),p.push(_+d*m),m++;for(var y=0,C=0,s=0;s<u.length;s++)y=y<u[s]?u[s]:y;y=1.5*y;for(var T=(y-C)/5,E=[],s=0;6>s;s++)E[s]=C+T*s;n=E.length;for(var s=0;n>s;s++)t._stepLabels[s].text=e.NumberUtil.getFloat4Number(E[s])+"";n=u.length;for(var v=new Date,s=0;s<p.length;s++)v.setTime(p[s]),t._dateLabels[s].text=e.TimeUtil.formatMD(v);for(var S,I=217,s=0;n>s;s++)S=u[s],y>0?t._columns[s].height=Math.ceil(S/y*I):t._columns[s].height=0;if(""==t.text_input_price.text||"0"==t.text_input_price.text){var M=Number(e.ConfigManagerAft.getCommonConfig(1029)),N=Math.floor(e.TradeModule.instance.sysDiamonPrice*M*1e5)/1e5;t.text_input_price.text=N+""}(""==t.text_input_count.text||"0"==t.text_input_count.text)&&(t.text_input_count.text="100")},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.TradeView=t,__reflect(t.prototype,"qmr.TradeView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="USDTLogItemSkin",e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.dataChanged=function(){var t=this,i=t.data;i&&(t.txt_count.text=e.NumberUtil.getFloat6Number2String(i.changeMoney)+e.TradeModule.instance.getMoneyType(i.type),t.txt_name.text=e.TradeModule.instance.getType(i.type),t.txt_time.text=e.TimeUtil.getDateByTimerSecond(e.Int64Util.getNumber(i.logTime)))},i}(eui.ItemRenderer);e.USDTLogItemRender=t,__reflect(t.prototype,"qmr.USDTLogItemRender")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.qmrSkinName="USDTLogVSkin",e.isNeedMask=!0,e}return __extends(i,t),i.prototype.initComponent=function(){var i=this;t.prototype.initComponent.call(this),i.item_list.itemRenderer=e.USDTLogItemRender,i._arrCollection=new eui.ArrayCollection,i.item_list.dataProvider=i._arrCollection,i.showTxtNames=["CN_259","CN_260"]
},i.prototype.switchLange=function(){var i=this;t.prototype.switchLange.call(this),e.GlobalConfig.isCN?i.title_zichan.source="nameImg_json.title_zichan":i.title_zichan.source="nameImg_en_json.title_zichan"},i.prototype.initData=function(){t.prototype.initData.call(this);var e=this;e.updateView()},i.prototype.initListener=function(){t.prototype.initListener.call(this);var i=this;i.addClickEvent(i.btnClose,i.closeView,i),i.addClickEvent(i.btnReturn,i.closeView,i),i.addClickEvent(i.btn_recharge,i.onRechargeClick,i),i.addClickEvent(i.btn_tixian,i.onWithdrawalClick,i),i.registerNotify(e.NotifyConst.S_GET_DIAMOND_LOG_LIST,i.updateView,i)},i.prototype.onRechargeClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.RECHARGE_VIEW)},i.prototype.onWithdrawalClick=function(){e.ModuleManager.showModule(e.ModuleNameConst.WIHTDRAWAL_VIEW)},i.prototype.updateView=function(){var t=this,i=e.HeroModel.instance.usdtLogs;i&&i.sort(function(t,i){return e.Int64Util.getNumber(i.logTime)-e.Int64Util.getNumber(t.logTime)}),t._arrCollection.replaceAll(i)},i.prototype.dispose=function(){t.prototype.dispose.call(this)},i}(e.BaseModule);e.USDTLogView=t,__reflect(t.prototype,"qmr.USDTLogView")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"mapPath",{get:function(){return e.PlatformConfig.webRoot+"map/"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"effectPath",{get:function(){return e.PlatformConfig.webRoot+"effect/"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"headPath",{get:function(){return e.PlatformConfig.webRoot+"icon/head/"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"uieffect",{get:function(){return e.PlatformConfig.webRoot+"effect/ui/"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"bgPath",{get:function(){return e.PlatformConfig.webRoot+"unpack/bg/"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"unpack_battle",{get:function(){return e.PlatformConfig.webRoot+"unpack/battle/"},enumerable:!0,configurable:!0}),t}();e.SystemPathAft=t,__reflect(t.prototype,"qmr.SystemPathAft")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.init=function(){var e,t=this;for(var i in t)e=t[i],t.MSG_KEYS.set(e,i)},t.getMsgNameById=function(e){return t.MSG_KEYS.get(e)},t.MSG_KEYS=new e.Dictionary,t.MSG_EMPTY=0,t.S_EXCEPTION_MSG=900,t.C_USER_LOGIN=1001,t.S_USER_LOGIN=1002,t.S_USER_LOGIN_BAN=1003,t.C_USER_LOGIN_VERIFY_CODE=1004,t.C_LOGIN_REGISTER=1005,t.S_LOGIN_REGISTER=1006,t.C_USER_LOGOUT=1007,t.S_USER_LOGOUT=1008,t.C_USER_LOGIN_INIT_FINISH=1009,t.S_USER_LOGIN_INIT_FINISH=1010,t.C_MODIFY_PASSWORD=1011,t.S_MODIFY_PASSWORD=1012,t.C_USE_KEY=1013,t.S_USE_KEY=1014,t.C_GIVE_KEY=1015,t.S_GIVE_KEY=1016,t.C_GET_KEY_LIST=1017,t.S_GET_KEY_LIST=1018,t.C_SEND_VERIFY_CODE=1019,t.S_SEND_VERIFY_CODE=1020,t.C_GET_FISH_INFO=1051,t.S_GET_FISH_INFO=1052,t.C_BUY_FISH=1053,t.S_BUY_FISH=1054,t.C_COMBINE_FISH=1055,t.S_COMBINE_FISH=1056,t.C_GET_MONEY_REWARD=1057,t.S_GET_MONEY_REWARD=1058,t.C_GET_MONEY_INFO=1059,t.S_GET_MONEY_INFO=1060,t.C_DIAMOND_BUY_FISH=1061,t.S_DIAMOND_BUY_FISH=1062,t.C_GET_MONEY_LOG_LIST=1063,t.S_GET_MONEY_LOG_LIST=1064,t.C_GET_DIAMOND_LOG_LIST=1065,t.S_GET_DIAMOND_LOG_LIST=1066,t.C_GET_OCT_MARKET_INFO=1101,t.S_GET_OCT_MARKET_INFO=1102,t.C_MARKET_BUY=1103,t.S_MARKET_BUY=1104,t.C_MARKET_SELL=1105,t.S_MARKET_SELL=1106,t.C_MARKET_CANCEL=1107,t.S_MARKET_CANCEL=1108,t.C_GET_OCT_BUYGOOD_LIST=1109,t.S_GET_OCT_BUYGOOD_LIST=1110,t.C_GET_MY_OCT_BUYGOOD_LIST=1111,t.S_GET_MY_OCT_BUYGOOD_LIST=1112,t.C_GET_MONEY_EXCHANGE_INFO=1201,t.S_GET_MONEY_EXCHANGE_INFO=1202,t.C_MONEY_EXCHANGE_KAD=1203,t.S_MONEY_EXCHANGE_KAD=1204,t.C_GET_BONUS_INFO=1205,t.S_GET_BONUS_INFO=1206,t.C_GET_INJECT_INFO=1207,t.S_GET_INJECT_INFO=1208,t.C_INJECT_KAD=1209,t.S_INJECT_KAD=1210,t.C_REAL_NAME_VERIFICATION=1221,t.S_REAL_NAME_VERIFICATION=1222,t.C_GET_MY_TEAM_INFO=1301,t.S_GET_MY_TEAM_INFO=1302,t.C_GET_MY_TEAM_LIST=1303,t.S_GET_MY_TEAM_LIST=1304,t.C_GET_MY_ADDRESS=1401,t.S_GET_MY_ADDRESS=1402,t.C_GET_EXTRACT_LIST=1403,t.S_GET_EXTRACT_LIST=1404,t.C_GET_RECHARGE_LIST=1405,t.S_GET_RECHARGE_LIST=1406,t.C_GET_CASH_OUT_ORDER=1501,t.S_GET_CASH_OUT_ORDER=1502,t.C_GET_FEED_COUNT=1503,t.S_GET_FEED_COUNT=1504,t.C_CASH_OUT_APPLY=1505,t.S_CASH_OUT_APPLY=1506,t.C_GET_SYS_CONFIG=1601,t.S_GET_SYS_CONFIG=1602,t.S_SYNC_SYS_CONFIG=1603,t.C_GET_DIRECT_RATE_CONFIG=1605,t.S_GET_DIRECT_RATE_CONFIG=1606,t.S_SYNC_DIRECT_RATE_CONFIG=1607,t.C_GET_FISH_CONFIG=1609,t.S_GET_FISH_CONFIG=1610,t.S_SYNC_FISH_CONFIG=1611,t.C_GET_INJECT_CYCLE_CONFIG=1613,t.S_GET_INJECT_CYCLE_CONFIG=1614,t.S_SYNC_INJECT_CYCLE_CONFIG=1615,t.C_GET_TEAM_RATE_CONFIG=1617,t.S_GET_TEAM_RATE_CONFIG=1618,t.S_SYNC_TEAM_RATE_CONFIG=1619,t.C_GET_TRADE_RATE_CONFIG=1621,t.S_GET_TRADE_RATE_CONFIG=1622,t.S_SYNC_TRADE_RATE_CONFIG=1623,t.C_GET_DEEP_FISH_CONFIG=1624,t.S_GET_DEEP_FISH_CONFIG=1625,t.S_SYNC_DEEP_FISH_CONFIG=1626,t.C_GET_OCEAN_DRAW_CONFIG=1627,t.S_GET_OCEAN_DRAW_CONFIG=1628,t.S_SYNC_OCEAN_DRAW_CONFIG=1629,t.S_SYN_PROPERTY=2001,t.C_SYNC_TIME=2101,t.S_SYNC_TIME=2102,t.C_DEBUG_COMMON=3101,t.S_DEBUG_COMMON=3102,t.C_GET_DOLPHIN_INFO=5001,t.S_GET_DOLPHIN_INFO=5002,t.C_BUY_DOLPHIN=5003,t.S_BUY_DOLPHIN=5004,t.C_QUICK_DOLPHIN=5005,t.S_QUICK_DOLPHIN=5006,t.C_HATCH_DOLPHIN=5007,t.S_HATCH_DOLPHIN=5008,t.C_FERTILIZE_DOLPHIN=5009,t.S_FERTILIZE_DOLPHIN=5010,t.C_GET_DOLPHIN_MONEY_LOG_LIST=5011,t.S_GET_DOLPHIN_MONEY_LOG_LIST=5012,t.C_GET_DOLPHIN_BUYCOUNT_LOG_LIST=5013,t.S_GET_DOLPHIN_BUYCOUNT_LOG_LIST=5014,t.C_EXCHANGE_DOLPHIN_MONEY=5015,t.S_EXCHANGE_DOLPHIN_MONEY=5016,t.C_GET_DOLPHIN_SPEEDCOUNT_LOG_LIST=5017,t.S_GET_DOLPHIN_SPEEDCOUNT_LOG_LIST=5018,t.C_GET_SIGN_IN_INFO=5019,t.S_GET_SIGN_IN_INFO=5020,t.C_GET_SIGN_IN_REWARD=5021,t.S_GET_SIGN_IN_REWARD=5022,t.C_GET_DOLPHIN_WAIT_LIST=5023,t.S_GET_DOLPHIN_WAIT_LIST=5024,t.S_SYNC_NEW_DOLPHIN=5030,t.C_GET_DEAP_ACTIVITY_INFO=5101,t.S_GET_DEAP_ACTIVITY_INFO=5102,t.C_GET_MY_DEAP_ACTIVITY_INFO=5103,t.S_GET_MY_DEAP_ACTIVITY_INFO=5104,t.C_BUY_DEAP_ACTIVITY_FISH=5105,t.S_BUY_DEAP_ACTIVITY_FISH=5106,t.C_GET_OCEAN_ACTIVITY_INFO=5201,t.S_GET_OCEAN_ACTIVITY_INFO=5202,t.C_GET_MY_OCEAN_ACTIVITY_INFO=5203,t.S_GET_MY_OCEAN_ACTIVITY_INFO=5204,t.C_OCEAN_ACTIVITY_DRAW=5205,t.S_OCEAN_ACTIVITY_DRAW=5206,t.C_GET_OCEAN_ACTIVITY_RANK=5207,t.S_GET_OCEAN_ACTIVITY_RANK=5208,t.C_GET_OCEAN_ACTIVITY_DRAW_LOG=5209,t.S_GET_OCEAN_ACTIVITY_DRAW_LOG=5210,t.CROSS_C_HEART_BEAT=100001,t.CROSS_S_HEART_BEAT=100002,t.CROSS_C_SERVER_REGISTER=100003,t.CROSS_S_SERVER_REGISTER=100004,t.CROSS_S_EXCEPTION_MSG=100005,t.CROSS_C_SERVER_PUSH=100006,t.CROSS_S_SERVER_PUSH=100007,t.CROSS_C_HTTP_DATA=100008,t}();e.MessageID=t,__reflect(t.prototype,"qmr.MessageID")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){this.msgIdMap={},this.msgIdMap[e.MessageID.S_EXCEPTION_MSG]=com.message.S_EXCEPTION_MSG,this.msgIdMap[e.MessageID.S_USER_LOGIN]=com.message.S_USER_LOGIN,this.msgIdMap[e.MessageID.S_USER_LOGIN_BAN]=com.message.S_USER_LOGIN_BAN,this.msgIdMap[e.MessageID.S_LOGIN_REGISTER]=com.message.S_LOGIN_REGISTER,this.msgIdMap[e.MessageID.S_USER_LOGOUT]=com.message.S_USER_LOGOUT,this.msgIdMap[e.MessageID.S_USER_LOGIN_INIT_FINISH]=com.message.S_USER_LOGIN_INIT_FINISH,this.msgIdMap[e.MessageID.S_MODIFY_PASSWORD]=com.message.S_MODIFY_PASSWORD,this.msgIdMap[e.MessageID.S_USE_KEY]=com.message.S_USE_KEY,this.msgIdMap[e.MessageID.S_GIVE_KEY]=com.message.S_GIVE_KEY,this.msgIdMap[e.MessageID.S_GET_KEY_LIST]=com.message.S_GET_KEY_LIST,this.msgIdMap[e.MessageID.S_SEND_VERIFY_CODE]=com.message.S_SEND_VERIFY_CODE,this.msgIdMap[e.MessageID.S_GET_FISH_INFO]=com.message.S_GET_FISH_INFO,this.msgIdMap[e.MessageID.S_BUY_FISH]=com.message.S_BUY_FISH,this.msgIdMap[e.MessageID.S_COMBINE_FISH]=com.message.S_COMBINE_FISH,this.msgIdMap[e.MessageID.S_GET_MONEY_REWARD]=com.message.S_GET_MONEY_REWARD,this.msgIdMap[e.MessageID.S_GET_MONEY_INFO]=com.message.S_GET_MONEY_INFO,this.msgIdMap[e.MessageID.S_DIAMOND_BUY_FISH]=com.message.S_DIAMOND_BUY_FISH,this.msgIdMap[e.MessageID.S_GET_MONEY_LOG_LIST]=com.message.S_GET_MONEY_LOG_LIST,this.msgIdMap[e.MessageID.S_GET_DIAMOND_LOG_LIST]=com.message.S_GET_DIAMOND_LOG_LIST,this.msgIdMap[e.MessageID.S_GET_OCT_MARKET_INFO]=com.message.S_GET_OCT_MARKET_INFO,this.msgIdMap[e.MessageID.S_MARKET_BUY]=com.message.S_MARKET_BUY,this.msgIdMap[e.MessageID.S_MARKET_SELL]=com.message.S_MARKET_SELL,this.msgIdMap[e.MessageID.S_MARKET_CANCEL]=com.message.S_MARKET_CANCEL,this.msgIdMap[e.MessageID.S_GET_OCT_BUYGOOD_LIST]=com.message.S_GET_OCT_BUYGOOD_LIST,this.msgIdMap[e.MessageID.S_GET_MY_OCT_BUYGOOD_LIST]=com.message.S_GET_MY_OCT_BUYGOOD_LIST,this.msgIdMap[e.MessageID.S_GET_MONEY_EXCHANGE_INFO]=com.message.S_GET_MONEY_EXCHANGE_INFO,this.msgIdMap[e.MessageID.S_MONEY_EXCHANGE_KAD]=com.message.S_MONEY_EXCHANGE_KAD,this.msgIdMap[e.MessageID.C_GET_BONUS_INFO]=com.message.C_GET_BONUS_INFO,this.msgIdMap[e.MessageID.S_GET_BONUS_INFO]=com.message.S_GET_BONUS_INFO,this.msgIdMap[e.MessageID.S_GET_INJECT_INFO]=com.message.S_GET_INJECT_INFO,this.msgIdMap[e.MessageID.S_INJECT_KAD]=com.message.S_INJECT_KAD,this.msgIdMap[e.MessageID.S_REAL_NAME_VERIFICATION]=com.message.S_REAL_NAME_VERIFICATION,this.msgIdMap[e.MessageID.S_GET_MY_TEAM_INFO]=com.message.S_GET_MY_TEAM_INFO,this.msgIdMap[e.MessageID.S_GET_MY_TEAM_LIST]=com.message.S_GET_MY_TEAM_LIST,this.msgIdMap[e.MessageID.S_GET_MY_ADDRESS]=com.message.S_GET_MY_ADDRESS,this.msgIdMap[e.MessageID.S_GET_EXTRACT_LIST]=com.message.S_GET_EXTRACT_LIST,this.msgIdMap[e.MessageID.S_GET_RECHARGE_LIST]=com.message.S_GET_RECHARGE_LIST,this.msgIdMap[e.MessageID.S_GET_CASH_OUT_ORDER]=com.message.S_GET_CASH_OUT_ORDER,this.msgIdMap[e.MessageID.S_GET_FEED_COUNT]=com.message.S_GET_FEED_COUNT,this.msgIdMap[e.MessageID.S_CASH_OUT_APPLY]=com.message.S_CASH_OUT_APPLY,this.msgIdMap[e.MessageID.C_GET_SYS_CONFIG]=com.message.C_GET_SYS_CONFIG,this.msgIdMap[e.MessageID.S_GET_SYS_CONFIG]=com.message.S_GET_SYS_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_SYS_CONFIG]=com.message.S_SYNC_SYS_CONFIG,this.msgIdMap[e.MessageID.S_GET_DIRECT_RATE_CONFIG]=com.message.S_GET_DIRECT_RATE_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_DIRECT_RATE_CONFIG]=com.message.S_SYNC_DIRECT_RATE_CONFIG,this.msgIdMap[e.MessageID.S_GET_FISH_CONFIG]=com.message.S_GET_FISH_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_FISH_CONFIG]=com.message.S_SYNC_FISH_CONFIG,this.msgIdMap[e.MessageID.S_GET_INJECT_CYCLE_CONFIG]=com.message.S_GET_INJECT_CYCLE_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_INJECT_CYCLE_CONFIG]=com.message.S_SYNC_INJECT_CYCLE_CONFIG,this.msgIdMap[e.MessageID.S_GET_TEAM_RATE_CONFIG]=com.message.S_GET_TEAM_RATE_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_TEAM_RATE_CONFIG]=com.message.S_SYNC_TEAM_RATE_CONFIG,this.msgIdMap[e.MessageID.S_GET_TRADE_RATE_CONFIG]=com.message.S_GET_TRADE_RATE_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_TRADE_RATE_CONFIG]=com.message.S_SYNC_TRADE_RATE_CONFIG,this.msgIdMap[e.MessageID.S_GET_DEEP_FISH_CONFIG]=com.message.S_GET_DEEP_FISH_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_DEEP_FISH_CONFIG]=com.message.S_SYNC_DEEP_FISH_CONFIG,this.msgIdMap[e.MessageID.S_GET_OCEAN_DRAW_CONFIG]=com.message.S_GET_OCEAN_DRAW_CONFIG,this.msgIdMap[e.MessageID.S_SYNC_OCEAN_DRAW_CONFIG]=com.message.S_SYNC_OCEAN_DRAW_CONFIG,this.msgIdMap[e.MessageID.S_SYN_PROPERTY]=com.message.S_SYN_PROPERTY,this.msgIdMap[e.MessageID.C_SYNC_TIME]=com.message.C_SYNC_TIME,this.msgIdMap[e.MessageID.S_SYNC_TIME]=com.message.S_SYNC_TIME,this.msgIdMap[e.MessageID.S_DEBUG_COMMON]=com.message.S_DEBUG_COMMON,this.msgIdMap[e.MessageID.S_GET_DOLPHIN_INFO]=com.message.S_GET_DOLPHIN_INFO,this.msgIdMap[e.MessageID.S_BUY_DOLPHIN]=com.message.S_BUY_DOLPHIN,this.msgIdMap[e.MessageID.S_QUICK_DOLPHIN]=com.message.S_QUICK_DOLPHIN,this.msgIdMap[e.MessageID.S_HATCH_DOLPHIN]=com.message.S_HATCH_DOLPHIN,this.msgIdMap[e.MessageID.S_FERTILIZE_DOLPHIN]=com.message.S_FERTILIZE_DOLPHIN,this.msgIdMap[e.MessageID.S_GET_DOLPHIN_MONEY_LOG_LIST]=com.message.S_GET_DOLPHIN_MONEY_LOG_LIST,this.msgIdMap[e.MessageID.S_GET_DOLPHIN_BUYCOUNT_LOG_LIST]=com.message.S_GET_DOLPHIN_BUYCOUNT_LOG_LIST,this.msgIdMap[e.MessageID.S_EXCHANGE_DOLPHIN_MONEY]=com.message.S_EXCHANGE_DOLPHIN_MONEY,this.msgIdMap[e.MessageID.S_GET_DOLPHIN_SPEEDCOUNT_LOG_LIST]=com.message.S_GET_DOLPHIN_SPEEDCOUNT_LOG_LIST,this.msgIdMap[e.MessageID.S_GET_SIGN_IN_INFO]=com.message.S_GET_SIGN_IN_INFO,this.msgIdMap[e.MessageID.S_GET_SIGN_IN_REWARD]=com.message.S_GET_SIGN_IN_REWARD,this.msgIdMap[e.MessageID.S_GET_DOLPHIN_WAIT_LIST]=com.message.S_GET_DOLPHIN_WAIT_LIST,this.msgIdMap[e.MessageID.S_SYNC_NEW_DOLPHIN]=com.message.S_SYNC_NEW_DOLPHIN,this.msgIdMap[e.MessageID.S_GET_DEAP_ACTIVITY_INFO]=com.message.S_GET_DEAP_ACTIVITY_INFO,this.msgIdMap[e.MessageID.S_GET_MY_DEAP_ACTIVITY_INFO]=com.message.S_GET_MY_DEAP_ACTIVITY_INFO,this.msgIdMap[e.MessageID.S_BUY_DEAP_ACTIVITY_FISH]=com.message.S_BUY_DEAP_ACTIVITY_FISH,this.msgIdMap[e.MessageID.S_GET_OCEAN_ACTIVITY_INFO]=com.message.S_GET_OCEAN_ACTIVITY_INFO,this.msgIdMap[e.MessageID.S_GET_MY_OCEAN_ACTIVITY_INFO]=com.message.S_GET_MY_OCEAN_ACTIVITY_INFO,this.msgIdMap[e.MessageID.S_OCEAN_ACTIVITY_DRAW]=com.message.S_OCEAN_ACTIVITY_DRAW,this.msgIdMap[e.MessageID.S_GET_OCEAN_ACTIVITY_RANK]=com.message.S_GET_OCEAN_ACTIVITY_RANK,this.msgIdMap[e.MessageID.S_GET_OCEAN_ACTIVITY_DRAW_LOG]=com.message.S_GET_OCEAN_ACTIVITY_DRAW_LOG,this.msgIdMap[e.MessageID.CROSS_C_HEART_BEAT]=com.message.CROSS_C_HEART_BEAT,this.msgIdMap[e.MessageID.CROSS_S_HEART_BEAT]=com.message.CROSS_S_HEART_BEAT,this.msgIdMap[e.MessageID.CROSS_C_SERVER_REGISTER]=com.message.CROSS_C_SERVER_REGISTER,this.msgIdMap[e.MessageID.CROSS_S_SERVER_REGISTER]=com.message.CROSS_S_SERVER_REGISTER,this.msgIdMap[e.MessageID.CROSS_S_EXCEPTION_MSG]=com.message.CROSS_S_EXCEPTION_MSG,this.msgIdMap[e.MessageID.CROSS_C_SERVER_PUSH]=com.message.CROSS_C_SERVER_PUSH,this.msgIdMap[e.MessageID.CROSS_S_SERVER_PUSH]=com.message.CROSS_S_SERVER_PUSH,this.msgIdMap[e.MessageID.CROSS_C_HTTP_DATA]=com.message.CROSS_C_HTTP_DATA}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t}();e.ProtoMsgIdMap=t,__reflect(t.prototype,"qmr.ProtoMsgIdMap")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.touchEnabled=e.touchChildren=!1,e.txt_hp=new eui.BitmapLabel,e.txt_hp.letterSpacing=-5,e.addChild(e.txt_hp),e}return __extends(i,t),i.prototype.flyUp=function(t,i,n,o,r,a){void 0===r&&(r=0),void 0===a&&(a="");var s=this,c=s.txt_hp;i.toString().length;c.text="",s.x=n,s.y=o+50,s.anchorOffsetX=s.txt_hp.width>>1,s.anchorOffsetY=s.txt_hp.height>>1,s.scaleX=s.scaleY=1;var l=s.x,f=s.y,h=Math.floor(40*Math.random());f-=h,egret.Tween.get(s).to({x:l,y:f-50,scaleX:2,scaleY:2},200).wait(50).to({scaleX:1,scaleY:1},200).wait(300).to({x:l,y:f-80,alpha:.7},300).to({x:l,y:f-120,alpha:0},300).call(function(){},s),e.SceneManager.instance.addToFront(s)},i}(egret.DisplayObjectContainer);e.FloatHpTxt=t,__reflect(t.prototype,"qmr.FloatHpTxt")}(qmr||(qmr={}));var qmr;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.iscompleted=!1,t.isSeted=!1,t.skinName="FloatImgLabelSkin",t}return __extends(t,e),t.prototype.initComponent=function(){e.prototype.initComponent.call(this),this.bit_label.font="recovery_fnt",this.iscompleted=!0,this.touchEnabled=!1,this.x=-64},t.prototype.initListener=function(){e.prototype.initListener.call(this)},t.prototype.initData=function(){e.prototype.initData.call(this),this.setTip()},t.prototype.showTip=function(e){this.data=e,this.iscompleted&&this.setTip()},t.prototype.setTip=function(){if(this.data&&!this.isSeted){this.isSeted=!0,this.alpha=1,this.img_icon.texture=RES.getRes(this.data.icon),this.bit_label.text="+"+this.data.count,this.x=-this.width/2;var e=this.y-60;egret.Tween.get(this).to({y:e},800).wait(50).to({y:e-30,alpha:0},400).call(this.dispose,this)}},t.prototype.dispose=function(){this.data=null,this.isSeted=!1,e.prototype.dispose.call(this),egret.Tween.removeTweens(this)},t}(e.UIComponent);e.FloatImgLabel=t,__reflect(t.prototype,"qmr.FloatImgLabel")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.createFloatHp=function(e,t,i,n,o,r,a){void 0===o&&(o=1),void 0===r&&(r=0),void 0===a&&(a="")},e}();e.FloatManager=t,__reflect(t.prototype,"qmr.FloatManager")}(qmr||(qmr={}));var qmr;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.iscompleted=!1,e.isSeted=!1,e.skinName="FloatTipSkin",e}return __extends(i,t),i.prototype.initComponent=function(){t.prototype.initComponent.call(this),this.iscompleted=!0,this.touchEnabled=this.touchChildren=!1},i.prototype.initListener=function(){t.prototype.initListener.call(this)},i.prototype.initData=function(){t.prototype.initData.call(this),this.setTip()},i.prototype.onStageResize=function(){t.prototype.onStageResize.call(this),this.width=e.StageUtil.stageWidth},i.prototype.showTip=function(e){this.data=e,this.iscompleted&&this.setTip()},i.prototype.setTip=function(){var t=this;if(t.data&&!t.isSeted){t.isSeted=!0,t.alpha=1,t.lbl_tips.textFlow=e.HtmlUtil.htmlParse.parser(t.data.mess),t.y=t.data.yPos?t.data.yPos:e.StageUtil.stageHeight/2-t.height/2;var i=t.y-60;t.data.itemcfg&&e.ImageUtil.setItemIcon(t.img_icon,t.data.itemcfg.icon,t.data.itemcfg.page),egret.Tween.get(t).to({y:i},800).wait(50).to({y:i-30,alpha:0},400).call(t.dispose,t)}},i.prototype.dispose=function(){this.data=null,this.isSeted=!1,this.lbl_tips.textFlow=[],this.img_icon.source=null,t.prototype.dispose.call(this),egret.Tween.removeTweens(this)},i}(e.UIComponent);e.FloatTip=t,__reflect(t.prototype,"qmr.FloatTip")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.show=function(){},e}();e.GameTip=t,__reflect(t.prototype,"qmr.GameTip")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.flyMoney=function(t,n){for(var o,r=e.LayerManager.instance.getLayer(e.LayerConst.TOOLBAR),a=6+5*Math.random(),s=[],c=0;a>c;c++){o="mainui_json.icon_gold1";var l=new eui.Image(o);l.x=t.x,l.y=t.y,l.name=e.MathUtil.distance(l,n)+"",l.scaleX=l.scaleY=.3,r.addChild(l),s[c]=l}if(s.sort(function(e,t){var i=parseFloat(e.name),n=parseFloat(t.name);return i==n?i-n:i-n}),e.SceneManager.instance.isInHangMap)for(var f=new egret.Point,h=function(t){var o=s[t];f.x=o.x+50*Math.random()*(Math.random()>.5?-1:1),f.y=o.y+50*Math.random()*(Math.random()>.5?-1:1);var r=new i;r.img=o,r.p0=f.clone(),r.p2=n,r.p1=f.clone(),r.p1.x=n.x+200,r.p1.y=n.y-50,egret.Tween.get(o).to({x:f.x,y:f.y,scaleX:1,scaleY:1},300,egret.Ease.quadIn).wait(400).call(function(){egret.Tween.get(r).to({factor:1},650+130*t).call(function(){e.DisplayUtils.removeDisplay(o)})})},c=0;a>c;c++)h(c)},t}();e.BesselImgUtil=t,__reflect(t.prototype,"qmr.BesselImgUtil");var i=function(){function e(){}return Object.defineProperty(e.prototype,"factor",{get:function(){return 0},set:function(e){var t=this,i=1-e,n=i*i;t.img.x=n*t.p0.x+2*e*i*t.p1.x+e*e*t.p2.x,t.img.y=n*t.p0.y+2*e*i*t.p1.y+e*e*t.p2.y,t.img.scaleY=t.img.scaleX=1-.4*e},enumerable:!0,configurable:!0}),e}();e.BezierFlyImg=i,__reflect(i.prototype,"qmr.BezierFlyImg")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.getColorByQuality=function(t){switch(t){case 1:return e.ColorQualityConst.COLOR_G;case 2:return e.ColorQualityConst.COLOR_GREEN;case 3:return e.ColorQualityConst.COLOR_BLUE;case 4:return e.ColorQualityConst.COLOR_VIOLET;case 5:return e.ColorQualityConst.COLOR_CADMIUM;case 6:return e.ColorQualityConst.COLOR_RED;case 7:return e.ColorQualityConst.COLOR_DIAMOND}return e.ColorQualityConst.COLOR_G},t.getColorBySubType=function(t){switch(t){case 2:return e.ColorQualityConst.COLOR_GREEN;case 3:return e.ColorQualityConst.COLOR_BLUE;case 4:return e.ColorQualityConst.COLOR_VIOLET;case 5:return e.ColorQualityConst.COLOR_CADMIUM;case 6:return e.ColorQualityConst.COLOR_RED}return e.ColorQualityConst.COLOR_G},t.getTipColorByType=function(e){switch(e){case 0:return 16711680;case 1:return 632328}return 16777215},t}();e.ColorUtil=t,__reflect(t.prototype,"qmr.ColorUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.removeAllChild=function(e){if(e)for(;e.numChildren;){e.removeChildAt(0)}},t.removeDisplay=function(e,t){void 0===t&&(t=null),e&&(t||(t=e.parent),t&&t.removeChild(e))},t.addDisplayToTop=function(e,t){void 0===t&&(t=null),e&&(t||(t=e.parent),t&&t.addChild(e))},t.removeClick=function(e){var t;for(var i in this.eventDic)if(t=this.eventDic[i],t.target==e){t.target.removeEventListener(t.type,t.callBack,t.thisObject),t.target.removeEventListener(t.type,t.callFunc,t.thisCall),delete this.eventDic[i];break}},t.removeAllEvent=function(e){var t=e.hashCode;delete this.eventDic[t+egret.TouchEvent.TOUCH_BEGIN],delete this.eventDic[t+egret.TouchEvent.TOUCH_END],delete this.eventDic[t+egret.TouchEvent.TOUCH_CANCEL],delete this.eventDic[t+egret.TouchEvent.TOUCH_RELEASE_OUTSIDE]},t.addClick=function(e,t,i,n){if(void 0===n&&(n=null),e){null==this.eventDic&&(this.eventDic={}),e instanceof eui.Group&&(e.touchChildren=!1);var o={};o.target=e,o.type=egret.TouchEvent.TOUCH_BEGIN,o.thisObject=i,o.callFunc=this.onTouchBegin,o.longPressCallBack=n,o.thisCall=this,e&&!this.eventDic[e.hashCode+o.type]&&(e.addEventListener(o.type,this.onTouchBegin,this),this.eventDic[e.hashCode+o.type]=o);var r={};r.target=e,r.type=egret.TouchEvent.TOUCH_END,r.callBack=t,r.thisObject=i,r.callFunc=this.onTouchEnd,r.thisCall=this,e&&!this.eventDic[e.hashCode+r.type]&&(e.addEventListener(r.type,this.onTouchEnd,this),this.eventDic[e.hashCode+r.type]=r);var a={};a.target=e,a.type=egret.TouchEvent.TOUCH_CANCEL,a.callBack=t,a.thisObject=i,a.callFunc=this.onTouchReleaseCancel,a.thisCall=this,e&&!this.eventDic[e.hashCode+a.type]&&(e.addEventListener(a.type,this.onTouchReleaseCancel,this),this.eventDic[e.hashCode+a.type]=a);var s={};s.target=e,s.type=egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,s.thisObject=i,s.callFunc=this.onTouchReleaseOutSide,s.thisCall=this,e&&!this.eventDic[e.hashCode+s.type]&&(e.addEventListener(s.type,this.onTouchReleaseOutSide,this),this.eventDic[e.hashCode+s.type]=s)}},t.onTouchBegin=function(t){this.touchBeginTaret&&this.touchBeginTaret==t.target||egret.getTimer()-this.lastTime<300||(this.touchBeginTaret=t.target,this.lastTime=egret.getTimer(),egret.Tween.get(t.target).to({scaleX:1.1,scaleY:1.1},50),e.Ticker.getInstance().registerTick(this.longPress,this,300))},t.onTouchEnd=function(t){var i=this,n=t.target;this.touchBeginTaret==n&&(this.touchBeginTaret=null,egret.Tween.get(n).to({scaleX:1,scaleY:1},50).call(function(){for(var e in i.eventDic){var t=i.eventDic[e];t.target==n&&t.type==egret.TouchEvent.TOUCH_END&&t.callBack.call(t.thisObject)}},this),e.Ticker.getInstance().unRegisterTick(this.longPress,this))},t.onTouchReleaseCancel=function(e){this.touchBeginTaret==e.currentTarget&&(this.touchBeginTaret&&egret.Tween.removeTweens(this.touchBeginTaret),this.touchBeginTaret=null,e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},t.onTouchReleaseOutSide=function(e){this.touchBeginTaret==e.target&&(this.touchBeginTaret&&egret.Tween.removeTweens(this.touchBeginTaret),this.touchBeginTaret=null,e.target.scaleX=1,e.target.scaleY=1)},t.longPress=function(){var e=this;for(var t in e.eventDic){var i=e.eventDic[t];i.target==this.touchBeginTaret&&i.longPressCallBack&&i.longPressCallBack.call(i.thisObject)}},t.setGlow=function(t,i){i?t.filters&&0!=t.filters.length||(t.filters=[e.FilterUtil.glowFilter]):t.filters=[]},t.setGrey=function(t,i,n){return void 0===n&&(n=!0),t instanceof eui.Button&&n?void(t.enabled=!i):void(i?(t.filters&&0!=t.filters.length||(t.filters=[e.FilterUtil.grayFilter]),n&&(t.touchEnabled=!1)):(t.filters=[],n&&(t.touchEnabled=!0)))},t.setBtnGray=function(e,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=1),i?n?(e.currentState="disabled",e.touchEnabled=!1):e.skinName=t.getBtnSkin(o,i):(n?e.currentState="up":e.skinName=t.getBtnSkin(o,i),e.touchEnabled=!0)},t.getBtnSkin=function(t,i){var n="ButtonYellowSkin";switch(t){case e.BtnSkinType.Type_1:n=i?"ButtonYellowDisabledSkin":"ButtonYellowSkin";break;case e.BtnSkinType.Type_2:n=i?"ButtonYellowDisabledSkin1":"ButtonYellowSkin1"}return n},t.setGreyGoup=function(e,t){var i=this;e.forEach(function(e){i.setGrey(e,t)})},t.setDisable=function(e,t){this.setGrey(e,t),e.touchEnabled=!t},t.LoadResByNameAndWH=function(e,t,i,n,o,r){return void 0===o&&(o=50),void 0===r&&(r=50),e.width=i,e.height=n,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=t.width/100*o,e.y=t.height/100*r,e},t.updateStar=function(e,t){for(var i,n=e.numChildren,o=0;n>o;o++)i=e.getChildAt(o),t>o?i.imgStar.visible=!0:i.imgStar.visible=!1},t.getGlobelPoint=function(e){return e.parent?e.parent.localToGlobal(e.x,e.y):null},t}();e.DisplayUtils=t,__reflect(t.prototype,"qmr.DisplayUtils")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.grayFilter=new egret.ColorMatrixFilter([.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0]),e.glowFilter=new egret.GlowFilter(16773632,.8,35,35,2,3,!1,!1),e}();e.FilterUtil=t,__reflect(t.prototype,"qmr.FilterUtil")}(qmr||(qmr={}));var GameUtil=function(){function e(){}return e.LoadDB=function(t,i,n,o,r,a){function s(e){if(t&&t.parent){var i=dragonBones.EgretFactory.factory,a=i.buildArmatureDisplay("armatureName",e,null,e);a&&(t.addChild(a),a.x=o,a.y=r,a.animation.play("newAnimation"),n&&n(a))}}void 0===o&&(o=0),void 0===r&&(r=0);var c=this,l=e.dbDic;l[i]&&(l[i]=void 0,delete l[i]);var f=new ResManager;f.loadDBData(i,s,c,i)},e.unLoadDB=function(e,t){e.animation.stop(),e.armature.dispose(),e.dispose(!0);var i=e.parent;i&&i.removeChild(e)},e.createCode=function(e){return qr.QRCode.create(e)},e.dbDic={},e}();__reflect(GameUtil.prototype,"GameUtil");var ImageButton=function(){function e(e){function t(){var t=e.texture;t&&(e.anchorOffsetX=t.textureWidth>>1,e.anchorOffsetY=t.textureHeight>>1,e.x+=e.anchorOffsetX*i._baseScaleX,e.y+=e.anchorOffsetY*i._baseScaleY)}var i=this;i._img=e,i._baseScaleX=e.scaleX,i._baseScaleY=e.scaleY,e.texture?t():e.once(egret.Event.COMPLETE,t,i),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i.onTouchBegin,i)}return e.prototype.onTouchBegin=function(){var e=this,t=e._img;if(t.touchEnabled){var i=.94;t.scaleX=i*e._baseScaleX,t.scaleY=i*e._baseScaleY,t.once(egret.TouchEvent.TOUCH_END,e.onTouchEnd,e)}},e.prototype.onTouchEnd=function(e){var t=this,i=t._img;i.touchEnabled&&(i.scaleX=t._baseScaleX,i.scaleY=t._baseScaleY,e.target!=i&&i.dispatchEventWith(egret.TouchEvent.TOUCH_TAP))},Object.defineProperty(e.prototype,"img",{get:function(){return this._img},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._img?this.img.touchEnabled:!1},set:function(e){var t=this;t.$setEnable(e)},enumerable:!0,configurable:!0}),e.prototype.$setEnable=function(e){var t=this;e!=t._img.touchEnabled&&(t._img.touchEnabled=e)},e}();__reflect(ImageButton.prototype,"ImageButton");var qmr;!function(e){var t=function(){function e(){}return e.getQueryString=function(){for(var e=location.search.match(new RegExp("[?&][^?&]+=[^?&]+","g")),t=0;t<e.length;t++)e[t]=e[t].substring(1);return e},e.getQueryStringByName=function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==t||t.length<1?"":t[1]},e.getQueryStringByIndex=function(t){if(null==t)return"";var i=e.getQueryString();if(t>=i.length)return"";var n=i[t],o=n.indexOf("=")+1;return n=n.substring(o)},e.getValueFromParams=function(e,t){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");if(t){var n=t.match(i);if(n)return decodeURIComponent(n[2])}return null},e}();e.JsUtil=t,__reflect(t.prototype,"qmr.JsUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}();e.LabelTip=t,__reflect(t.prototype,"qmr.LabelTip")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.setLabelText=function(t,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=e.ConfigManagerAft.getCNValue(i);n&&n.length>0&&(n.unshift(r),r=e.StringUtils.getmsg.apply(e.StringUtils,n)),t.textFlow=e.HtmlUtil.htmlParse.parser(r)},t.getCNMessage=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=e.ConfigManagerAft.getCNValue(t);return i&&i.length>0&&(i.unshift(o),o=e.StringUtils.getmsg.apply(e.StringUtils,i)),o},t.setLabel=function(t,i,n){if(void 0===n&&(n=!1),i){i=e.StringUtils.getSectionMsg(i);var o=e.HtmlUtil.htmlParse.parser(i);if(n)for(var r=o.length,a=0;r>a;a++){var s=o[a];s.style?s.style.textColor=7891039:s.style={textColor:7891039}}t.textFlow=o}else t.text=""},t.setLabelCount=function(t,i,n,o){void 0===o&&(o=!1);var r=n>0?e.ColorQualityConst.COLOR_GREEN:e.ColorQualityConst.COLOR_RED,a="<font color='"+r+"'>"+n+"</font>";t.textFlow=e.HtmlUtil.htmlParse.parser(o?a+i:i+a)},t.setLabelCount2=function(t,i,n,o){void 0===o&&(o=!1);var r=n>0?e.ColorQualityConst.COLOR_RED:e.ColorQualityConst.COLOR_GREEN,a="<font color='"+r+"'>"+n+"</font>";t.textFlow=e.HtmlUtil.htmlParse.parser(o?a+i:i+a)},t.addLabelEvent=function(t,i,n,o){void 0===o&&(o="");for(var r=[],a=4;a<arguments.length;a++)r[a-4]=arguments[a];var s="";if(void 0==r||0==r.length){var c="<u>"+t.text+"</u>";r=[t.hashCode,c]}""==o&&(o="CN_119"),s=e.ConfigManagerAft.getCNValue(o),r&&r.length>0&&(r.unshift(s),s=e.StringUtils.getmsg.apply(e.StringUtils,r)),t.textFlow=e.HtmlUtil.htmlParse.parser(s),t.hasEventListener(egret.TextEvent.LINK)||i&&t.addEventListener(egret.TextEvent.LINK,i,n)},t.removeLabelEvent=function(e,t,i){e&&(e.name="",e.removeEventListener(egret.TextEvent.LINK,t,i))},t.addInputListener=function(e,i){e.addEventListener(egret.FocusEvent.FOCUS_IN,t.focusInTxtHandler,i),e.addEventListener(egret.FocusEvent.FOCUS_OUT,t.focusInTxtHandler,i)},t.focusInTxtHandler=function(){var e=function(){document&&document.body&&setTimeout(function(){window.scrollTo&&window.scrollTo(0,150)},200)};e()},t}();e.LabelUtil=t,__reflect(t.prototype,"qmr.LabelUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){this.nodeLen=0}return e.prototype.append=function(e){var t,n=new i(e);if(this._head){for(t=this._head;t.next;)t=t.next;t.next=n}else this._head=n;this.nodeLen+=1},e.prototype.indexOf=function(e){if(!this._head)return-1;for(var t=-1,i=this._head;i;){if(t+=1,i.current===e)return t;i=i.next}return-1},e.prototype.removeAt=function(e){if(this._head&&e>-1&&e<this.size){if(0==e)this._head=this._head.next;else{var t=this.getNodeAt(e),i=this.getNodeAt(e-1);t&&i&&(i.next=t.next)}this.nodeLen-=1}},e.prototype.getNodeAt=function(e){if(!this._head)return null;for(var t=this._head,i=-1;t;){if(i+=1,i===e)return t;t=t.next}return null},Object.defineProperty(e.prototype,"head",{get:function(){return this._head},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.nodeLen},enumerable:!0,configurable:!0}),e}();e.LinkedList=t,__reflect(t.prototype,"qmr.LinkedList");var i=function(){function e(e){this.current=e}return e}();e.LinkNode=i,__reflect(i.prototype,"qmr.LinkNode")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.manhattan=function(e,t,i,n){return 100*((e>i?e-i:i-e)+(t>n?t-n:n-t))},t.distance=function(e,t){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0},t.getAngle=function(e,t){var i=t.x-e.x,n=t.y-e.y;return 180*Math.atan2(n,i)/Math.PI},t.equal=function(e,t){if(e&&t)if(e.high&&t.high){if(e.high==t.high&&e.low==t.low)return!0}else if(1e3*e/1e3==1e3*t/1e3)return!0;return!1},t.randomCount=function(e,t){return e+Math.round(Math.random()*(t-e))},t.dir=function(t,i){return i?Math.abs(i.y-t.y)<10?i.x>t.x?e.DirUtil.RIGHT:e.DirUtil.LEFT:i.y<t.y?Math.abs(i.x-t.x)<10?e.DirUtil.UP:i.x>t.x?e.DirUtil.RIGHT_UP:e.DirUtil.LEFT_UP:Math.abs(i.x-t.x)<10?e.DirUtil.DOWN:i.x>t.x?e.DirUtil.RIGHT_DOWN:e.DirUtil.LEFT_DOWN:1},t.getRodomPos=function(e){var t=[[1040,1122],[997,1283],[870,1033],[1124,969],[1216,1407]],i=[[1470,1260],[1394,1068],[1432,1241],[1537,1035],[1473,1308]],n=1==e?t:i,o=Math.round(Math.random()*(n.length-1));
return{x:n[o][0],y:n[o][1]}},t.getGaussianPoint=function(e,t){var i=new egret.Point;return i.x=Math.random()*(e/2)+Math.random()*(e/2),i.y=Math.random()*(t/2)+Math.random()*(t/2),i},t}();e.MathUtil=t,__reflect(t.prototype,"qmr.MathUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.getFloat4Number=function(e){var t=/([0-9]+\.[0-9]{4})[0-9]*/,i=e.toString();return Number(i.replace(t,"$1"))},t.getFloat6Number2String=function(e){if(e>t.TEN_THOUSAND)return t.numberFormat(e);var i=e.toFixed(6);return Number(i)+""},t.getFloat4Number2String=function(e){if(e>t.TEN_THOUSAND)return t.numberFormat(e);var i=e.toFixed(4);return Number(i)+""},t.getTelNumberShow=function(t){if(!e.RegexpUtil.isPhoneNumber(t))return"159****2233";var i=new RegExp(/^(\d{3})\d{4}(\d{4})$/),n=t.toString();return n=n.replace(i,"$1****$2")},t.getPersonNameShow=function(e){var t=/^./;return e=e.replace(t,"*")},t.numberFormat=function(e){return void 0==e?"0":1e4>e?e+"":1e5>e?(e/=1e4,e=Math.floor(100*e)/100,e+"万"):1e6>e?(e/=1e4,e=Math.floor(10*e)/10,e+"万"):1e8>e?(e=Math.floor(e/1e4),e+"万"):1e8>e?(e/=1e8,e=Math.floor(100*e)/100,e+"亿"):1e12>e?(e/=1e8,e=Math.floor(10*e)/10,e+"亿"):1e15>e?(e/=1e12,e=Math.floor(100*e)/100,e+"万亿"):void 0},t.TEN_THOUSAND=1e4,t}();e.NumberUtil=t,__reflect(t.prototype,"qmr.NumberUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.isPhoneNumber=function(e){if(!e)return!1;if(t.IsInteger(e+""))return 11==String(e).length},t.isIdentifyId=function(e){var t=new RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/);return t.test(e)},t.IsNull=function(t){var i=t.trim();return 0==i.length?(e.TipManagerCommon.getInstance().showLanTip("CN_247"),!0):!1},t.IsTime=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^((20|21|22|23|[0-1]\d):[0-5][0-9])(:[0-5][0-9])?$/);if(!n.test(i))return e.TipManagerCommon.getInstance().showLanTip("CN_248"),!1}return!0},t.IsLetter=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^[a-zA-Z]+$/);if(!n.test(i))return e.TipManagerCommon.getInstance().showLanTip("CN_249"),!1}return!0},t.IsInteger=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^[-+]?\d*$/);if(!n.test(i))return e.TipManagerCommon.getInstance().showLanTip("CN_250"),!1}return!0},t.IsDouble=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^[-+]?\d+(.\d+)?$/);if(!n.test(i))return e.TipManagerCommon.getInstance().showLanTip("CN_251"),!1}return!0},t.IsString=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^[a-zA-Z0-9_]+$/);if(!n.test(i))return e.TipManagerCommon.getInstance().showLanTip("CN_252"),!1}return!0},t.IsChinese=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^[\u0391-\uFFE5]+$/);n.test(i)||e.TipManagerCommon.getInstance().showLanTip("CN_252")}},t.IsEmail=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^\w+([-+.]\w+)@\w+([-.]\w+).\w+([-.]\w+)*$/);n.test(i)||e.TipManagerCommon.getInstance().showLanTip("CN_252")}},t.IsZIP=function(t){var i=t.trim();if(0!=i.length){var n=new RegExp(/^\d{6}$/);n.test(i)||e.TipManagerCommon.getInstance().showLanTip("CN_252")}},t.MaxValue=function(t,i){var n=t.trim();if(0!=t.length){var o=new RegExp(/^[-+]?\d*$/);o.test(t)||n>parseInt(i)&&e.TipManagerCommon.getInstance().showLanTip("CN_253")}},t}();e.RegexpUtil=t,__reflect(t.prototype,"qmr.RegexpUtil")}(qmr||(qmr={}));var ResManager=function(){function e(){}return e.prototype.destroyDBRes=function(e){var t=this,i=t.getRoleSkePath(e),n=t.getRoleSkeTexPath(e),o=t.getRoleSkePNGPath(e);RES.destroyRes(i),RES.destroyRes(n),RES.destroyRes(o);var r=dragonBones.EgretFactory.factory;r.removeDragonBonesData(e),r.removeTextureAtlasData(e)},e.prototype.loadDBData=function(e,t,i,n){var o=this,r=o.getRoleSkePath(e),a=o.getRoleSkeTexPath(e),s=o.getRoleSkePNGPath(e),c=dragonBones.EgretFactory.factory,l=0,f=function(){var e=RES.getRes(r),o=RES.getRes(a),c=RES.getRes(s);l>=3&&e&&o&&c&&t&&t.call(i,n)};if(RES.getRes(r)?l++:ResUtils.getResByUrl(r,function(t,i){c.parseDragonBonesData(t,e),l++,f()},o,RES.ResourceItem.TYPE_JSON),RES.getRes(a)&&RES.getRes(s))l+=2;else{var h=null,u=null,p=function(){null!=h&&null!=u&&(c.parseTextureAtlasData(h,u,e),l+=2,f())};ResUtils.getResByUrl(a,function(e,t){h=e,p()},o,RES.ResourceItem.TYPE_JSON),ResUtils.getResByUrl(s,function(e,t){u=e,p()},o,RES.ResourceItem.TYPE_IMAGE)}f()},e.prototype.getPath=function(e,t,i){return void 0===i&&(i="png"),"resource-Remote/resource/"+t+"/"+e+"."+i},e.prototype.getConfigPath=function(){return this.getPath("config","config","bin")},e.prototype.getPreLoadPath=function(){return this.getPath("preload","preload","json")},e.prototype.getFightConfigPath=function(){return this.getPath("skill/fight","ani","bin")},e.prototype.getMapPath=function(e){return this.getPath(e,"map","jpg")},e.prototype.getCinematicsPath=function(){return this.getPath("cinematics/0","ani")},e.prototype.getAniJsonPath=function(e){return this.getPath(e,"ani","json")},e.prototype.getAniPngPath=function(e){return this.getPath(e,"ani")},e.prototype.getSoundPath=function(e){return this.getPath(e,"sound","mp3")},e.prototype.getItemPath=function(e){return this.getPath(e+"","item")},e.prototype.getXingtuPath=function(e){return this.getPath(e+"","xingtu")},e.prototype.getFiveSelectPath=function(e){return this.getPath(e+"","fiveselect")},e.prototype.getAchievePath=function(e){return this.getPath(e+"","achieve")},e.prototype.getElementPath=function(e){return this.getPath(e+"","element")},e.prototype.getItemSignPath=function(e){return this.getPath(e+"","itemsign")},e.prototype.getBoxPath=function(e){return this.getPath(e+"","box")},e.prototype.getSkillPath=function(e){return this.getPath(e,"skill")},e.prototype.getSkillRPath=function(e){return this.getPath(e,"skillr")},e.prototype.getPartnerTransferPath=function(e){return this.getPath(e,"partner/transfer")},e.prototype.getTitlePath=function(e){return this.getPath(e,"title")},e.prototype.getXingpoPath=function(e){return this.getPath(e,"xingpo")},e.prototype.getDivinePath=function(e){return this.getPath(e+"","divine")},e.prototype.getSkillWordItemPath=function(e){return this.getPath(e,"actor/skill/nameImg")},e.prototype.getUniquePath=function(e){return this.getPath(e,"actor/skill/unique")},e.prototype.getSynergiaPath=function(e){return this.getPath(e,"actor/skill/synergia")},e.prototype.getActorItemPath=function(e){return this.getPath(e,"actor")},e.prototype.getFairyPath=function(e){return this.getPath(e,"fairy")},e.prototype.getHeadPath=function(e){return this.getPath(e+"","head")},e.prototype.getNewCopyPath=function(e){return this.getPath(e,"guaitan")},e.prototype.getCopyIcon=function(e){return this.getPath(e,"copy")},e.prototype.getMainIconPath=function(e){return this.getPath(e+"","mainicon")},e.prototype.getAdventbossPath=function(e){return this.getPath(e+"","adventureboss")},e.prototype.getglobalfactionbossPath=function(e){return this.getPath(e+"","globalfactionboss")},e.prototype.getRoleSkePath=function(e){return this.getPath(e+"_ske","roleske","json")},e.prototype.getRoleSkeTexPath=function(e){return this.getPath(e+"_tex","roleske","json")},e.prototype.getRoleSkePNGPath=function(e){return this.getPath(e+"_tex","roleske")},e.prototype.getRoleImgPath=function(e){return this.getPath(e+"_img","roleske")},e.prototype.getFullpicPath=function(e){return this.getPath(e,"fullpic")},e.prototype.getOpenFunPath=function(e){return this.getPath(e,"funopen")},e.prototype.getOpenFunBgPath=function(e){return this.getPath(e,"funopen/bg","jpg")},e.prototype.getWingRes=function(e){return this.getPath(e,"wing")},e.prototype.getRecommendRes=function(e){return this.getPath(e,"recommend")},e.prototype.getLimitzhRes=function(e){return this.getPath(e,"limitzh")},e.prototype.getLimitzhDescRes=function(e){return this.getPath(e,"limitzh")},e.prototype.getLimitzhBgRes=function(e){return this.getPath(e,"limitzh","jpg")},e.prototype.getActivityRes=function(e){return this.getPath(e,"activityhall")},e.prototype.getUnderGoRes=function(e){return this.getPath(e,"undergo")},e.prototype.getRealmItemPath=function(e){return this.getPath(e,"undergo/realm")},e.prototype.getWorldCity=function(e){return this.getPath(e,"worldcity")},e.prototype.getEyeRes=function(e){return this.getPath(e,"eye")},e.prototype.getEyeCard=function(e){return this.getPath(e,"eyecard")},e.prototype.getAnimalRes=function(e){return this.getPath(e,"animal")},e.prototype.getAnimalRes2=function(e){return this.getPath(e,"animal","jpg")},e.prototype.getFormation=function(e){return this.getPath(e,"formation")},e.prototype.getMaterial=function(e){return this.getPath(e,"material")},e.prototype.getJlxd=function(e){return this.getPath(e,"jlxd")},e.prototype.getFashionIcon=function(e){return this.getPath(e,"fashionIcon")},e.prototype.getZs=function(e){return this.getPath(e,"zhuansheng")},e.prototype.getLadder=function(e){return this.getPath(e,"ladder")},e.prototype.getFreepurchaing=function(e){return this.getPath(e,"freepurchaing")},e.prototype.getMonthCardPath=function(e){return this.getPath(e,"monthcard")},e.prototype.getLuckyshopPath=function(e){return this.getPath(e,"luckyshop")},e.prototype.getRechargePath=function(e){return this.getPath(e+"","recharge")},e.prototype.getBossNamePath=function(e){return this.getPath(e+"","bossname")},e.prototype.getSportsPath=function(e){return this.getPath(e+"","sports")},e.prototype.getSevendayPath=function(e){return this.getPath(e+"","sevenday")},e.prototype.getRechargeTitlePath=function(e){return this.getPath("title"+e,"activity/rechargebonus/title")},e.prototype.getRechargeSloganPath=function(e){return this.getPath("slogan"+e,"activity/rechargebonus/slogan")},e.prototype.getRechargeBonusPath=function(e){return this.getPath("bonus"+e,"activity/rechargebonus/bonus")},e.prototype.getTotemPath=function(e){return this.getPath(e,"activity/totem")},e.prototype.getXsphPath=function(e){return this.getPath(e,"activity/limitrank","jpg")},e.prototype.getActTabPath=function(e){return this.getPath(e,"activity/tab")},e.prototype.getGroupTaskNamePath=function(e){return this.getPath(e,"grouptask")},e.prototype.getLuckyRechargePath=function(e){return this.getPath(e,"luckyrecharge")},e.prototype.getHomeJpgRes=function(e){return this.getPath(e,"home","jpg")},e.prototype.getHomePngRes=function(e){return this.getPath(e,"home","png")},e.prototype.getOpenServerTitlePath=function(e){return this.getPath(e,"openserver")},e.prototype.getChargeMorePath=function(e){return this.getPath(e,"chargemore")},e.prototype.getVipDoublePath=function(e){return this.getPath(e,"vipdouble")},e.prototype.getChiPengHongLianPath=function(e){return this.getPath(e,"chipenghonglian")},e.prototype.getMainFacePath=function(e){return this.getPath(e,"mainface")},e.prototype.getLimitTimeDiscountTitlePath=function(e,t){return this.getPath("title"+e+(t?"g":""),"activity/limittimediscount3w/title")},e.prototype.getLimitTimeDiscountBonusPath=function(e,t){return this.getPath("bonus"+e+(t?"g":""),"activity/limittimediscount3w/bonus")},e.prototype.getMiWenHuiJuanRole=function(e){return this.getPath("headpic"+e,"activity/miwenhuijuan/actors")},e.prototype.getNoticePath=function(){return this.getPath("noticeUpdateSetting","notice","json")},Object.defineProperty(e.prototype,"fightBuffUrl",{get:function(){return"res/actor/fight_buff"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fightTitleUrl",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectUrl",{get:function(){return"res/connect/connect"},enumerable:!0,configurable:!0}),e}();__reflect(ResManager.prototype,"ResManager");var qmr;!function(e){var t=function(){function t(){}return t.getHeadUrl=function(t){return e.SystemPathAft.headPath+t+".png"},t.getBgUrl=function(t){return e.SystemPathAft.bgPath+t+".png"},t.getMapUrl=function(t){return e.SystemPathAft.mapPath+t},t}();e.ResPathUtilAft=t,__reflect(t.prototype,"qmr.ResPathUtilAft")}(qmr||(qmr={}));var ResUtils=function(){function e(){}return e.getResByUrl=function(t,i,n,o,r,a){var s=this;void 0===a&&(a=0);var c=e;return c._currentLoadingCount>=c._maxLoadingCount?(c._resList.push({url:t,priority:a,compFunc:i,thisObject:n,type:o,errorFun:r}),void c._resList.sort(function(e,t){return t.priority-e.priority})):(c._currentLoadingCount++,void RES.getResByUrl(t,function(e){c._currentLoadingCount--,i&&i.call(n,e,t),c.loadNextUrl()},this,o)["catch"](function(e){r&&r.call(n,t),c._currentLoadingCount--,c.loadNextUrl(),egret.error("资源加载出错："+t,s,7)}))},e.loadNextUrl=function(){var t=e;if(t._resList.length>0){var i=t._resList.shift();t.getResByUrl(i.url,i.compFunc,i.thisObject,i.type,i.errorFun,i.priority)}},e.loadGroup=function(e,t,i,n,o){var r=this;RES.loadGroup(e,n,o).then(function(){t&&t.call(i)})["catch"](function(a){null==r._resGroupErrorHash[e]&&(r._resGroupErrorHash[e]=e,egret.error("资源组加载出错!"+e,r,7)),setTimeout(function(){r.loadGroup(e,t,i,n,o)},r,1e3)})},e.loadConfig=function(e,t,i,n){var o=this;RES.loadConfig(e,t).then(function(){i&&i.call(n)})["catch"](function(r){null==o._resConfigErrorHash[e]&&(o._resConfigErrorHash[e]=e,egret.error("资源组加载出错!"+e+","+t,o,7)),setTimeout(function(){o.loadConfig(e,t,i,n)},o,1e3)})},e._currentLoadingCount=0,e._maxLoadingCount=5,e._resList=[],e._resGroupErrorHash={},e._resConfigErrorHash={},e}();__reflect(ResUtils.prototype,"ResUtils");var qmr;!function(e){var t=function(){function t(){this.sVariantType=0;var t=egret.localStorage.getItem(e.PlatformConfig.channelId+"zgmrsetting"+e.GlobalConfig.userId);t&&"undefined"!=t&&(this.sVariantType=parseInt(t))}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.getForbidState=function(t){return e.BitUtil.checkAvalibe(this.sVariantType,t)},t.prototype.setForbidState=function(t,i){this.sVariantType=e.BitUtil.changeBit(this.sVariantType,t,i),egret.localStorage.setItem(e.PlatformConfig.channelId+"zgmrsetting"+e.GlobalConfig.userId,this.sVariantType+"")},t}();e.SettingUtil=t,__reflect(t.prototype,"qmr.SettingUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.getmsg=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.shift();for(var n in e){var o=e[n];i=i.replace(/\{\d+\}/,o)}return i},t.getmsg2=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];e=e.replace(/\{\d+\}/,n)}return e},t.getCharLength=function(e){for(var t=0,i=e.length,n=-1,o=0;i>o;o++)n=e.charCodeAt(o),t+=n>=0&&128>=n?1:2;return t},t.getChineseNumber=function(e,i){void 0===i&&(i=!1);var n="";if(0==e)return i?"零":n;var o=e+"";if(e>100){n+=t.getChineseNumber(parseInt(o.charAt(0))),n+="百";var r=parseInt(o.charAt(1));return r>0?(n+=t.getChineseNumber(r),n+="十"):n+="零",n+=t.getChineseNumber(parseInt(o.charAt(2)))}if(100==e)return n+=t.getChineseNumber(parseInt(o.charAt(0))),n+="百";if(e>19)return n+=t.getChineseNumber(parseInt(o.charAt(0))),n+="十",n+=t.getChineseNumber(parseInt(o.charAt(1)));if(e>10)return n+="十",n+=t.getChineseNumber(parseInt(o.charAt(1)));switch(e){case 1:n="一";break;case 2:n="二";break;case 3:n="三";break;case 4:n="四";break;case 5:n="五";break;case 6:n="六";break;case 7:n="七";break;case 8:n="八";break;case 9:n="九";break;case 10:n="十"}return n},t.getStepStr=function(e){return t.getLevelStr(e)+"j"},t.getFightToWanStr=function(e){return e/=1e4,e=Math.floor(100*e)/100,e.toString()},t.getLevelStr=function(e){var t;return t=""+e,0==e?t="z":10==e?t="0":e>10&&20>e?t="0"+(e-10):e>20&&e%10!=0&&(t=t.slice(0,1)+"0"+t.slice(1)),t},t.getRedOrGreenNum=function(t,i){var n=i?e.ColorQualityConst.COLOR_RED:e.ColorQualityConst.COLOR_GREEN,o=e.HtmlUtil.getHtmlTexts([[n,""+t]]);return o},t.getSectionMsg=function(e){return e.replace(/\\n/g,"\n")},t.padLeft=function(e,t){if("number"==typeof t)return Array(t+1).join(" ")+e;if("string"==typeof t)return t+e;throw new Error("Expected string or number, got '"+t+"'.")},t.copyClipBoard=function(i){window.wx?window.wx.setClipboardData({data:i,success:function(e){window.wx.getClipboardData({success:function(e){}})}}):window.qq?window.qq.setClipboardData({data:i,success:function(t){window.qq.getClipboardData({success:function(t){e.TipManagerCommon.getInstance().showLanTip("CN_254")}})}}):window.qg?window.qg.setClipboardData({data:i,success:function(t){e.TipManagerCommon.getInstance().showLanTip("CN_254")}}):e.StageUtil.isPC()?t.copyText(i):"ios"==e.WebBrowerUtil.OS.toLocaleLowerCase()?t.jsCopy(i):t.copyText(i)},t.copyText=function(t){var i=document.createElement("input");i.value=t,document.body.appendChild(i),i.select(),i.setSelectionRange(0,i.value.length),document.execCommand("Copy"),document.body.removeChild(i),e.TipManagerCommon.getInstance().showLanTip("CN_254")},t.jsCopy=function(i){var n=navigator.userAgent;if(n.match(/(iPhone|iPod|iPad);?/i)){var o=document.createElement("input");o.id="copy-input",o.readOnly=!0,o.setAttribute("readOnly","readOnly"),o.style.position="absolute",o.style.left="-1000px",o.style.zIndex="-1000",document.body.appendChild(o),o.value=i,t.selectText(o,0,i.length);var r=document.execCommand("copy");r?e.TipManagerCommon.getInstance().showLanTip("CN_254"):e.TipManagerCommon.getInstance().showLanTip("CN_255"),window.getSelection().removeAllRanges()}},t.selectText=function(e,t,i){if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",i-t),n.select()}else e.select(),e.setSelectionRange(t,i),e.focus()},t}();e.StringUtils=t,__reflect(t.prototype,"qmr.StringUtils")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function e(){}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.strlen=function(e){for(var t=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);n>=1&&126>=n||n>=65376&&65439>=n?t++:t+=2}return t},e.prototype.fixTextBox=function(e,t){if(t.textWidth>e){var i=e/t.textWidth;return t.width=Math.ceil(t.textWidth),t.scaleX=i,!0}return!1},e}();e.TextFixWidthUtil=t,__reflect(t.prototype,"qmr.TextFixWidthUtil")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(e,t,i){void 0===e&&(e=null),void 0===t&&(t=null),this.label=e,this.des=t,this.thisObj=i}return t.prototype.setDes=function(e){this.des=e},t.prototype.startTick=function(t,i){void 0===i&&(i=1e3),this.runing=!0,this.count=t,e.Ticker.getInstance().registerTick(this.tick,this,i),this.showMsg()},t.prototype.tick=function(){return this.count--<1?(this.stopTick(),void(this.backFun&&this.backFun.call(this.thisObj))):(this.updateFun&&this.updateFun.call(this.thisObj),void this.showMsg())},t.prototype.showMsg=function(){this.label&&this.des&&(this.label.text=e.CommonTool.getMsg(this.des,this.count)),this.btn&&this.des&&(this.btn.label=e.CommonTool.getMsg(this.des,this.count))},t.prototype.stopTick=function(){this.runing&&(this.runing=!1,e.Ticker.getInstance().unRegisterTick(this.tick,this))},t}();e.TickTool=t,__reflect(t.prototype,"qmr.TickTool")}(qmr||(qmr={}));var qmr;!function(e){var t=function(){function t(){}return t.getTimeBySecond=function(e){var t="";return e>=60&&(t=this.dateStringFillZero(Math.floor(e/60))+":"),t+=this.dateStringFillZero(Math.floor(e%60))},t.getDateByTimer=function(e){t.date||(t.date=new Date),t.date.setTime(e);var i=t.date.getFullYear(),n=t.date.getMonth()+1,o=t.date.getDate(),r=t.date.getHours(),a=t.date.getMinutes(),s=t.date.getSeconds(),c=10>n?"0"+n:n.toString(),l=10>o?"0"+o:o.toString(),f=10>r?"0"+r:r.toString(),h=10>a?"0"+a:a.toString(),u=10>s?"0"+s:s.toString();return i+"-"+c+"-"+l+" "+f+":"+h+":"+u},t.getDateByTimerSecond=function(e){return t.getDateByTimer(1e3*e)},t.getDayOverTime=function(){var t=e.ServerTime.getSeverDate(),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);return(i.getTime()-t.getTime())/1e3},t.getDayTime=function(){var t=e.ServerTime.getSeverDate(),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return(t.getTime()-i.getTime())/1e3},t.getTimeToNow=function(e){var t=new Date(e),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return(t.getTime()-i.getTime())/1e3},t.formatDate=function(e){var t=e.getHours(),i=e.getMinutes(),n=e.getMilliseconds(),o=10>t?"0"+t:t.toString(),r=10>i?"0"+i:i.toString(),a=10>n?"0"+n:n.toString();return o+":"+r+":"+a},t.formatTime=function(e){var t=Math.floor(e/60/60)%24,i=Math.floor(e/60)%60,n=Math.floor(e%60),o=10>t?"0"+t:t.toString(),r=10>i?"0"+i:i.toString(),a=10>n?"0"+n:n.toString();return o+":"+r+":"+a},t.formatTime1=function(e){var t=Math.floor(e/60/60),i=Math.floor(e/60)%60,n=Math.floor(e%60),o=10>t?"0"+t:t.toString(),r=10>i?"0"+i:i.toString(),a=10>n?"0"+n:n.toString();return o+":"+r+":"+a},t.formatTime4=function(e){var t=Math.floor(e/60/60)%24,i=Math.floor(e/60)%60,n=10>t?""+t:t.toString(),o=10>i?""+i:i.toString();return n+this.CN_HOUR+o+this.CN_MIN},t.formatTime5=function(e){var t=Math.floor(e/60/60)%24,i=Math.floor(e/60)%60,n=Math.floor(e%60),o=10>t?"0"+t:t.toString(),r=10>i?"0"+i:i.toString(),a=10>n?"0"+n:n.toString();return t>0?o+this.CN_HOUR+r+this.CN_MIN+a+this.CN_SEC:r+this.CN_MIN+" "+a+this.CN_SEC},t.formatTime2=function(e){var t=Math.floor(e/60)%60,i=Math.floor(e%60),n=10>t?"0"+t:t.toString(),o=10>i?"0"+i:i.toString();return n+":"+o},t.formatTime3=function(e){var t=Math.floor(e/60/60/24),i=Math.floor(e/60/60)%24+24*t,n=Math.floor(e/60)%60,o=Math.floor(e%60),r=10>i?"0"+i:i.toString(),a=10>n?"0"+n:n.toString(),s=10>o?"0"+o:o.toString();return r+":"+a+":"+s},t.formatTime6=function(e){var t=Math.floor(e/60)%60,i=Math.floor(e%60),n=10>t?"0"+t:t.toString(),o=10>i?"0"+i:i.toString();return n+"分"+o+"秒"},t.formatTime7=function(e){var t=new Date(e),i=t.getMinutes(),n=t.getHours(),o=10>n?"0"+n:n.toString(),r=10>i?"0"+i:i.toString();return o+":"+r},t.formatColumnDate=function(e){var t=(e.getMonth()+1<10?"0":"")+(e.getMonth()+1),i=(e.getDate()<10?"0":"")+e.getDate(),n="";return n+=t+"-"+i+" ",n+=(e.getHours()<10?"0":"")+e.getHours(),n+=":",n+=(e.getMinutes()<10?"0":"")+e.getMinutes()},t.formatDate1=function(e){var t=e.getFullYear().toString(),i=(e.getMonth()+1<10?"0":"")+(e.getMonth()+1),n=(e.getDate()<10?"0":"")+e.getDate(),o=e.getHours()<10?"0"+e.getHours():e.getHours().toString(),r=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes().toString();return t+"/"+i+"/"+n+" "+o+":"+r},t.formatYMD=function(e){var t=e.getFullYear()+this.CN_YEAR+(e.getMonth()+1)+this.CN_MONTH+e.getDate()+this.CN_SUN;return t},t.formatYMDForEn=function(e){var t=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear();return t},t.formatYMD1=function(e){var t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+"/";return t},t.formatMD=function(e){var t=e.getMonth()+1+"/"+e.getDate();return t},t.formatRemain=function(e){var t=Math.floor(e/60/60/24),i=Math.floor(e/60/60)%24,n=Math.floor(e/60)%60,o=Math.floor(e%60);return t+this.CN_DAY+" "+i+this.CN_HOUR+" "+n+this.CN_MIN+" "+o+this.CN_SEC},t.formatRemain1=function(e){var t=Math.floor(e/60/60/24),i=Math.floor(e/60/60)%24,n=Math.floor(e/60)%60;return t+this.CN_DAY+i+this.CN_HOUR+n+this.CN_MIN},t.formatRemain3=function(e){var t=Math.floor(e/60/60)%24,i=Math.floor(e/60)%60;return t+" "+this.CN_HOUR+" "+i+" "+this.CN_MIN},t.formatRemain2=function(e){var t=Math.floor(e/60/60/24),i=Math.floor(e/60/60)%24,n=Math.floor(e/60)%60;Math.floor(e%60);return[t,i,n]},t.formatRemain4=function(e){var i="",n=t.getZeroize,o=Math.floor(e/60/60/24);0!=o&&(i+=n(o)+this.CN_DAY);var r=Math.floor(e/60/60)%24;0!=r&&(i+=n(r)+this.CN_HOUR);var a=Math.floor(e/60)%60;0!=a&&(i+=n(a)+this.CN_MIN);var s=Math.floor(e%60);return 0!=s&&(i+=n(s)+this.CN_SEC),i},t.formatRemain5=function(e){var t=Math.floor(e/60/60/24);if(0!=t)return t+"d";var i=Math.floor(e/60/60)%24;if(0!=i)return i+"h";var n=Math.floor(e/60)%60;if(0!=n)return n+"m";var o=Math.floor(e%60);return 0!=o?o+"s":""},t.formatRemain6=function(e){var i="",n=t.getZeroize,o=Math.floor(e/60/60/24);0!=o&&(i+=o+this.CN_DAY+" ");var r=Math.floor(e/60/60)%24;i+=0!=r?n(r)+":":"00:";var a=Math.floor(e/60)%60;i+=0!=a?n(a)+":":"00:";var s=Math.floor(e%60);return i+=0!=s?n(s):"00"},t.formatRemain7=function(e){var i="",n=t.getZeroize,o=Math.floor(e/60/60/24);0!=o&&(i+=o+this.CN_DAY+" ");var r=Math.floor(e/60/60)%24;0!=r&&(i+=n(r)+":");var a=Math.floor(e/60)%60;i+=0!=a?n(a)+":":"00:";var s=Math.floor(e%60);return i+=0!=s?n(s):"00"},t.formatRemain8=function(e){var i="",n=(t.getZeroize,Math.floor(e/60/60/24));0!=n&&(i+=n+this.CN_DAY);var o=Math.floor(e/60/60)%24;0!=o&&(i+=o+this.CN_HOUR);var r=Math.floor(e/60)%60;0!=r&&(i+=r+this.CN_MIN+"钟");var a=Math.floor(e%60);return 0!=a&&(i+=a+this.CN_SEC),i},t.formatRemainForEn=function(e){var t=Math.floor(e/60/60/24),i=Math.floor(e/60/60)%24,n=24*t+i,o=Math.floor(e/60)%60,r=Math.floor(e%60),a=10>n?"0"+n:n.toString(),s=10>o?"0"+o:o.toString(),c=10>r?"0"+r:r.toString();return a+":"+s+":"+c},t.getTimeDifference=function(e,t){var i=[0,0,0,0],n=t-e;return i[0]=Math.floor(n/864e5),i[1]=Math.floor(n%864e5/36e5),i[2]=Math.floor(n%864e5%36e5/6e4),i[3]=Math.floor(n%864e5%36e5%6e4/1e3),i},t.prototype.timeStrToDate=function(e){var t=e.split(" "),i=t[0].split("-"),n=t[1].split("-"),o=new Date(i[0],i[1],i[2],n[0],n[1],n[2]);return o},t.dateStringFillZero=function(e){return(e>=10?(.1*e>>0).toString():"0")+(e%10).toString()},t.gettodayTimeByHour=function(t){var i=e.ServerTime.getZoneOffsetSeverDate();return i.setHours(t),i.setMinutes(0),i.setSeconds(0),i.getTime()/1e3},t.changeServerTimeToSeconds=function(e){var t=new Date(e),i=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();return i},t.timeToMilSeconds=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=1e3*(3600*e+60*t+i);return n},t.getTimeStamp2=function(t,i,n,o,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0);var a=new Date(e.ServerTime.serverTime);return a.setMonth(t-1),a.setDate(i),a.setHours(n),a.setMinutes(o),a.setSeconds(r),a.setMilliseconds(0),a.getTime()},t.getTimeStamp3=function(e,t,i,n,o,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0);var a=new Date;return a.setFullYear(e),a.setMonth(t-1),a.setDate(i),a.setHours(n),a.setMinutes(o),a.setSeconds(r),a.setMilliseconds(0),a.getTime()},t.getCurDay=function(){var t=new Date(e.ServerTime.serverTime),i=t.getDay();return 0==i&&(i=7),i},t.getTimeStamp=function(t,i){var n=new Date(e.ServerTime.serverTime);return n.setHours(t),n.setMinutes(i),n.setSeconds(0),n.setMilliseconds(0),n.getTime()},t.getDayTimeStamp=function(t){var i=e.ServerTime.serverTime+24*t*60*60*1e3;return i},t.getTimeStampByTime=function(e,t,i){var n=new Date(e);return n.setHours(t),n.setMinutes(i),n.setSeconds(0),n.setMilliseconds(0),n.getTime()},t.getBetweenDays=function(e,t){return this.getTotalDaysByTime(e)-this.getTotalDaysByTime(t)},t.getTotalDays=function(e){var t=-8;return Math.floor(e.getTime()-60*t*60*1e3)/864e5},t.getTotalDaysByTime=function(e){var t=-8;return Math.floor((e-60*t*60*1e3)/864e5)},t.getTimeNoHourSecond=function(e){var t=new Date(e),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return i.getTime()},t.getZeroize=function(e){return 10>e?"0"+e:e+""},t.getTodayStartTime=function(){return t.getTimeNoHourSecond(e.ServerTime.serverTime)},t.getTimesplit=function(e){var t={},i=e.split(" "),n=i[0],o=i[1],r=n.split("-");t.year=parseInt(r[0]),t.month=parseInt(r[1]),t.day=parseInt(r[2]);var a=o.split(":");return t.hour=parseInt(a[0]),t.minute=parseInt(a[1]),t.second=parseInt(a[2]),t},t.fun10=function(){var e=new Date;return e.getTime()-60*e.getHours()*60*1e3-60*e.getMinutes()*1e3-1e3*e.getSeconds()-e.getMilliseconds()},t.getWeekByTime=function(e,t,i){(1==t||2==t)&&(t+=12,--e);var n=(i+2*t+Math.floor(3*(t+1)/5)+e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400)+1)%7;return n},t.getWeekByTimeStr=function(e,i,n){var o=t.getWeekByTime(e,i,n),r="";switch(o){case 1:r="星期一";break;case 2:r="星期二";break;case 3:r="星期三";break;case 4:r="星期四";break;case 5:r="星期五";break;case 6:r="星期六";break;case 0:r="星期日"}return r},t.DAY_MICRO_SECONDS=864e5,t.HOUR_MICRO_SECONDS=36e5,t.MINUTE_MICRO_SECONDS=6e4,t.SECOND_MICRO_SECONDS=1e3,t.CN_YEAR="年",t.CN_MONTH="月",t.CN_SUN="日",t.CN_DAY="天",t.CN_HOUR="小时",t.CN_MIN="分",t.CN_SEC="秒",t}();e.TimeUtil=t,__reflect(t.prototype,"qmr.TimeUtil")}(qmr||(qmr={}));var TimeUtil=qmr.TimeUtil,qmr;!function(qmr){var TweenEffectUtil=function(){function TweenEffectUtil(){}return TweenEffectUtil.setAnchorXY=function(e,t,i){void 0===t&&(t=.5),void 0===i&&(i=.5),e.x+=(t-e.anchorOffsetX)*e.scaleX*e.width,e.y+=(i-e.anchorOffsetY)*e.scaleY*e.height,e.anchorOffsetX=t,e.anchorOffsetY=i},TweenEffectUtil.magnifyEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.scaleX=e.scaleY=e.alpha=0;var i=i?i:300;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.restoreEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,skewX:0,skewY:0,scaleX:1,scaleY:1,rotation:0}}],i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.shrinkEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:0,scaleY:0,alpha:0}}];e.scaleX=e.scaleY=e.alpha=1;var i=i?i:300;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.flutterEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:0,anchorX:1}},{percent:.5,attr:{alpha:1,anchorX:0}},{percent:.75,attr:{alpha:0,anchorX:1}},{percent:1,attr:{alpha:1,anchorX:0}}];e.anchorOffsetX=e.alpha=0;var i=i?i:6e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.flutterPositionEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.4,attr:{anchorX:-.3,anchorY:-.2,scaleX:.9,scaleY:.9,alpha:.7}},{percent:.8,attr:{anchorX:-.2,anchorY:-.1,scaleX:.95,scaleY:.95,alpha:.9}},{percent:1,attr:{anchorX:0,anchorY:0,scaleX:1,scaleY:1,alpha:1}}];e.anchorOffsetX=e.anchorOffsetY=0,e.scaleX=e.scaleY=e.alpha=1;var i=i?i:6e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeInEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1}}];e.alpha=0;var i=i?i:500;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeInLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetX:0}}];e.alpha=0,e.anchorOffsetX=50;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeInRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetX:0}}];e.alpha=0,e.anchorOffsetX=-50;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeInUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetY:0}}];e.alpha=0,e.anchorOffsetY=-50;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeInDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetY:0}}];e.alpha=0,e.anchorOffsetY=50;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0}}];e.alpha=1;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeOutLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetX:50}}];e.alpha=1;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)
},TweenEffectUtil.fadeOutRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetX:-50}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeOutDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetY:-50}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.fadeOutUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetY:50}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:800;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.shake=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.22,attr:{anchorX:.1}},{percent:.44,attr:{anchorX:-.1}},{percent:.66,attr:{anchorX:.1}},{percent:.88,attr:{anchorX:-.1}},{percent:1,attr:{anchorX:0}}],i=i?i:450;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.skip=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{scaleY:.8}},{percent:.5,attr:{scaleY:1.2}},{percent:.75,attr:{scaleY:.8}},{percent:1,attr:{scaleY:1}}];e.scaleY=1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.arrowDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:1,anchorY:-.5}},{percent:1,attr:{alpha:.3,anchorY:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.arrowUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:.3,anchorY:.5}},{percent:1,attr:{alpha:1,anchorY:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.arrowRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:.3,anchorX:-.5}},{percent:1,attr:{alpha:1,anchorX:0}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.arrowLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:1,anchorX:.5}},{percent:1,attr:{alpha:.3,anchorX:0}}];e.alpha=1,e.anchorOffsetX=0,n="backIn";var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.flash=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:.4}},{percent:.5,attr:{alpha:.9}},{percent:.75,attr:{alpha:.2}},{percent:1,attr:{alpha:1}}];e.alpha=1;var i=i?i:2e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.flashIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:0}},{percent:.5,attr:{alpha:1}},{percent:.75,attr:{alpha:0}},{percent:1,attr:{alpha:1}}];e.alpha=1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.flashOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:1}},{percent:.5,attr:{alpha:0}},{percent:.75,attr:{alpha:1}},{percent:1,attr:{alpha:0}}];e.alpha=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.rotation=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:1e3,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360},total,easeFun)},TweenEffectUtil.rotationIn=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=object.scaleX=object.scaleY=object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360,scaleX:1,scaleY:1,alpha:1},total,easeFun)},TweenEffectUtil.rotationOut=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.scaleX=object.scaleY=object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360,scaleX:0,scaleY:0,alpha:0},total,easeFun)},TweenEffectUtil.rotationInLeft=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=30,object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:0,alpha:1},total,easeFun)},TweenEffectUtil.rotationInRight=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=-30,object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:0,alpha:1},total,easeFun)},TweenEffectUtil.rotationOutLeft=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:30,alpha:0},total,easeFun)},TweenEffectUtil.rotationOutRight=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:-30,alpha:0},total,easeFun)},TweenEffectUtil.scaleOutRock=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.1,attr:{scaleY:.9,scaleX:.9,rotation:-3}},{percent:.2,attr:{scaleY:.9,scaleX:.9,rotation:-3}},{percent:.3,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.4,attr:{scaleY:1.1,scaleX:1.1,rotation:-3}},{percent:.5,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.6,attr:{scaleY:1.1,scaleX:1.1,rotation:-3}},{percent:.7,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.8,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:1,attr:{scaleY:1,scaleX:1,rotation:0}}];e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.rubberBand=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.3,attr:{scaleX:1.25,scaleY:.75}},{percent:.4,attr:{scaleX:.75,scaleY:1.25}},{percent:.5,attr:{scaleX:1.15,scaleY:.85}},{percent:.65,attr:{scaleX:.95,scaleY:1.05}},{percent:.75,attr:{scaleX:1.05,scaleY:.95}},{percent:1,attr:{scaleX:1,scaleY:1}}];e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounce=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.4,attr:{anchorY:.1}},{percent:.43,attr:{anchorY:.2}},{percent:.7,attr:{anchorY:.1}},{percent:.8,attr:{anchorY:0}},{percent:.9,attr:{anchorY:.04}},{percent:1,attr:{anchorY:0}}];e.anchorOffsetY=0;var i=i?i:500;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{scaleX:1.1,scaleY:1.1}},{percent:.4,attr:{scaleX:.9,scaleY:.9}},{percent:.6,attr:{scaleX:1.03,scaleY:1.03,alpha:1}},{percent:.8,attr:{scaleX:.97,scaleY:.97}},{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.alpha=0,e.scaleX=e.scaleY=.3;var i=i?i:500;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceInDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetY:25,alpha:1}},{percent:.75,attr:{anchorOffsetY:-10,alpha:1}},{percent:.9,attr:{anchorOffsetY:5,alpha:1}},{percent:1,attr:{anchorOffsetY:0,alpha:1}}];e.alpha=0,e.anchorOffsetY=-3e3;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceInUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetY:25,alpha:1}},{percent:.75,attr:{anchorOffsetY:-10,alpha:1}},{percent:.9,attr:{anchorOffsetY:5,alpha:1}},{percent:1,attr:{anchorOffsetY:0,alpha:1}}];e.alpha=0,e.anchorOffsetY=3e3;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceInLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetX:25,alpha:1}},{percent:.75,attr:{anchorOffsetX:-10,alpha:1}},{percent:.9,attr:{anchorOffsetX:5,alpha:1}},{percent:1,attr:{anchorOffsetX:0,alpha:1}}];e.alpha=0,e.anchorOffsetX=-3e3;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceInRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetX:25,alpha:1}},{percent:.75,attr:{anchorOffsetX:-10,alpha:1}},{percent:.9,attr:{anchorOffsetX:5,alpha:1}},{percent:1,attr:{anchorOffsetX:0,alpha:1}}];e.alpha=0,e.anchorOffsetX=3e3;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{scaleX:.9,scaleY:.9}},{percent:.5,attr:{scaleX:1.1,scaleY:1.1}},{percent:.55,attr:{scaleX:1.1,scaleY:1.1}},{percent:1,attr:{scaleX:.3,scaleY:.3,alpha:0}}];e.alpha=e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceOutUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetY:25,alpha:1}},{percent:.4,attr:{anchorOffsetY:-20,alpha:1}},{percent:.45,attr:{anchorOffsetY:-20,alpha:1}},{percent:1,attr:{anchorOffsetY:2e3,alpha:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceOutDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetY:-10,alpha:1}},{percent:.4,attr:{anchorOffsetY:20,alpha:1}},{percent:.45,attr:{anchorOffsetY:20,alpha:1}},{percent:1,attr:{anchorOffsetY:-2e3,alpha:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceOutLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetX:-25,alpha:1}},{percent:1,attr:{anchorOffsetX:2e3,alpha:0}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.bounceOutRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetX:25,alpha:1}},{percent:1,attr:{anchorOffsetX:-2e3,alpha:0}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.swing=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{rotation:15}},{percent:.4,attr:{rotation:-10}},{percent:.6,attr:{rotation:5}},{percent:.8,attr:{rotation:-5}},{percent:1,attr:{rotation:0}}];e.rotation=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.scaleIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.alpha=0,e.scaleX=e.scaleY=1.2;var i=i?i:500;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.scaleOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1.2,scaleY:1.2,alpha:0}}];e.alpha=1,e.scaleX=e.scaleY=1;var i=i?i:500;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.scaleInBig=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.alpha=0,e.scaleX=e.scaleY=3;var i=i?i:500;n="quadIn",TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.scaleOutBig=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:3,scaleY:3,alpha:0}}];e.alpha=1,e.scaleX=e.scaleY=1;var i=i?i:500;n="quadIn",TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.rightSpeedIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{skewX:20,alpha:1,anchorX:-.4}},{percent:.8,attr:{skewX:-5,alpha:1,anchorX:-.2}},{percent:1,attr:{skewX:0,alpha:1,anchorX:0}}];e.skewX=e.alpha=0,e.anchorOffsetX=-1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.pluse=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{scaleX:1.1,scaleY:1.1}},{percent:1,attr:{scaleX:1,scaleY:1}}];e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.rotationFlash=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{rotation:5}},{percent:.75,attr:{rotation:-5}},{percent:1,attr:{rotation:0}}];e.rotation=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.breath=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{scaleX:.92,scaleY:.92,alpha:.7}},{percent:.5,attr:{scaleX:1,scaleY:1,alpha:1}},{percent:.75,attr:{scaleX:.92,scaleY:.92,alpha:.7}},{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.scaleX=e.scaleY=e.alpha=1;var i=i?i:5e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.shiftUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{anchorY:1}},{percent:1,attr:{anchorY:0}}];e.anchorOffsetY=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.shiftDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{anchorY:-1}},{percent:1,attr:{anchorY:0}}];e.anchorOffsetY=0;var i=i?i:1e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.jump=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.4,attr:{scaleX:1.1,scaleY:.9,anchorY:.8}},{percent:.55,attr:{scaleX:1.8,scaleY:.2,anchorY:.9}},{percent:.65,attr:{scaleX:.6,scaleY:1.4,anchorY:.3}},{percent:1,attr:{scaleX:1,scaleY:1,anchorY:0}}];e.anchorOffsetY=0,e.scaleX=e.scaleY=1;var i=i?i:2e3;TweenEffectUtil.start(e,r,t,i,n,o)},TweenEffectUtil.rock=function(e,t,i,n){void 0===t&&(t=25),void 0===i&&(i=70),void 0===n&&(n=!1);var o=e.rotation,r=o+30,a=10*Math.random()+5,s=e.x;egret.Tween.get(e,{loop:n}).to({x:s+a,rotation:t+r},i).to({x:s,rotation:r},i).to({x:s-a,rotation:r-t},i).to({rotation:r},i).to({x:s,rotation:t+r},i).to({x:s+a,rotation:r},i).to({x:s,rotation:o},i)},TweenEffectUtil.fly=function(e,t,i,n,o){void 0===t&&(t=500),void 0===i&&(i=3),void 0===n&&(n=!0),void 0===o&&(o=1);var r,a;r=e.x,a=e.y,1==o?egret.Tween.get(e,{loop:n}).to({y:a+i},t).to({y:a},t).to({y:a-i},t).to({y:a},t):egret.Tween.get(e,{loop:n}).to({x:r+i},t).to({x:r},t).to({x:r-i},t).to({x:r},t)},TweenEffectUtil.clickEffect=function(e){egret.Tween.get(e).to({scaleX:.9,scaleY:.9},100).to({scaleX:1,scaleY:1},80)},TweenEffectUtil.start=function(object,attr,delay,total,easeFunName,isLoop){void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),TweenEffectUtil.removeTimeout(object);var index=0,attr=attr,total=total,tweenTime=0;if(easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;var t=setTimeout(function e(){if(index>=attr.length){if(!isLoop)return;index=0}tweenTime=index>0?(attr[index].percent-attr[index-1].percent)*total:attr[index].percent*total,egret.Tween.get(object).to(attr[index].attr,tweenTime,easeFun).call(e,this),index++},delay);TweenEffectUtil.addTimeout(object,t)},TweenEffectUtil.addTimeout=function(e,t){TweenEffectUtil._timeoutDic||(TweenEffectUtil._timeoutDic=new qmr.Dictionary),TweenEffectUtil._timeoutDic.set(e,t)},TweenEffectUtil.removeTimeout=function(e){if(TweenEffectUtil._timeoutDic){var t=TweenEffectUtil._timeoutDic.get(e);t>0&&clearInterval(t)}},TweenEffectUtil.walk=function(e,t,i,n){void 0===i&&(i=8),void 0===n&&(n=180);var o=e.y,r=o-30,a=o+10;egret.Tween.get(e,{loop:t}).to({y:a,scaleX:1.07,scaleY:1.07},n).to({y:r},n+20).to({y:r,scaleX:1,scaleY:1},30).to({y:o},n).wait(30)},TweenEffectUtil.breathe=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),TweenEffectUtil.removeTimeout(e);var r=e.scaleX,a=e.scaleY,s=[{percent:.25,attr:{scaleX:.95*r,scaleY:.95*a}},{percent:.5,attr:{scaleX:r,scaleY:a}},{percent:.75,attr:{scaleX:.95*r,scaleY:.95*a}},{percent:1,attr:{scaleX:r,scaleY:a}}];e.scaleX=r,e.scaleY=a;var i=i?i:5e3;TweenEffectUtil.start(e,s,t,i,n,o)},TweenEffectUtil.shake2=function(e,t,i){void 0===t&&(t=200),void 0===i&&(i=""),egret.Tween.removeTweens(e);for(var n,o=Math.floor(t/50),r=e.x,a=e.y,s=r-3,c=r+3,l=a-3,f=a+3,h={percent:1,attr:{x:r,y:a}},u=o+1,p=[],_=0,g=1;o>=g;g++)_=parseFloat((g/u).toFixed(2)),n={percent:_},g%2==1?n.attr={x:s,y:l}:n.attr={x:c,y:f},p.push(n);p.push(h);var t=t?t:200;TweenEffectUtil.start(e,p,0,t,i,!1)},TweenEffectUtil.stopWalk=function(e,t){void 0===t&&(t=180),egret.Tween.removeTweens(e),egret.Tween.get(e).to({x:0,y:0},t)},TweenEffectUtil.attack=function(e,t,i){void 0===t&&(t=20),void 0===i&&(i=200);var n=e.y,o=n-t;egret.Tween.removeTweens(e),egret.Tween.get(e).to({y:o,scaleX:1.1,scaleY:1.1},i,egret.Ease.quintOut).to({y:n,scaleX:1,scaleY:1},1.5*i,egret.Ease.quadOut)},TweenEffectUtil.attack2=function(e,t){void 0===t&&(t=200);var i=30,n=-45,o=25,r=e.x,a=e.y,s=r+20,c=a+10,l=r-20,f=a-40;egret.Tween.get(e).to({x:s,y:c,rotation:i,scaleX:.7,scaleY:.7},.5*t).to({x:l,y:f,rotation:n,scaleX:1.1,scaleY:1.1},.5*t).to({x:r,y:a,rotation:o,scaleX:1,scaleY:1},.8*t).to({rotation:0},.3*t)},TweenEffectUtil.playHit=function(e,t,i){void 0===t&&(t=100),void 0===i&&(i=20);var n=e.x,o=e.y,r=n+i,a=o+i,s=n-i,c=o-i;egret.Tween.removeTweens(e),egret.Tween.get(e).to({x:r,y:a},t).to({x:s,y:c},t,egret.Ease.cubicInOut).to({x:n,y:o},t)},TweenEffectUtil.npcfly=function(e,t,i,n,o,r){function a(e){r.scaleX=e}void 0===t&&(t=500),void 0===i&&(i=3),void 0===n&&(n=3),console.log("npcfly............");var s,c;s=e.x,c=e.y;var l=egret.Tween.get(e,{loop:o}).to({y:n,x:i},t).wait(300).call(a,this,[-1]).wait(300).to({y:900,x:200},t).wait(300).to({y:400,x:700},t).wait(300).call(a,this,[1]).wait(300).to({y:1200,x:350},t).wait(300).call(a,this,[-1]).wait(300).to({y:c,x:s},t).wait(300).call(a,this,[1]).wait(300);return l},TweenEffectUtil.quiclyLargenThenResetSizeThenDisappear=function(e,t,i,n,o){e.scaleX=0,e.scaleY=0;var r=this;return egret.Tween.get(e).to({scaleX:1.3,scaleY:1.3},t).wait(i).to({scaleX:1,scaleY:1},n).wait(o).call(function(){egret.Tween.removeTweens(e),e.parent.removeChild(e)},r),!0},TweenEffectUtil.generateImageTip=function(e){var t=new eui.Image(e),i=this;t.addEventListener(egret.Event.COMPLETE,function(){t.x=qmr.StageUtil.stageWidth/2-t.width/2,t.y=qmr.StageUtil.stageHeight/2;var e=qmr.StageUtil.stageHeight/3;egret.Tween.get(t).to({y:e},1e3).call(function(){egret.Tween.removeTweens(t),t.parent.removeChild(t)},i)},i),qmr.StageUtil.stage.addChild(t)},TweenEffectUtil.createBullet=function(e){var t=this,i=TweenEffectUtil.effectPool.bulletScreenPool;i||(i=TweenEffectUtil.effectPool.bulletScreenPool=[]);var n;return i.length>0?(n=i.pop(),n.text=e,qmr.LogUtil.log("createBullet bulletScreenPool pop",i),n):(n=new eui.Label(e),n.fontFamily="specialGameFont",n.stroke=1,n.strokeColor=8404743,n.size=26,n.touchEnabled=!1,n.addEventListener(egret.Event.REMOVED_FROM_STAGE,function(e){e.currentTarget.parent&&e.currentTarget.parent.removeChild(e.currentTarget),egret.Tween.removeTweens(e.currentTarget),TweenEffectUtil.releaseBullet(e.currentTarget)},t),qmr.LogUtil.log("createBullet bulletScreenPool createBullet",n),n)},TweenEffectUtil.releaseBullet=function(e){var t=TweenEffectUtil.effectPool.bulletScreenPool;t.push(e),qmr.LogUtil.log("releaseBullet bulletScreenPool",t)},TweenEffectUtil.generateBulletScreen=function(e,t){void 0===t&&(t=null),t||(t=qmr.StageUtil.stage);var i=this,n=TweenEffectUtil.createBullet(e),o=qmr.StageUtil.stage.stageWidth,r=Math.random()*(.6*qmr.StageUtil.stage.stageHeight)+.2*qmr.StageUtil.stage.stageHeight;n.x=o,n.y=r;var a=0-n.width;e.length;var s=5e3+70*e.length;egret.Tween.get(n).to({x:a},s).call(function(){egret.Tween.removeTweens(n),n.parent.removeChild(n)},i),t.addChild(n)},TweenEffectUtil.effectPool={},TweenEffectUtil}();qmr.TweenEffectUtil=TweenEffectUtil,__reflect(TweenEffectUtil.prototype,"qmr.TweenEffectUtil")}(qmr||(qmr={}));var DataCenter=function(e){function t(){var t=e.call(this)||this;return t.pathJsonData=void 0,t.mPaths=new Array,t.LoadData(),t}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new t),this.m_Instance},enumerable:!0,configurable:!0}),t.clearInstance=function(){this.m_Instance.destroy(),this.m_Instance=null},t.prototype.LoadData=function(){this.loadDataFromUrl()},t.prototype.calcAngleAndDistance=function(e,t){var i=t.x-e.x,n=t.y-e.y,o=0;o=.001>i&&i>-.001?0>n?90:270:180*Math.atan(n/i);var r=Math.sqrt(i*i+n*n);return{angle:o,dist:r}},t.prototype.getPathIds=function(){for(var e=[],t=0;t<this.mPaths.length;t++)e.push(this.mPaths[t].id);return e},t.prototype.getDataByPathIndex=function(e){return this.mPaths[e]},t.prototype.getDataByPathId=function(e){var t=void 0;return this.mPaths.some(function(i){return(i.id=e)?(t=i,!0):!1}),t},t.prototype.addData=function(e,t){for(var i=0,n=this.mPaths;i<n.length;i++){var o=n[i];if(o.id==e)return!1}return this.mPaths.push({id:e,path:t}),!0},t.prototype.setData=function(e,t,i){for(var n=0;n<this.mPaths.length;n++)if(n!=e&&this.mPaths[n].id==t)return!1;return this.mPaths[e]={id:t,path:i},!0},t.prototype.removeData=function(e){this.mPaths.splice(e,1)},t.prototype.loadDataFromUrl=function(){if(this._url="resource/table/TableFishPath.json",RES.hasRes(this._url)){var e=RES.getRes(this._url);this.loadedComplete(e,this._url)}else null!=this._url&&RES.hasRes(this._url)&&RES.destroyRes(this._url),RES.getResByUrl(this._url,this.loadedComplete,this,RES.ResourceItem.TYPE_JSON)},t.prototype.loadedComplete=function(e,i){if(this.pathJsonData=e,e&&this._url==i){egret.log("onLoadUrlComplete!");for(var n={},o=e.length,r=0;o>r;r++){var a=e[r],s=a.id,c=n[s]||[];c.push(a),n[s]=c}for(var l in n)if(n.hasOwnProperty(l)){var f=n[l];t.Instance.addData(l,f)}}else RES.destroyRes(i)},t.prototype.destroy=function(){},t.superpositionOption=[],t.SAVE_REMOTE_DATA_URL="http://172.33.0.2:8090/saveresult.php",t.SAVE_JSON_DATA_URL="http://172.33.0.2:8090/savejsonresult.php",t.LOAD_REMOTE_DATA_URL="http://123.207.4.125/fish/loadresult.php",t.DOWNLOAD_CONFIG_URL="http://123.207.4.125/fish/pathresult.csv",t}(egret.EventDispatcher);__reflect(DataCenter.prototype,"DataCenter");var FishBehavior=function(){function e(e,t){void 0===t&&(t=void 0),this.SequentialMovement=0,this.fishMc=void 0,this.pathId=void 0,this.$scalew=.9,this.$scaleh=.95,this.fishMc=e,this.pathId=t}return e.prototype.onanimationButtons=function(){if(this.fishMc&&this.pathId){this.SequentialMovement=0;var e=0,t=DataCenter.Instance.getDataByPathId(this.pathId),i=DataCenter.Instance.pathJsonData.filter(function(e){return e.id==t.id});this.fishMc.x=i[0].x*this.$scalew+70,this.fishMc.y=i[0].y*this.$scaleh,this.onanimationButtonsData([this.fishMc,t.id,e])}},e.prototype.onanimationButtonsData=function(e){var t=DataCenter.Instance.pathJsonData.filter(function(t){return t.id==e[1]});if(t[e[2]+1]){var i=this.getAngleByPoint({x:t[e[2]].x*this.$scalew,y:t[e[2]].y*this.$scaleh},{x:t[e[2]+1].x*this.$scalew,y:t[e[2]+1].y*this.$scaleh})-90,n=[e[0],e[1],e[2]+1];egret.Tween.get(e[0]).to({x:t[e[2]+1].x*this.$scalew+70,y:t[e[2]+1].y*this.$scaleh,rotation:i},500).call(this.onanimationButtonsData,this,[n])}else this.SequentialMovement=0},e.prototype.getAngleByPoint=function(e,t){var i=e.x,n=e.y,o=t.x,r=t.y,a=Math.abs(i-o),s=Math.abs(n-r),c=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),l=s/c,f=Math.acos(l),h=Math.floor(180/(Math.PI/f));return o>i&&r>n&&(h=180-h),o==i&&r>n&&(h=180),o>i&&r==n&&(h=90),i>o&&r>n&&(h=180+h),i>o&&r==n&&(h=270),i>o&&n>r&&(h=360-h),h},e}();__reflect(FishBehavior.prototype,"FishBehavior");var table;!function(e){var t=function(){function e(){}return e.prototype.GetType=function(){return"table.TableFishPath"},e}();e.TableFishPath=t,__reflect(t.prototype,"table.TableFishPath")}(table||(table={}));var qr;!function(e){var t=function(){function t(t){this.mode=e.QRMode.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var i=0,n=this.data.length;n>i;i++){var o=[],r=this.data.charCodeAt(i);r>65536?(o[0]=240|(1835008&r)>>>18,o[1]=128|(258048&r)>>>12,o[2]=128|(4032&r)>>>6,o[3]=128|63&r):r>2048?(o[0]=224|(61440&r)>>>12,o[1]=128|(4032&r)>>>6,o[2]=128|63&r):r>128?(o[0]=192|(1984&r)>>>6,o[1]=128|63&r):o[0]=r,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}return t.prototype.getLength=function(e){return this.parsedData.length},t.prototype.write=function(e){for(var t=0,i=this.parsedData.length;i>t;t++)e.put(this.parsedData[t],8)},t}();e.QR8bitByte=t,__reflect(t.prototype,"qr.QR8bitByte")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){this.buffer=[],this.length=0}return e.prototype.get=function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},e.prototype.put=function(e,t){for(var i=0;t>i;i++)this.putBit(1==(e>>>t-i-1&1))},e.prototype.getLengthInBits=function(){return this.length},e.prototype.putBit=function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++},e}();e.QRBitBuffer=t,__reflect(t.prototype,"qr.QRBitBuffer")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(){}return t.create=function(i,n,o,r,a,s){void 0===n&&(n=256),void 0===o&&(o=256),void 0===r&&(r=e.QRErrorCorrectLevel.M),void 0===a&&(a=4),void 0===s&&(s=0);var c={color:s,width:n,height:o,correctLevel:r,typeNumer:a},l=new e.QRCodeModel(c.typeNumer,c.correctLevel);return l.addData(i),l.make(),t.draw(l,c)},t.draw=function(e,t){var i=new egret.Sprite,t=t,n=e.getModuleCount(),o=t.width/n,r=t.height/n,a=10;i.graphics.moveTo(-a,-a),i.graphics.beginFill(16777215),i.graphics.drawRect(-a,-a,t.width+2*a,t.height+2*a),i.graphics.endFill();for(var s=0;n>s;s++)for(var c=0;n>c;c++){var l=e.isDark(s,c);l&&(i.graphics.moveTo(c*o,s*r),i.graphics.beginFill(t.color),i.graphics.drawRect(c*o,s*r,o,r),i.graphics.endFill())}return i},t}();e.QRCode=t,__reflect(t.prototype,"qr.QRCode")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(e,t){this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}return t.prototype.addData=function(t){var i=new e.QR8bitByte(t);this.dataList.push(i),this.dataCache=null},t.prototype.isDark=function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},t.prototype.getModuleCount=function(){return this.moduleCount},t.prototype.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},t.prototype.makeImpl=function(e,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,i),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},t.prototype.setupPositionProbePattern=function(e,t){for(var i=-1;7>=i;i++)if(!(-1>=e+i||this.moduleCount<=e+i))for(var n=-1;7>=n;n++)-1>=t+n||this.moduleCount<=t+n||(i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?this.modules[e+i][t+n]=!0:this.modules[e+i][t+n]=!1)},t.prototype.getBestMaskPattern=function(){for(var t=0,i=0,n=0;8>n;n++){this.makeImpl(!0,n);var o=e.QRUtil.getLostPoint(this);(0==n||t>o)&&(t=o,i=n)}return i},t.prototype.createMovieClip=function(e,t,i){var n=e.createEmptyMovieClip(t,i),o=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*o,s=0;s<this.modules[r].length;s++){var c=s*o,l=this.modules[r][s];l&&(n.beginFill(0,100),n.moveTo(c,a),n.lineTo(c+o,a),n.lineTo(c+o,a+o),n.lineTo(c,a+o),n.endFill())}return n},t.prototype.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},t.prototype.setupPositionAdjustPattern=function(){for(var t=e.QRUtil.getPatternPosition(this.typeNumber),i=0;i<t.length;i++)for(var n=0;n<t.length;n++){var o=t[i],r=t[n];if(null==this.modules[o][r])for(var a=-2;2>=a;a++)for(var s=-2;2>=s;s++)-2==a||2==a||-2==s||2==s||0==a&&0==s?this.modules[o+a][r+s]=!0:this.modules[o+a][r+s]=!1}},t.prototype.setupTypeNumber=function(t){for(var i=e.QRUtil.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var o=!t&&1==(i>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(var n=0;18>n;n++){var o=!t&&1==(i>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=o}},t.prototype.setupTypeInfo=function(t,i){for(var n=this.errorCorrectLevel<<3|i,o=e.QRUtil.getBCHTypeInfo(n),r=0;15>r;r++){var a=!t&&1==(o>>r&1);
6>r?this.modules[r][8]=a:8>r?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var r=0;15>r;r++){var a=!t&&1==(o>>r&1);8>r?this.modules[8][this.moduleCount-r-1]=a:9>r?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!t},t.prototype.mapData=function(t,i){for(var n=-1,o=this.moduleCount-1,r=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;2>c;c++)if(null==this.modules[o][s-c]){var l=!1;a<t.length&&(l=1==(t[a]>>>r&1));var f=e.QRUtil.getMask(i,o,s-c);f&&(l=!l),this.modules[o][s-c]=l,r--,-1==r&&(a++,r=7)}if(o+=n,0>o||this.moduleCount<=o){o-=n,n=-n;break}}},t.createData=function(i,n,o){for(var r=e.QRRSBlock.getRSBlocks(i,n),a=new e.QRBitBuffer,s=0;s<o.length;s++){var c=o[s];a.put(c.mode,4),a.put(c.getLength(),e.QRUtil.getLengthInBits(c.mode,i)),c.write(a)}for(var l=0,s=0;s<r.length;s++)l+=r[s].dataCount;if(a.getLengthInBits()>8*l)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*l+")");for(a.getLengthInBits()+4<=8*l&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*l)&&(a.put(t.PAD0,8),!(a.getLengthInBits()>=8*l));)a.put(t.PAD1,8);return t.createBytes(a,r)},t.createBytes=function(t,i){for(var n=0,o=0,r=0,a=new Array(i.length),s=new Array(i.length),c=0;c<i.length;c++){var l=i[c].dataCount,f=i[c].totalCount-l;o=Math.max(o,l),r=Math.max(r,f),a[c]=new Array(l);for(var h=0;h<a[c].length;h++)a[c][h]=255&t.buffer[h+n];n+=l;var u=e.QRUtil.getErrorCorrectPolynomial(f),p=new e.QRPolynomial(a[c],u.getLength()-1),_=p.mod(u);s[c]=new Array(u.getLength()-1);for(var h=0;h<s[c].length;h++){var g=h+_.getLength()-s[c].length;s[c][h]=g>=0?_.get(g):0}}for(var d=0,h=0;h<i.length;h++)d+=i[h].totalCount;for(var m=new Array(d),y=0,h=0;o>h;h++)for(var c=0;c<i.length;c++)h<a[c].length&&(m[y++]=a[c][h]);for(var h=0;r>h;h++)for(var c=0;c<i.length;c++)h<s[c].length&&(m[y++]=s[c][h]);return m},t.PAD0=236,t.PAD1=17,t}();e.QRCodeModel=t,__reflect(t.prototype,"qr.QRCodeModel")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.L=1,e.M=0,e.Q=3,e.H=2,e}();e.QRErrorCorrectLevel=t,__reflect(t.prototype,"qr.QRErrorCorrectLevel")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.PATTERN000=0,e.PATTERN001=1,e.PATTERN010=2,e.PATTERN011=3,e.PATTERN100=4,e.PATTERN101=5,e.PATTERN110=6,e.PATTERN111=7,e}();e.QRMaskPattern=t,__reflect(t.prototype,"qr.QRMaskPattern")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.glog=function(t){return e.isInit||e.init(),1>t&&console.log("错误:n="+t),e.LOG_TABLE[t]},e.gexp=function(t){for(e.isInit||e.init();0>t;)t+=255;for(;t>=256;)t-=255;return e.EXP_TABLE[t]},e.init=function(){e.isInit=!0;for(var t=0;8>t;t++)e.EXP_TABLE[t]=1<<t;for(var t=8;256>t;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(var t=0;255>t;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t},e.EXP_TABLE=new Array(256),e.LOG_TABLE=new Array(256),e}();e.QRMath=t,__reflect(t.prototype,"qr.QRMath")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.MODE_NUMBER=1,e.MODE_ALPHA_NUM=2,e.MODE_8BIT_BYTE=4,e.MODE_KANJI=8,e}();e.QRMode=t,__reflect(t.prototype,"qr.QRMode")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}return t.prototype.get=function(e){return this.num[e]},t.prototype.getLength=function(){return this.num.length},t.prototype.multiply=function(i){for(var n=new Array(this.getLength()+i.getLength()-1),o=0;o<this.getLength();o++)for(var r=0;r<i.getLength();r++)n[o+r]^=e.QRMath.gexp(e.QRMath.glog(this.get(o))+e.QRMath.glog(i.get(r)));return new t(n,0)},t.prototype.mod=function(i){if(this.getLength()-i.getLength()<0)return this;for(var n=e.QRMath.glog(this.get(0))-e.QRMath.glog(i.get(0)),o=new Array(this.getLength()),r=0;r<this.getLength();r++)o[r]=this.get(r);for(var r=0;r<i.getLength();r++)o[r]^=e.QRMath.gexp(e.QRMath.glog(i.get(r))+n);return new t(o,0).mod(i)},t}();e.QRPolynomial=t,__reflect(t.prototype,"qr.QRPolynomial")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(e,t){this.totalCount=e,this.dataCount=t}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(e,i){var n=t.getRsBlockTable(e,i);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+i);for(var o=n.length/3,r=[],a=0;o>a;a++)for(var s=n[3*a+0],c=n[3*a+1],l=n[3*a+2],f=0;s>f;f++)r.push(new t(c,l));return r},t.getRsBlockTable=function(i,n){switch(n){case e.QRErrorCorrectLevel.L:return t.RS_BLOCK_TABLE[4*(i-1)+0];case e.QRErrorCorrectLevel.M:return t.RS_BLOCK_TABLE[4*(i-1)+1];case e.QRErrorCorrectLevel.Q:return t.RS_BLOCK_TABLE[4*(i-1)+2];case e.QRErrorCorrectLevel.H:return t.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},t}();e.QRRSBlock=t,__reflect(t.prototype,"qr.QRRSBlock")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(){}return t.getBCHTypeInfo=function(e){for(var i=e<<10;t.getBCHDigit(i)-t.getBCHDigit(t.G15)>=0;)i^=t.G15<<t.getBCHDigit(i)-t.getBCHDigit(t.G15);return(e<<10|i)^t.G15_MASK},t.getBCHTypeNumber=function(e){for(var i=e<<12;t.getBCHDigit(i)-t.getBCHDigit(t.G18)>=0;)i^=t.G18<<t.getBCHDigit(i)-t.getBCHDigit(t.G18);return e<<12|i},t.getBCHDigit=function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},t.getPatternPosition=function(e){return t.PATTERN_POSITION_TABLE[e-1]},t.getMask=function(t,i,n){switch(t){case e.QRMaskPattern.PATTERN000:return(i+n)%2==0;case e.QRMaskPattern.PATTERN001:return i%2==0;case e.QRMaskPattern.PATTERN010:return n%3==0;case e.QRMaskPattern.PATTERN011:return(i+n)%3==0;case e.QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case e.QRMaskPattern.PATTERN101:return i*n%2+i*n%3==0;case e.QRMaskPattern.PATTERN110:return(i*n%2+i*n%3)%2==0;case e.QRMaskPattern.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},t.getErrorCorrectPolynomial=function(t){for(var i=new e.QRPolynomial([1],0),n=0;t>n;n++)i=i.multiply(new e.QRPolynomial([1,e.QRMath.gexp(n)],0));return i},t.getLengthInBits=function(t,i){if(i>=1&&10>i)switch(t){case e.QRMode.MODE_NUMBER:return 10;case e.QRMode.MODE_ALPHA_NUM:return 9;case e.QRMode.MODE_8BIT_BYTE:return 8;case e.QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>i)switch(t){case e.QRMode.MODE_NUMBER:return 12;case e.QRMode.MODE_ALPHA_NUM:return 11;case e.QRMode.MODE_8BIT_BYTE:return 16;case e.QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>i))throw new Error("type:"+i);switch(t){case e.QRMode.MODE_NUMBER:return 14;case e.QRMode.MODE_ALPHA_NUM:return 13;case e.QRMode.MODE_8BIT_BYTE:return 16;case e.QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},t.getLostPoint=function(e){for(var t=e.getModuleCount(),i=0,n=0;t>n;n++)for(var o=0;t>o;o++){for(var r=0,a=e.isDark(n,o),s=-1;1>=s;s++)if(!(0>n+s||n+s>=t))for(var c=-1;1>=c;c++)0>o+c||o+c>=t||(0!=s||0!=c)&&a==e.isDark(n+s,o+c)&&r++;r>5&&(i+=3+r-5)}for(var n=0;t-1>n;n++)for(var o=0;t-1>o;o++){var l=0;e.isDark(n,o)&&l++,e.isDark(n+1,o)&&l++,e.isDark(n,o+1)&&l++,e.isDark(n+1,o+1)&&l++,(0==l||4==l)&&(i+=3)}for(var n=0;t>n;n++)for(var o=0;t-6>o;o++)e.isDark(n,o)&&!e.isDark(n,o+1)&&e.isDark(n,o+2)&&e.isDark(n,o+3)&&e.isDark(n,o+4)&&!e.isDark(n,o+5)&&e.isDark(n,o+6)&&(i+=40);for(var o=0;t>o;o++)for(var n=0;t-6>n;n++)e.isDark(n,o)&&!e.isDark(n+1,o)&&e.isDark(n+2,o)&&e.isDark(n+3,o)&&e.isDark(n+4,o)&&!e.isDark(n+5,o)&&e.isDark(n+6,o)&&(i+=40);for(var f=0,o=0;t>o;o++)for(var n=0;t>n;n++)e.isDark(n,o)&&f++;var h=Math.abs(100*f/t/t-50)/5;return i+=10*h},t.prototype.static_isSupportCanvas=function(){return"undefined"!=typeof CanvasRenderingContext2D},t._getTypeNumber=function(i,n){for(var o=1,r=t._getUTF8Length(i),a=0,s=t.QRCodeLimitLength.length;s>=a;a++){var c=0;switch(n){case e.QRErrorCorrectLevel.L:c=t.QRCodeLimitLength[a][0];break;case e.QRErrorCorrectLevel.M:c=t.QRCodeLimitLength[a][1];break;case e.QRErrorCorrectLevel.Q:c=t.QRCodeLimitLength[a][2];break;case e.QRErrorCorrectLevel.H:c=t.QRCodeLimitLength[a][3]}if(c>=r)break;o++}if(o>t.QRCodeLimitLength.length)throw new Error("Too long data");return o},t._getUTF8Length=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)},t.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t.G15=1335,t.G18=7973,t.G15_MASK=21522,t.QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],t}();e.QRUtil=t,__reflect(t.prototype,"qr.QRUtil")}(qr||(qr={}));